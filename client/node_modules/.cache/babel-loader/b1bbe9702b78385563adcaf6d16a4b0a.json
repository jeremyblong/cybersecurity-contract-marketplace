{"ast":null,"code":"import React,{Fragment,useState,useEffect,useCallback}from'react';import{Form,Row}from'reactstrap';import{X}from'react-feather';import{MENUITEMS}from'../sidebar/menu';import LeftHeader from'./leftbar';import RightHeader from'./rightbar';import{Link}from'react-router-dom';import{Loading}from'../../constant';import{useSelector}from'react-redux';import axios from\"axios\";import{connect}from\"react-redux\";const Header=_ref=>{let{data,ready,balance}=_ref;// eslint-disable-next-line\nconst[mainmenu,setMainMenu]=useState(MENUITEMS);const[searchValue,setsearchValue]=useState('');// eslint-disable-next-line\nconst[searchResult,setSearchResult]=useState(false);// eslint-disable-next-line\nconst[searchResultEmpty,setSearchResultEmpty]=useState(false);const layout_type=useSelector(content=>content.Customizer.layout);const layout_version=useSelector(content=>content.Customizer.mix_background_layout);const escFunction=useCallback(event=>{if(event.keyCode===27){setsearchValue('');}},[]);useEffect(()=>{document.addEventListener(\"keydown\",escFunction,false);return()=>{document.removeEventListener(\"keydown\",escFunction,false);};},[escFunction]);const handleSearchKeyword=keyword=>{keyword?addFix():removeFix();const items=[];setsearchValue(keyword);mainmenu.map(menuItems=>{menuItems.Items.filter(mItems=>{if(mItems.title.toLowerCase().includes(keyword)&&mItems.type==='link'){items.push(mItems);}if(!mItems.children)return false;mItems.children.filter(subItems=>{if(subItems.title.toLowerCase().includes(keyword)&&subItems.type==='link'){subItems.icon=mItems.icon;items.push(subItems);}if(!subItems.children)return false;subItems.children.filter(suSubItems=>{if(suSubItems.title.toLowerCase().includes(keyword)){suSubItems.icon=mItems.icon;items.push(suSubItems);}return suSubItems;});return subItems;});checkSearchResultEmpty(items);setsearchValue(items);return mItems;});return menuItems;});};const checkSearchResultEmpty=items=>{if(!items.length){setSearchResultEmpty(true);document.querySelector(\".empty-menu\").classList.add('is-open');}else{setSearchResultEmpty(false);document.querySelector(\".empty-menu\").classList.remove('is-open');}};const addFix=()=>{setSearchResult(true);document.querySelector(\".Typeahead-menu\").classList.add('is-open');document.body.className=\"\".concat(layout_version,\" \").concat(layout_type,\" offcanvas\");};const removeFix=()=>{setSearchResult(false);setsearchValue('');document.querySelector(\".Typeahead-menu\").classList.remove('is-open');document.body.className=\"\".concat(layout_version,\" \").concat(layout_type);};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"page-header\"},/*#__PURE__*/React.createElement(Row,{className:\"header-wrapper m-0\"},/*#__PURE__*/React.createElement(Form,{className:\"form-inline search-full\",action:\"#\",method:\"get\"},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group w-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"Typeahead Typeahead--twitterUsers\"},/*#__PURE__*/React.createElement(\"div\",{className:\"u-posRelative\"},/*#__PURE__*/React.createElement(\"input\",{className:\"Typeahead-input form-control-plaintext w-100\",id:\"demo-input\",type:\"search\",placeholder:\"Search Cuba ..\",defaultValue:searchValue,onChange:e=>handleSearchKeyword(e.target.value)}),/*#__PURE__*/React.createElement(\"div\",{className:\"spinner-border Typeahead-spinner\",role:\"status\"},/*#__PURE__*/React.createElement(\"span\",{className:\"sr-only\"},Loading)),/*#__PURE__*/React.createElement(X,{className:\"close-search\",onClick:()=>document.querySelector(\".search-full\").classList.remove(\"open\")})),/*#__PURE__*/React.createElement(\"div\",{className:\"Typeahead-menu custom-scrollbar\",id:\"search-outer\"},searchValue?searchValue.map((data,index)=>{return/*#__PURE__*/React.createElement(\"div\",{className:\"ProfileCard u-cf\",key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"ProfileCard-avatar\"},/*#__PURE__*/React.createElement(data.icon,null)),/*#__PURE__*/React.createElement(\"div\",{className:\"ProfileCard-details\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ProfileCard-realName\"},/*#__PURE__*/React.createElement(Link,{to:data.path,className:\"realname\",onClick:removeFix},data.title))));}):''),/*#__PURE__*/React.createElement(\"div\",{className:\"Typeahead-menu empty-menu\"},/*#__PURE__*/React.createElement(\"div\",{className:\"tt-dataset tt-dataset-0\"},/*#__PURE__*/React.createElement(\"div\",{className:\"EmptyMessage\"},\"Opps!! There are no result found.\")))))),/*#__PURE__*/React.createElement(LeftHeader,null),/*#__PURE__*/React.createElement(RightHeader,{ready:ready,balance:balance}))));};const mapStateToProps=state=>{return{data:state.auth.data};};export default connect(mapStateToProps,{})(Header);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/layout/header/index.jsx"],"names":["React","Fragment","useState","useEffect","useCallback","Form","Row","X","MENUITEMS","LeftHeader","RightHeader","Link","Loading","useSelector","axios","connect","Header","data","ready","balance","mainmenu","setMainMenu","searchValue","setsearchValue","searchResult","setSearchResult","searchResultEmpty","setSearchResultEmpty","layout_type","content","Customizer","layout","layout_version","mix_background_layout","escFunction","event","keyCode","document","addEventListener","removeEventListener","handleSearchKeyword","keyword","addFix","removeFix","items","map","menuItems","Items","filter","mItems","title","toLowerCase","includes","type","push","children","subItems","icon","suSubItems","checkSearchResultEmpty","length","querySelector","classList","add","remove","body","className","e","target","value","index","path","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect, useCallback } from 'react';\nimport {Form,Row} from 'reactstrap'\nimport {X} from 'react-feather'\nimport {MENUITEMS} from '../sidebar/menu'\nimport LeftHeader from './leftbar'\nimport RightHeader from './rightbar'\nimport {Link} from 'react-router-dom'\nimport {Loading} from '../../constant'\nimport { useSelector } from 'react-redux'\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\n\nconst Header = ({ data, ready, balance }) => {\n\n  // eslint-disable-next-line\n  const [mainmenu, setMainMenu] = useState(MENUITEMS);\n  const [searchValue, setsearchValue] = useState('');\n  // eslint-disable-next-line\n  const [searchResult, setSearchResult] = useState(false);\n  // eslint-disable-next-line\n  const [searchResultEmpty, setSearchResultEmpty] = useState(false);\n  const layout_type = useSelector(content => content.Customizer.layout)\n  const layout_version = useSelector(content => content.Customizer.mix_background_layout);\n  \n  const escFunction = useCallback((event) => {\n    if(event.keyCode === 27) {\n      setsearchValue('')\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", escFunction, false);\n    return () => {\n        document.removeEventListener(\"keydown\", escFunction, false);\n    };\n  }, [escFunction]);\n\n  const handleSearchKeyword = (keyword) => {\n    keyword ? addFix() : removeFix()\n    const items = [];\n    setsearchValue(keyword)\n    mainmenu.map(menuItems => {\n      menuItems.Items.filter(mItems => {\n        if (mItems.title.toLowerCase().includes(keyword) && mItems.type === 'link') {\n            items.push(mItems);\n        }\n        if (!mItems.children) return false\n        mItems.children.filter(subItems => {\n            if (subItems.title.toLowerCase().includes(keyword) && subItems.type === 'link') {\n                subItems.icon = mItems.icon\n                items.push(subItems);\n            }\n            if (!subItems.children) return false\n            subItems.children.filter(suSubItems => {\n                if (suSubItems.title.toLowerCase().includes(keyword)) {\n                    suSubItems.icon = mItems.icon\n                    items.push(suSubItems);\n                }\n                return suSubItems\n            })\n            return subItems\n        })\n        checkSearchResultEmpty(items)\n        setsearchValue(items);\n        return mItems\n    });\n        return menuItems\n  });\n  }\n\n  const checkSearchResultEmpty = (items) => {\n      if (!items.length) {\n          setSearchResultEmpty(true);\n          document.querySelector(\".empty-menu\").classList.add('is-open');\n      } else {\n          setSearchResultEmpty(false);\n          document.querySelector(\".empty-menu\").classList.remove('is-open');\n      }\n  }\n\n  const addFix = () => {\n      setSearchResult(true);\n      document.querySelector(\".Typeahead-menu\").classList.add('is-open');\n      document.body.className = `${layout_version} ${layout_type} offcanvas`\n  }\n\n  const removeFix = () => { \n      setSearchResult(false)\n      setsearchValue('')\n      document.querySelector(\".Typeahead-menu\").classList.remove('is-open');\n      document.body.className = `${layout_version} ${layout_type}`\n  }\n\n  return (\n      <Fragment>\n      <div className=\"page-header\">\n      <Row className=\"header-wrapper m-0\">\n      <Form className=\"form-inline search-full\" action=\"#\" method=\"get\">\n          <div className=\"form-group w-100\">\n            <div className=\"Typeahead Typeahead--twitterUsers\">\n              <div className=\"u-posRelative\">\n                <input \n                    className=\"Typeahead-input form-control-plaintext w-100\" \n                    id=\"demo-input\" \n                    type=\"search\" \n                    placeholder=\"Search Cuba ..\"\n                    defaultValue={searchValue}\n                    onChange={(e) => handleSearchKeyword(e.target.value)}\n                />\n                  <div className=\"spinner-border Typeahead-spinner\" role=\"status\">\n                    <span className=\"sr-only\">{Loading}</span>\n                  </div><X className=\"close-search\" onClick={() => document.querySelector(\".search-full\").classList.remove(\"open\")}/>\n              </div>\n                <div className=\"Typeahead-menu custom-scrollbar\" id=\"search-outer\">\n                  {searchValue ?\n                      searchValue.map((data, index) => {\n                          return (\n                              <div className=\"ProfileCard u-cf\" key={index}>\n                                  <div className=\"ProfileCard-avatar\">\n                                      <data.icon />\n                                  </div>\n                                  <div className=\"ProfileCard-details\">\n                                      <div className=\"ProfileCard-realName\">\n                                          <Link \n                                              to={data.path} \n                                              className=\"realname\" \n                                              onClick={removeFix}\n                                          >\n                                              {data.title}\n                                          </Link>\n                                      </div>\n                                  </div>\n                              </div>\n                          )\n                      }) : ''\n                  }\n                </div>\n                <div className=\"Typeahead-menu empty-menu\">\n                    <div className=\"tt-dataset tt-dataset-0\">\n                        <div className=\"EmptyMessage\">\n                            {\"Opps!! There are no result found.\"}\n                        </div>\n                    </div>\n                </div>\n            </div>\n          </div>\n      </Form> \n      <LeftHeader/>\n      <RightHeader ready={ready} balance={balance} />\n      </Row>\n    </div>\n    </Fragment>\n  );\n}\nconst mapStateToProps = (state) => {\n    return {\n        data: state.auth.data\n    }\n  }\nexport default connect(mapStateToProps, {  })(Header);"]},"metadata":{},"sourceType":"module"}