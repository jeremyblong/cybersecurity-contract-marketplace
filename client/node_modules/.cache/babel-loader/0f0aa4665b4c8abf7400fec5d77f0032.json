{"ast":null,"code":"var _jsxFileName = \"/home/kali/Documents/cybersecurity/client/src/components/dashboard/forums/individualForum/helpers/bottomTabbed/bottomTabbedHelper.js\";\nimport React, { Fragment, useState, useEffect } from 'react';\nimport { Card, Badge, Row, Col, TabContent, TabPane, Nav, NavItem, NavLink, CardBody, Button, Media, InputGroup, InputGroupAddon, Input, InputGroupText } from 'reactstrap';\nimport \"./styles.css\";\nimport { Picker } from 'emoji-mart';\nimport PaginationEmployerListingHelper from \"../../../../universal/pagination/paginationHelper.js\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport helpers from \"./helpers/helperFunctions.js\";\nimport moment from 'moment';\nconst {\n  renderSignedinUserPicVideo,\n  addNewComment,\n  renderPicVideoComment,\n  RenderModalSheetAddComment,\n  ForumCommentAddHashtagsOptionHelper\n} = helpers;\nconst itemsPerPage = 10;\n\nconst CustomTabsetBottomListingAuctionHelper = _ref => {\n  let {\n    poster,\n    setOpenState,\n    id,\n    userData,\n    isOpen\n  } = _ref;\n  const [activeTab, setActiveTab] = useState('1');\n  const [showEmojiPicker, setShowEmojiPicker] = useState(false);\n  const [commentText, setCommentText] = useState(\"\");\n  const [currentPage, setCurrentPage] = useState(0);\n  const [pageCount, setPageCount] = useState(0);\n  const [itemOffset, setItemOffset] = useState(0);\n  const [permenantData, setPermenantDataState] = useState([]);\n  const [comments, setComments] = useState([]);\n  const [hashtags, setHashtags] = useState([]);\n  const [ready, setReady] = useState(false);\n  const [selectedComment, setSelectedComment] = useState(null);\n  useEffect(() => {\n    const endOffset = itemOffset + itemsPerPage;\n    setPageCount(Math.ceil(permenantData.length / itemsPerPage));\n    setComments(permenantData.slice(itemOffset, endOffset));\n  }, [itemOffset, itemsPerPage]);\n  useEffect(() => {\n    const configuration = {\n      params: {\n        subthreadID: id,\n        subthreadPosterID: poster\n      }\n    };\n    axios.get(`${process.env.REACT_APP_BASE_URL}/gather/forum/comments/subthread/individual`, configuration).then(res => {\n      if (res.data.message === \"Successfully gathered subthread comments!\") {\n        console.log(res.data);\n        const {\n          comments\n        } = res.data;\n        setPageCount(Math.ceil(comments.length / itemsPerPage));\n        const endOffset = itemOffset + itemsPerPage;\n        setPermenantDataState(comments);\n        setComments(comments.slice(itemOffset, endOffset));\n        setReady(true);\n      } else {\n        console.log(\"errr inside...:\", res.data);\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }, []);\n\n  const replyToCommentSub = comment => {\n    setSelectedComment(comment);\n    setOpenState(true);\n  };\n\n  const addEmoji = emoji => {\n    setCommentText(prevState => `${prevState}${emoji.native}`);\n    setShowEmojiPicker(false);\n  };\n\n  console.log(\"commentText\", commentText, isOpen);\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(RenderModalSheetAddComment, {\n    id: id,\n    poster: poster,\n    itemOffset: itemOffset,\n    setComments: setComments,\n    setPermenantDataState: setPermenantDataState,\n    selectedComment: selectedComment,\n    setSelectedComment: setSelectedComment,\n    userData: userData,\n    isOpen: isOpen,\n    setOpenState: setOpenState,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    className: \"product-page-main m-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Nav, {\n    tabs: true,\n    className: \"border-tab\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(NavItem, {\n    id: \"myTab\",\n    role: \"tablist\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(NavLink, {\n    href: null,\n    className: activeTab === '1' ? 'active' : '',\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 29\n    }\n  }, \"Comments/Reply's\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"material-border\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(TabContent, {\n    activeTab: activeTab,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(TabPane, {\n    tabId: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"timeline-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"like-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 63\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-heart font-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 69\n    }\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pull-right comment-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 119\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 163\n    }\n  }, \"20\", \" \"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 183\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-share-alt mr-0\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 189\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    className: \"pull-right comment-number\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 243\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 287\n    }\n  }, \"10\", \" \"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 307\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-comments-o\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 313\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comments-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Media, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 37\n    }\n  }, renderSignedinUserPicVideo(userData.profilePicsVideos[userData.profilePicsVideos.length - 1]), /*#__PURE__*/React.createElement(Media, {\n    body: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(InputGroup, {\n    className: \"text-box\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    className: \"form-control custom-css-additions-input-response input-txt-bx\",\n    type: \"text\",\n    name: \"message-to-send\",\n    placeholder: \"Post Your Comment(s) - Enter at least 25 characters...\",\n    onChange: e => setCommentText(e.target.value),\n    value: commentText,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 49\n    }\n  }), typeof commentText !== \"undefined\" && commentText.length >= 25 ? /*#__PURE__*/React.createElement(InputGroupAddon, {\n    className: \"input-group-forum-addon-custom\",\n    addonType: \"append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 115\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"info-2x\",\n    outline: true,\n    className: \"btn-square-info\",\n    onClick: () => addNewComment(commentText, setCommentText, id, setComments, poster, userData),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 53\n    }\n  }, \"Submit\")) : /*#__PURE__*/React.createElement(InputGroupAddon, {\n    className: \"input-group-forum-addon-custom\",\n    addonType: \"append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 70\n    }\n  }, /*#__PURE__*/React.createElement(InputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 53\n    }\n  }, 25 - commentText.length > 0 ? `${25 - commentText.length} Min Char Left` : \"Successful Entry!\")), /*#__PURE__*/React.createElement(InputGroupAddon, {\n    addonType: \"append\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"transparent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    onClick: () => setShowEmojiPicker(!showEmojiPicker),\n    className: \"fa fa-smile-o fa-2x restyle-emoji-activator-icon\",\n    \"aria-hidden\": \"true\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 81\n    }\n  }), showEmojiPicker === true ? /*#__PURE__*/React.createElement(Picker, {\n    style: {\n      position: \"absolute\",\n      right: \"40px\",\n      top: \"-375px\"\n    },\n    set: \"apple\",\n    emojiSize: 30,\n    onSelect: addEmoji,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 61\n    }\n  }) : null))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"hashtag-forum-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(ForumCommentAddHashtagsOptionHelper, {\n    hashtags: hashtags,\n    setHashtags: setHashtags,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 49\n    }\n  })), /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 45\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"social-chat\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 33\n    }\n  }, typeof comments !== \"undefined\" && comments.length > 0 ? comments.map((comment, index) => {\n    console.log(\"comment\", comment);\n    return /*#__PURE__*/React.createElement(Fragment, {\n      key: index,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 45\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"your-msg\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(Media, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 53\n      }\n    }, renderPicVideoComment(comment.posterPicOrVideo), /*#__PURE__*/React.createElement(Media, {\n      className: \"shadowy-msg\",\n      body: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 57\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"f-w-600\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 93\n      }\n    }, comment.posterName, \" \", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 140\n      }\n    }, moment(comment.date).fromNow(), \" \", /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fa fa-reply font-primary hover-reply-forum-comment\",\n      onClick: () => replyToCommentSub(comment),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 179\n      }\n    }))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 61\n      }\n    }, comment.commentText), typeof comment.hashtags !== \"undefined\" && comment.hashtags.length > 0 ? /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 135\n      }\n    }) : null, typeof comment.hashtags !== \"undefined\" && comment.hashtags.length > 0 ? comment.hashtags.map((hashtag, idxxxx) => {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        key: idxxxx,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 69\n        }\n      }, /*#__PURE__*/React.createElement(Badge, {\n        color: \"info tag-pills-sm-mb\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 73\n        }\n      }, hashtag.text));\n    }) : null))), typeof comment.subComments !== \"undefined\" && comment.subComments.length > 0 ? comment.subComments.map((subcomment, idx) => {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        key: idx,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 57\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"other-msg\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 61\n        }\n      }, /*#__PURE__*/React.createElement(Media, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 65\n        }\n      }, renderPicVideoComment(subcomment.posterPicOrVideo), /*#__PURE__*/React.createElement(Media, {\n        className: \"shadowy-msg\",\n        body: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 69\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"f-w-600\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 105\n        }\n      }, subcomment.posterName, \" \", /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 155\n        }\n      }, moment(subcomment.date).fromNow(), \" \")), /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 73\n        }\n      }, subcomment.commentText, \" \"), typeof subcomment.hashtags !== \"undefined\" && subcomment.hashtags.length > 0 ? /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 153\n        }\n      }) : null, typeof subcomment.hashtags !== \"undefined\" && subcomment.hashtags.length > 0 ? subcomment.hashtags.map((hashtag, idxxxx) => {\n        return /*#__PURE__*/React.createElement(Fragment, {\n          key: idxxxx,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154,\n            columnNumber: 81\n          }\n        }, /*#__PURE__*/React.createElement(Badge, {\n          color: \"info tag-pills-sm-mb\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 85\n          }\n        }, hashtag.text));\n      }) : null))));\n    }) : null);\n  }) : /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 42\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"no-comments-yet-wrapper-forum\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: require(\"../../../../../../assets/images/no-comments.png\"),\n    className: \"forum-no-comments-img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Row, {\n    style: {\n      marginTop: \"50px\",\n      marginBottom: \"75px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"centered-both-ways\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(PaginationEmployerListingHelper, {\n    itemsPerPage: itemsPerPage,\n    setItemOffset: setItemOffset,\n    loopingData: permenantData,\n    setPageCount: setPageCount,\n    pageCount: pageCount,\n    currentPage: currentPage,\n    setCurrentPage: setCurrentPage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 45\n    }\n  })))))))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    userData: state.auth.data\n  };\n};\n\nexport default connect(mapStateToProps, {})(withRouter(CustomTabsetBottomListingAuctionHelper));","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity/client/src/components/dashboard/forums/individualForum/helpers/bottomTabbed/bottomTabbedHelper.js"],"names":["React","Fragment","useState","useEffect","Card","Badge","Row","Col","TabContent","TabPane","Nav","NavItem","NavLink","CardBody","Button","Media","InputGroup","InputGroupAddon","Input","InputGroupText","Picker","PaginationEmployerListingHelper","withRouter","connect","axios","helpers","moment","renderSignedinUserPicVideo","addNewComment","renderPicVideoComment","RenderModalSheetAddComment","ForumCommentAddHashtagsOptionHelper","itemsPerPage","CustomTabsetBottomListingAuctionHelper","poster","setOpenState","id","userData","isOpen","activeTab","setActiveTab","showEmojiPicker","setShowEmojiPicker","commentText","setCommentText","currentPage","setCurrentPage","pageCount","setPageCount","itemOffset","setItemOffset","permenantData","setPermenantDataState","comments","setComments","hashtags","setHashtags","ready","setReady","selectedComment","setSelectedComment","endOffset","Math","ceil","length","slice","configuration","params","subthreadID","subthreadPosterID","get","process","env","REACT_APP_BASE_URL","then","res","data","message","console","log","catch","err","replyToCommentSub","comment","addEmoji","emoji","prevState","native","profilePicsVideos","e","target","value","position","right","top","map","index","posterPicOrVideo","posterName","date","fromNow","hashtag","idxxxx","text","subComments","subcomment","idx","require","marginTop","marginBottom","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport { Card, Badge, Row, Col, TabContent, TabPane, Nav, NavItem, NavLink, CardBody,Button,Media,InputGroup, InputGroupAddon,Input, InputGroupText } from 'reactstrap';\nimport \"./styles.css\";\nimport { Picker } from 'emoji-mart';\nimport PaginationEmployerListingHelper from \"../../../../universal/pagination/paginationHelper.js\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport helpers from \"./helpers/helperFunctions.js\";\nimport moment from 'moment';\n\nconst { renderSignedinUserPicVideo, addNewComment, renderPicVideoComment, RenderModalSheetAddComment, ForumCommentAddHashtagsOptionHelper } = helpers;\n\nconst itemsPerPage = 10;\n\nconst CustomTabsetBottomListingAuctionHelper = ({ poster, setOpenState, id, userData, isOpen }) => {\n    const [ activeTab, setActiveTab ] = useState('1');\n    const [ showEmojiPicker, setShowEmojiPicker ] = useState(false);\n    const [ commentText, setCommentText ] = useState(\"\");\n    const [ currentPage, setCurrentPage ] = useState(0);\n    const [ pageCount, setPageCount ] = useState(0);\n    const [ itemOffset, setItemOffset ] = useState(0);\n    const [ permenantData, setPermenantDataState ] = useState([]);\n    const [ comments, setComments ] = useState([]);\n    const [ hashtags, setHashtags ] = useState([]);\n    const [ ready, setReady ] = useState(false);\n    const [ selectedComment, setSelectedComment ] = useState(null);\n\n    useEffect(() => {\n\n        const endOffset = itemOffset + itemsPerPage;\n\n        setPageCount(Math.ceil(permenantData.length / itemsPerPage));\n\n        setComments(permenantData.slice(itemOffset, endOffset));\n        \n    }, [itemOffset, itemsPerPage]);\n\n    useEffect(() => {\n        const configuration = {\n            params: {\n                subthreadID: id, \n                subthreadPosterID: poster\n            }\n        }\n        axios.get(`${process.env.REACT_APP_BASE_URL}/gather/forum/comments/subthread/individual`, configuration).then((res) => {\n            if (res.data.message === \"Successfully gathered subthread comments!\") {\n                console.log(res.data);\n\n                const { comments } = res.data;\n\n                setPageCount(Math.ceil(comments.length / itemsPerPage));\n\n                const endOffset = itemOffset + itemsPerPage;\n\n                setPermenantDataState(comments);\n                setComments(comments.slice(itemOffset, endOffset));\n                setReady(true);\n            } else {\n                console.log(\"errr inside...:\", res.data);\n            }\n        }).catch((err) => {\n            console.log(err);\n        })\n    }, [])\n\n    const replyToCommentSub = (comment) => {\n\n        setSelectedComment(comment);\n\n        setOpenState(true);\n    }\n    const addEmoji = (emoji) => {\n        setCommentText(prevState => `${prevState}${emoji.native}`);\n        setShowEmojiPicker(false);\n    }\n    console.log(\"commentText\", commentText, isOpen);\n    return (\n        <Fragment>\n            <RenderModalSheetAddComment id={id} poster={poster} itemOffset={itemOffset} setComments={setComments} setPermenantDataState={setPermenantDataState} selectedComment={selectedComment} setSelectedComment={setSelectedComment} userData={userData} isOpen={isOpen} setOpenState={setOpenState} />\n            <Card>\n                <Row className=\"product-page-main m-0\">\n                    <Col sm=\"12\">\n                    <Nav tabs className=\"border-tab\">\n                        <NavItem  id=\"myTab\" role=\"tablist\">\n                            <NavLink href={null} className={activeTab === '1' ? 'active' : ''}>\n                               {\"Comments/Reply's\"}\n                            </NavLink>\n                            <div className=\"material-border\"></div>\n                        </NavItem>\n                    </Nav>\n                    <TabContent activeTab={activeTab}>\n                        <TabPane tabId=\"1\">\n                            <div className='timeline-content'>\n                                <div className=\"like-content\"><span><i className=\"fa fa-heart font-danger\"></i></span><span className=\"pull-right comment-number\"><span>{\"20\"} </span><span><i className=\"fa fa-share-alt mr-0\"></i></span></span><span className=\"pull-right comment-number\"><span>{\"10\"} </span><span><i className=\"fa fa-comments-o\"></i></span></span></div>\n                                <div className=\"comments-box\">\n                                    <Media>\n                                        {renderSignedinUserPicVideo(userData.profilePicsVideos[userData.profilePicsVideos.length - 1])}\n                                        <Media body>\n                                            <InputGroup className=\"text-box\">\n                                                <Input className=\"form-control custom-css-additions-input-response input-txt-bx\" type=\"text\" name=\"message-to-send\" placeholder=\"Post Your Comment(s) - Enter at least 25 characters...\" onChange={(e) => setCommentText(e.target.value)} value={commentText} />\n                                                {typeof commentText !== \"undefined\" && commentText.length >= 25 ? <InputGroupAddon className='input-group-forum-addon-custom' addonType=\"append\">\n                                                    <Button color='info-2x' outline className='btn-square-info' onClick={() => addNewComment(commentText, setCommentText, id, setComments, poster, userData)}>Submit</Button>\n                                                </InputGroupAddon> : <InputGroupAddon className='input-group-forum-addon-custom' addonType=\"append\">\n                                                    <InputGroupText>{25 - commentText.length > 0 ? `${25 - commentText.length} Min Char Left` : \"Successful Entry!\"}</InputGroupText>\n                                                </InputGroupAddon>}\n                                                <InputGroupAddon addonType=\"append\">\n                                                    <Button color=\"transparent\"><i onClick={() => setShowEmojiPicker(!showEmojiPicker)} className=\"fa fa-smile-o fa-2x restyle-emoji-activator-icon\" aria-hidden=\"true\"></i>\n                                                    {showEmojiPicker === true ? (\n                                                            <Picker style={{ position: \"absolute\", right: \"40px\", top: \"-375px\" }} set=\"apple\" emojiSize={30} onSelect={addEmoji} />\n                                                    ) : null}\n                                                    </Button>\n                                                </InputGroupAddon>\n                                            </InputGroup>\n                                            <div className='hashtag-forum-wrapper'>\n                                                <ForumCommentAddHashtagsOptionHelper hashtags={hashtags} setHashtags={setHashtags} />\n                                            </div>\n                                            <hr />\n                                        </Media>\n                                    </Media>\n                                </div>\n                                <div className=\"social-chat\">\n                                    {typeof comments !== \"undefined\" && comments.length > 0 ? comments.map((comment, index) => {\n                                        console.log(\"comment\", comment);\n                                        return (\n                                            <Fragment key={index}>\n                                                <div className=\"your-msg\">\n                                                    <Media>\n                                                        {renderPicVideoComment(comment.posterPicOrVideo)}\n                                                        <Media className='shadowy-msg' body><span className=\"f-w-600\">{comment.posterName} <span>{moment(comment.date).fromNow()} <i className=\"fa fa-reply font-primary hover-reply-forum-comment\" onClick={() => replyToCommentSub(comment)}></i></span></span>\n                                                            <p>{comment.commentText}</p>\n                                                            {typeof comment.hashtags !== \"undefined\" && comment.hashtags.length > 0 ? <hr /> : null}\n                                                            {typeof comment.hashtags !== \"undefined\" && comment.hashtags.length > 0 ? comment.hashtags.map((hashtag, idxxxx) => {\n                                                                return (\n                                                                    <Fragment key={idxxxx}>\n                                                                        <Badge color=\"info tag-pills-sm-mb\">{hashtag.text}</Badge>\n                                                                    </Fragment>\n                                                                );\n                                                            }) : null}\n                                                        </Media>\n                                                    </Media>\n                                                </div>\n                                                {typeof comment.subComments !== \"undefined\" && comment.subComments.length > 0 ? comment.subComments.map((subcomment, idx) => {\n                                                    return (\n                                                        <Fragment key={idx}>\n                                                            <div className=\"other-msg\">\n                                                                <Media>\n                                                                    {renderPicVideoComment(subcomment.posterPicOrVideo)}\n                                                                    <Media className='shadowy-msg' body><span className=\"f-w-600\">{subcomment.posterName} <span>{moment(subcomment.date).fromNow()} </span></span>\n                                                                        <p>{subcomment.commentText} </p>\n                                                                        {typeof subcomment.hashtags !== \"undefined\" && subcomment.hashtags.length > 0 ? <hr /> : null}\n                                                                        {typeof subcomment.hashtags !== \"undefined\" && subcomment.hashtags.length > 0 ? subcomment.hashtags.map((hashtag, idxxxx) => {\n                                                                            return (\n                                                                                <Fragment key={idxxxx}>\n                                                                                    <Badge color=\"info tag-pills-sm-mb\">{hashtag.text}</Badge>\n                                                                                </Fragment>\n                                                                            );\n                                                                        }) : null}\n                                                                    </Media>\n                                                                </Media>\n                                                            </div>\n                                                        </Fragment>\n                                                    );\n                                                }) : null}\n                                            </Fragment>\n                                        );\n                                    }) : <Fragment>\n                                        <div className='no-comments-yet-wrapper-forum'>\n                                            <img src={require(\"../../../../../../assets/images/no-comments.png\")} className={\"forum-no-comments-img\"} />\n                                        </div>\n                                    </Fragment>}\n                                    <Row style={{ marginTop: \"50px\", marginBottom: \"75px\" }}>\n                                        <div className=\"centered-both-ways\">\n                                            <PaginationEmployerListingHelper itemsPerPage={itemsPerPage} setItemOffset={setItemOffset} loopingData={permenantData} setPageCount={setPageCount} pageCount={pageCount} currentPage={currentPage} setCurrentPage={setCurrentPage} />\n                                        </div>\n                                    </Row>\n                                </div>\n                            </div>\n                        </TabPane>\n                    </TabContent>\n                    </Col>\n                </Row>\n            </Card>\n        </Fragment>\n    );\n}\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data\n    }\n}\nexport default connect(mapStateToProps, {})(withRouter(CustomTabsetBottomListingAuctionHelper));"]},"metadata":{},"sourceType":"module"}