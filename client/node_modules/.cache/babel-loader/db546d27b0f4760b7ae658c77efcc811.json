{"ast":null,"code":"var _jsxFileName = \"/home/kali/Documents/cybersecurity/client/src/components/dashboard/learning/educationalCoursesSeminars/createCourse/helpers/pages/pageTwo/helpers/miscFunctions.js\";\nimport React, { Fragment } from \"react\";\nimport { Button } from 'reactstrap';\nimport axios from \"axios\";\nimport { NotificationManager } from 'react-notifications';\nimport { updateCourseInformationData } from \"../../../../../../../../../redux/actions/courses/createNewCourse/index.js\";\nimport { confirmAlert } from 'react-confirm-alert';\n\nconst handleSubmit = (runSubmit, currentFileSelectedUpload, fileMetaData, setProgress, setShowInitialState, setVideoFileState) => {\n  const data = new FormData();\n  data.append(\"file\", currentFileSelectedUpload);\n  data.append(\"meta\", fileMetaData);\n  const config = {\n    onUploadProgress: progressEvent => {\n      let percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n      setProgress(percentCompleted);\n    },\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  };\n  axios.post(`${process.env.REACT_APP_BASE_URL}/upload/misc/file/softare/listing/sale`, data, config).then(res => {\n    if (res.data.message === \"Successfully uploaded file!\") {\n      console.log(res.data);\n      const {\n        file\n      } = res.data; // save file to redux state...\n\n      setVideoFileState(file);\n      setShowInitialState(false);\n      NotificationManager.success(`We've successfully uploaded your file! Please proceed filling out your information or add more files.`, 'Successfully uploaded file!', 4500);\n      runSubmit();\n    } else {\n      console.log(\"Err\", res.data);\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst handleSubmitFollowAlong = (runSubmit, currentFileSelectedUpload, fileMetaData, setProgress, setShowInitialState, setVideoFileState) => {\n  const data = new FormData();\n  data.append(\"file\", currentFileSelectedUpload);\n  data.append(\"meta\", fileMetaData);\n  const config = {\n    onUploadProgress: progressEvent => {\n      let percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n      setProgress(percentCompleted);\n    },\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  };\n  axios.post(`${process.env.REACT_APP_BASE_URL}/upload/misc/file/softare/listing/sale`, data, config).then(res => {\n    if (res.data.message === \"Successfully uploaded file!\") {\n      console.log(res.data);\n      const {\n        file\n      } = res.data; // save file to redux state...\n\n      setVideoFileState(file);\n      setShowInitialState(false);\n      NotificationManager.success(`We've successfully uploaded your file! Please proceed filling out your information or add more files.`, 'Successfully uploaded file!', 4500);\n      runSubmit();\n    } else {\n      console.log(\"Err\", res.data);\n    }\n  }).catch(err => {\n    console.log(err);\n  });\n};\n\nconst renderCustomButtonDropzoneFollowAlong = (data, setMetaFileData, currentFileSelectedUpload, fileMetaData, fileReady, setFileReadyStatus, setProgress, setVideoFileState, setShowInitialState) => {\n  // meta data\n  const {\n    meta\n  } = data.files[0]; // run conditionals\n\n  if (currentFileSelectedUpload === null) {\n    return null;\n  } else {\n    if (fileReady === true) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        style: {\n          marginTop: \"7.5px\"\n        },\n        onClick: e => {\n          e.preventDefault(); // file meta data for next action\n\n          setMetaFileData(meta); // set file status as ready or prepared.\n\n          setFileReadyStatus(false);\n          const runSubmit = data.onSubmit;\n          handleSubmitFollowAlong(runSubmit, currentFileSelectedUpload, fileMetaData, setProgress, setShowInitialState, setVideoFileState);\n        },\n        className: \"btn-air-info\",\n        color: \"info\",\n        size: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 21\n        }\n      }, \"Submit & Upload New File!\"));\n    } else {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        style: {\n          marginTop: \"7.5px\"\n        },\n        onClick: () => {\n          NotificationManager.warning(`File is NOT ready to upload yet! Please wait for the preparation steps to complete before submitting.`, 'Still preparing!', 4500);\n        },\n        className: \"btn-air-light\",\n        color: \"light\",\n        size: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 21\n        }\n      }, \"Submit & Upload New File!\"));\n    }\n  }\n};\n\nconst renderCustomButtonDropzone = (data, setMetaFileData, currentFileSelectedUpload, fileMetaData, fileReady, setFileReadyStatus, setProgress, setVideoFileState, setShowInitialState) => {\n  const {\n    meta\n  } = data.files[0]; // run conditionals\n\n  if (currentFileSelectedUpload === null) {\n    return null;\n  } else {\n    if (fileReady === true) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        style: {\n          marginTop: \"7.5px\"\n        },\n        onClick: e => {\n          e.preventDefault(); // file meta data for next action\n\n          setMetaFileData(meta); // set file status as ready or prepared.\n\n          setFileReadyStatus(false);\n          const runSubmit = data.onSubmit;\n          handleSubmit(runSubmit, currentFileSelectedUpload, fileMetaData, setProgress, setShowInitialState, setVideoFileState);\n        },\n        className: \"btn-air-info\",\n        color: \"info\",\n        size: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }\n      }, \"Submit & Upload New File!\"));\n    } else {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        style: {\n          marginTop: \"7.5px\"\n        },\n        onClick: () => {\n          NotificationManager.warning(`File is NOT ready to upload yet! Please wait for the preparation steps to complete before submitting.`, 'Still preparing!', 4500);\n        },\n        className: \"btn-air-light\",\n        color: \"light\",\n        size: \"md\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }\n      }, \"Submit & Upload New File!\"));\n    }\n  }\n};\n\nconst handleDeletionConfirmationOpen = () => {\n  const defaultState = [{\n    sections: []\n  }];\n  confirmAlert({\n    title: 'Clear/Delete ALL Items?',\n    message: \"Are you SURE you'd like to clear your ENTIRE 'Course Content' already filled out information? This will start a clear-slate and you will start from the beginning. You can also save this data to your account before deleting so please consider that as well.\",\n    buttons: [{\n      label: 'Yes, CLEAR!',\n      onClick: () => {\n        updateCourseInformationData(defaultState);\n      }\n    }, {\n      label: 'No, CANCEL',\n      onClick: () => {// do nothing.\n      }\n    }]\n  });\n};\n\nconst calculateFileType = type => {\n  switch (type) {\n    case \"video/mp4\":\n      return \"mp4\";\n      break;\n\n    case \"image/png\":\n      return \"png\";\n      break;\n\n    case \"image/jpeg\":\n      return \"jpeg\";\n      break;\n\n    case \"image/jpg\":\n      return \"jpg\";\n      break;\n\n    case \"image/gif\":\n      return \"gif\";\n      break;\n\n    case \"image/bmp\":\n      return \"bmp\";\n      break;\n\n    case \"application/pdf\":\n      return \"pdf\";\n      break;\n\n    case \"text/csv\":\n      return \"csv\";\n      break;\n\n    case \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\n      return \"xlsx\";\n      break;\n\n    case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n      return \"docx\";\n      break;\n\n    case \"video/webm\":\n      return \"webm\";\n      break;\n\n    case \"audio/mpeg\":\n      return \"mp3\";\n      break;\n\n    default:\n      break;\n  }\n};\n\nconst onSubmitHelper = (files, allFiles) => {\n  allFiles.forEach(file => {\n    file.remove();\n  });\n};\n\nexport default {\n  renderCustomButtonDropzone,\n  renderCustomButtonDropzoneFollowAlong,\n  handleSubmit,\n  onSubmitHelper,\n  calculateFileType,\n  handleDeletionConfirmationOpen\n};","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity/client/src/components/dashboard/learning/educationalCoursesSeminars/createCourse/helpers/pages/pageTwo/helpers/miscFunctions.js"],"names":["React","Fragment","Button","axios","NotificationManager","updateCourseInformationData","confirmAlert","handleSubmit","runSubmit","currentFileSelectedUpload","fileMetaData","setProgress","setShowInitialState","setVideoFileState","data","FormData","append","config","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","headers","post","process","env","REACT_APP_BASE_URL","then","res","message","console","log","file","success","catch","err","handleSubmitFollowAlong","renderCustomButtonDropzoneFollowAlong","setMetaFileData","fileReady","setFileReadyStatus","meta","files","marginTop","e","preventDefault","onSubmit","warning","renderCustomButtonDropzone","handleDeletionConfirmationOpen","defaultState","sections","title","buttons","label","onClick","calculateFileType","type","onSubmitHelper","allFiles","forEach","remove"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport { Button } from 'reactstrap';\nimport axios from \"axios\";\nimport { NotificationManager } from 'react-notifications';\nimport { updateCourseInformationData } from \"../../../../../../../../../redux/actions/courses/createNewCourse/index.js\";\nimport { confirmAlert } from 'react-confirm-alert';\n\n\nconst handleSubmit = (runSubmit, currentFileSelectedUpload, fileMetaData, setProgress, setShowInitialState, setVideoFileState) => {\n\n    const data = new FormData();\n\n    data.append(\"file\", currentFileSelectedUpload);\n    data.append(\"meta\", fileMetaData);\n\n    const config = {\n        onUploadProgress: (progressEvent) => {\n            let percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n            setProgress(percentCompleted);\n        },\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    };\n\n    axios.post(`${process.env.REACT_APP_BASE_URL}/upload/misc/file/softare/listing/sale`, data, config).then((res) => {\n        if (res.data.message === \"Successfully uploaded file!\") {\n            console.log(res.data);\n\n            const { file } = res.data;\n\n            // save file to redux state...\n\n            setVideoFileState(file);\n            setShowInitialState(false);\n\n            NotificationManager.success(`We've successfully uploaded your file! Please proceed filling out your information or add more files.`, 'Successfully uploaded file!', 4500);\n\n            runSubmit();\n        } else {\n            console.log(\"Err\", res.data);\n        }\n    }).catch((err) => {\n        console.log(err);\n    })\n};\nconst handleSubmitFollowAlong = (runSubmit, currentFileSelectedUpload, fileMetaData, setProgress, setShowInitialState, setVideoFileState) => {\n\n    const data = new FormData();\n\n    data.append(\"file\", currentFileSelectedUpload);\n    data.append(\"meta\", fileMetaData);\n\n    const config = {\n        onUploadProgress: (progressEvent) => {\n            let percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n            setProgress(percentCompleted);\n        },\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    };\n\n    axios.post(`${process.env.REACT_APP_BASE_URL}/upload/misc/file/softare/listing/sale`, data, config).then((res) => {\n        if (res.data.message === \"Successfully uploaded file!\") {\n            console.log(res.data);\n\n            const { file } = res.data;\n\n            // save file to redux state...\n\n            setVideoFileState(file);\n            setShowInitialState(false);\n\n            NotificationManager.success(`We've successfully uploaded your file! Please proceed filling out your information or add more files.`, 'Successfully uploaded file!', 4500);\n\n            runSubmit();\n        } else {\n            console.log(\"Err\", res.data);\n        }\n    }).catch((err) => {\n        console.log(err);\n    })\n};\nconst renderCustomButtonDropzoneFollowAlong = (data, setMetaFileData, currentFileSelectedUpload, fileMetaData, fileReady, setFileReadyStatus, setProgress, setVideoFileState, setShowInitialState) => {\n    // meta data\n    const { meta } = data.files[0];\n    // run conditionals\n    if (currentFileSelectedUpload === null) {\n        return null;\n    } else {\n        if (fileReady === true) {\n            return (\n                <Fragment>\n                    <Button style={{ marginTop: \"7.5px\" }} onClick={(e) => {\n                        e.preventDefault();\n                        // file meta data for next action\n                        setMetaFileData(meta);\n                        // set file status as ready or prepared.\n                        setFileReadyStatus(false);\n\n                        const runSubmit = data.onSubmit;\n\n                        handleSubmitFollowAlong(runSubmit, currentFileSelectedUpload, fileMetaData, setProgress, setShowInitialState, setVideoFileState);\n                    }} className=\"btn-air-info\" color=\"info\" size=\"md\">Submit & Upload New File!</Button>\n                </Fragment>\n            );\n        } else {\n            return (\n                <Fragment>\n                    <Button style={{ marginTop: \"7.5px\" }} onClick={() => {\n                        NotificationManager.warning(`File is NOT ready to upload yet! Please wait for the preparation steps to complete before submitting.`, 'Still preparing!', 4500);\n                    }} className=\"btn-air-light\" color=\"light\" size=\"md\">Submit & Upload New File!</Button>\n                </Fragment>\n            );\n        }\n    }\n}\nconst renderCustomButtonDropzone = (data, setMetaFileData, currentFileSelectedUpload, fileMetaData, fileReady, setFileReadyStatus, setProgress, setVideoFileState, setShowInitialState) => {\n\n    const { meta } = data.files[0];\n    // run conditionals\n    if (currentFileSelectedUpload === null) {\n        return null;\n    } else {\n        if (fileReady === true) {\n            return (\n                <Fragment>\n                    <Button style={{ marginTop: \"7.5px\" }} onClick={(e) => {\n                        e.preventDefault();\n                        // file meta data for next action\n                        setMetaFileData(meta);\n                        // set file status as ready or prepared.\n                        setFileReadyStatus(false);\n\n                        const runSubmit = data.onSubmit;\n\n                        handleSubmit(runSubmit, currentFileSelectedUpload, fileMetaData, setProgress, setShowInitialState, setVideoFileState);\n                    }} className=\"btn-air-info\" color=\"info\" size=\"md\">Submit & Upload New File!</Button>\n                </Fragment>\n            );\n        } else {\n            return (\n                <Fragment>\n                    <Button style={{ marginTop: \"7.5px\" }} onClick={() => {\n                        NotificationManager.warning(`File is NOT ready to upload yet! Please wait for the preparation steps to complete before submitting.`, 'Still preparing!', 4500);\n                    }} className=\"btn-air-light\" color=\"light\" size=\"md\">Submit & Upload New File!</Button>\n                </Fragment>\n            );\n        }\n    }\n}\nconst handleDeletionConfirmationOpen = () => {\n    const defaultState = [{\n        sections: []\n    }];\n    confirmAlert({\n        title: 'Clear/Delete ALL Items?',\n        message: \"Are you SURE you'd like to clear your ENTIRE 'Course Content' already filled out information? This will start a clear-slate and you will start from the beginning. You can also save this data to your account before deleting so please consider that as well.\",\n        buttons: [\n          {\n            label: 'Yes, CLEAR!',\n            onClick: () => {\n                updateCourseInformationData(defaultState);\n            }\n          },\n          {\n            label: 'No, CANCEL',\n            onClick: () => {\n                // do nothing.\n            }\n          }\n        ]\n    });\n}\nconst calculateFileType = (type) => {\n    switch (type) {\n        case \"video/mp4\":\n            return \"mp4\";\n            break;\n        case \"image/png\":\n            return \"png\";\n            break;\n        case \"image/jpeg\":\n            return \"jpeg\";\n            break;\n        case \"image/jpg\":\n            return \"jpg\";\n            break;\n        case \"image/gif\":\n            return \"gif\";\n            break;\n        case \"image/bmp\":\n            return \"bmp\";\n            break;\n        case \"application/pdf\":\n            return \"pdf\";\n            break;\n        case \"text/csv\":\n            return \"csv\";\n            break;\n        case \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\n            return \"xlsx\";\n            break;\n        case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n            return \"docx\";\n            break;\n        case \"video/webm\":\n            return \"webm\";\n            break;\n        case \"audio/mpeg\":\n            return \"mp3\";\n            break;\n        default:\n            break;\n    }\n}\nconst onSubmitHelper = (files, allFiles) => {\n    allFiles.forEach((file) => {\n        file.remove();\n    })\n}\nexport default {\n    renderCustomButtonDropzone,\n    renderCustomButtonDropzoneFollowAlong,\n    handleSubmit,\n    onSubmitHelper,\n    calculateFileType,\n    handleDeletionConfirmationOpen\n};"]},"metadata":{},"sourceType":"module"}