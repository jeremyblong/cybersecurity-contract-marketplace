{"ast":null,"code":"var _jsxFileName = \"/home/kali/Documents/cybersecurity/client/src/components/dashboard/streamingLiveHacks/createLiveStream/createNewStream/helpers/nonFormHelpers.js\";\nimport React, { Component } from 'react';\nimport { WithContext as ReactTags } from 'react-tag-input';\nimport { connect } from \"react-redux\";\nimport { Label } from \"reactstrap\";\nimport _ from \"lodash\";\nimport hookFormHelpers from \"./helperFunctions.js\";\nimport { Controller } from \"react-hook-form\";\nconst KeyCodes = {\n  comma: 188,\n  enter: [10, 13]\n};\nconst delimiters = [...KeyCodes.enter, KeyCodes.comma];\nconst hashtagsChecker = hookFormHelpers().hashtagsChecker;\n\nclass HashtagLiveStreamHelper extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      tags: [],\n      suggestions: []\n    };\n    this.handleDelete = this.handleDelete.bind(this);\n    this.handleAddition = this.handleAddition.bind(this);\n    this.handleDrag = this.handleDrag.bind(this);\n  }\n\n  handleDelete(i) {\n    const {\n      tags\n    } = this.state;\n    this.setState({\n      tags: tags.filter((tag, index) => index !== i)\n    }, () => {// this.props.saveListingData({\n      //     ...this.props.previousData,\n      //     hashtags: this.state.tags\n      // })\n    });\n  }\n\n  handleAddition(tag) {\n    this.setState(state => {\n      return {\n        tags: [...state.tags, tag]\n      };\n    }, () => {// this.props.saveListingData({\n      //     ...this.props.previousData,\n      //     hashtags: this.state.tags\n      // })\n    });\n  }\n\n  handleDrag(tag, currPos, newPos) {\n    const tags = [...this.state.tags];\n    const newTags = tags.slice();\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag); // re-render\n\n    this.setState({\n      tags: newTags\n    }, () => {// this.props.saveListingData({\n      //     ...this.props.previousData,\n      //     hashtags: newTags\n      // })\n    });\n  }\n\n  componentDidMount() {\n    const {\n      hashtags\n    } = this.props.previousData;\n    this.setState({\n      tags: typeof hashtags !== \"undefined\" && hashtags.length > 0 ? hashtags : []\n    });\n  }\n\n  render() {\n    // setError, register, values, errors, name, clearErrors, control, errors\n    const {\n      tags,\n      suggestions\n    } = this.state; // deconstruct props\n\n    const {\n      setError,\n      register,\n      values,\n      errors,\n      name,\n      clearErrors,\n      control\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }\n    }, hashtagsChecker.label), /*#__PURE__*/React.createElement(Controller, Object.assign({\n      control: control,\n      name: \"streamHashtags\"\n    }, subcategoryChecker.check(setError, register, values, errors, \"streamHashtags\", clearErrors), {\n      render: _ref => {\n        let {\n          field\n        } = _ref;\n        return /*#__PURE__*/React.createElement(ReactTags, {\n          tags: currentValues.streamHashtags,\n          classNames: {\n            tags: 'tagsClass',\n            tagInput: 'tagInputClass',\n            tagInputField: 'form-control',\n            selected: 'selectedClass',\n            tag: 'badge badge-primary',\n            remove: 'removeClass',\n            suggestions: 'suggestionsClass',\n            activeSuggestion: 'activeSuggestionClass'\n          },\n          placeholder: hashtagsChecker.placeholder,\n          maxLength: 10,\n          suggestions: suggestions,\n          handleDelete: this.handleDelete,\n          handleAddition: this.handleAddition,\n          handleDrag: this.handleDrag,\n          delimiters: delimiters,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }\n        });\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    })), this.props.errors.streamHashtags ? /*#__PURE__*/React.createElement(\"span\", {\n      className: \"span-tooltip\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 53\n      }\n    }, this.props.errors.streamHashtags.message) : null);\n  }\n\n}\n\n;\n\nconst mapStateToProps = state => {\n  return {\n    previousData: _.has(state.listingData, \"listingData\") ? state.listingData.listingData : {}\n  };\n};\n\nconst HashtagHelper = connect(mapStateToProps, {})(HashtagLiveStreamHelper);\nexport default {\n  HashtagHelper\n};","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity/client/src/components/dashboard/streamingLiveHacks/createLiveStream/createNewStream/helpers/nonFormHelpers.js"],"names":["React","Component","WithContext","ReactTags","connect","Label","_","hookFormHelpers","Controller","KeyCodes","comma","enter","delimiters","hashtagsChecker","HashtagLiveStreamHelper","constructor","props","state","tags","suggestions","handleDelete","bind","handleAddition","handleDrag","i","setState","filter","tag","index","currPos","newPos","newTags","slice","splice","componentDidMount","hashtags","previousData","length","render","setError","register","values","errors","name","clearErrors","control","label","subcategoryChecker","check","field","currentValues","streamHashtags","tagInput","tagInputField","selected","remove","activeSuggestion","placeholder","message","mapStateToProps","has","listingData","HashtagHelper"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { WithContext as ReactTags } from 'react-tag-input';\nimport { connect } from \"react-redux\";\nimport { Label } from \"reactstrap\";\nimport _ from \"lodash\";\nimport hookFormHelpers from \"./helperFunctions.js\";\nimport { Controller } from \"react-hook-form\";\n\nconst KeyCodes = {\n  comma: 188,\n  enter: [10, 13],\n};\n\nconst delimiters = [...KeyCodes.enter, KeyCodes.comma];\n\nconst hashtagsChecker = hookFormHelpers().hashtagsChecker;\n\nclass HashtagLiveStreamHelper extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tags: [],\n            suggestions: []\n        };\n        this.handleDelete = this.handleDelete.bind(this);\n        this.handleAddition = this.handleAddition.bind(this);\n        this.handleDrag = this.handleDrag.bind(this);\n    }\n\n    handleDelete(i) {\n        const { tags } = this.state;\n\n        this.setState({\n            tags: tags.filter((tag, index) => index !== i),\n        }, () => {\n            // this.props.saveListingData({\n            //     ...this.props.previousData,\n            //     hashtags: this.state.tags\n            // })\n        });\n    }\n    handleAddition(tag) {\n        this.setState(state => {\n            return { tags: [...state.tags, tag] }\n        }, () => {\n            // this.props.saveListingData({\n            //     ...this.props.previousData,\n            //     hashtags: this.state.tags\n            // })\n        });\n    }\n\n    handleDrag(tag, currPos, newPos) {\n        const tags = [...this.state.tags];\n        const newTags = tags.slice();\n\n        newTags.splice(currPos, 1);\n        newTags.splice(newPos, 0, tag);\n\n        // re-render\n        this.setState({ tags: newTags }, () => {\n            // this.props.saveListingData({\n            //     ...this.props.previousData,\n            //     hashtags: newTags\n            // })\n        });\n    }\n    componentDidMount() {\n        const { hashtags } = this.props.previousData;\n        this.setState({\n            tags: typeof hashtags !== \"undefined\" && hashtags.length > 0 ? hashtags : []\n        })\n    }\n    render() {\n        // setError, register, values, errors, name, clearErrors, control, errors\n        const { tags, suggestions } = this.state;\n        // deconstruct props\n        const { setError, register, values, errors, name, clearErrors, control } = this.props;\n        return (\n            <div>\n                <Label>{hashtagsChecker.label}</Label>\n                <Controller\n                    control={control}\n                    name={\"streamHashtags\"}\n                    {...subcategoryChecker.check(setError, register, values, errors, \"streamHashtags\", clearErrors)}\n                    render={({ field }) => (\n                        <ReactTags \n                            tags={currentValues.streamHashtags}\n                            classNames={{\n                                tags: 'tagsClass',\n                                tagInput: 'tagInputClass',\n                                tagInputField: 'form-control',\n                                selected: 'selectedClass',\n                                tag: 'badge badge-primary',\n                                remove: 'removeClass',\n                                suggestions: 'suggestionsClass',\n                                activeSuggestion: 'activeSuggestionClass'\n                            }}\n                            placeholder={hashtagsChecker.placeholder}\n                            maxLength={10}\n                            suggestions={suggestions}\n                            handleDelete={this.handleDelete}\n                            handleAddition={this.handleAddition}\n                            handleDrag={this.handleDrag}\n                            delimiters={delimiters} \n                        />\n                    )}\n                />\n                {this.props.errors.streamHashtags ? <span className=\"span-tooltip\">{this.props.errors.streamHashtags.message}</span> : null}\n            </div>\n        )\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        previousData: _.has(state.listingData, \"listingData\") ? state.listingData.listingData : {}\n    }\n}\nconst HashtagHelper = connect(mapStateToProps, {  })(HashtagLiveStreamHelper);\n\nexport default {\n    HashtagHelper\n};"]},"metadata":{},"sourceType":"module"}