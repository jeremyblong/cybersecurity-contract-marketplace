{"ast":null,"code":"var _jsxFileName = \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/app.jsx\";\nimport React, { Fragment, Component } from 'react';\nimport Loader from \"../layout/loader\";\nimport Header from '../layout/header';\nimport Sidebar from '../layout/sidebar';\nimport Footer from '../layout/footer';\nimport ThemeCustomize from \"../layout/theme-customizer\";\nimport { ToastContainer } from 'react-toastify';\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { shiftCoreStyles } from \"../redux/actions/universal/index.js\";\nimport axios from \"axios\";\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      ready: false,\n      balance: 0\n    };\n  }\n\n  componentDidMount() {\n    console.log(\"MOUNTED IN APP.JS\");\n    const {\n      shiftCoreStyles\n    } = this.props;\n    shiftCoreStyles(false);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const {\n      shiftCoreStyles,\n      data\n    } = this.props;\n\n    if (typeof data !== \"undefined\" && !_.isEmpty(data) && this.state.balance === 0) {\n      console.log(\"RAN!\");\n      axios.get(`${process.env.REACT_APP_BASE_URL}/gather/availiable/stripe/bal`, {\n        params: {\n          uniqueId: data.uniqueId,\n          accountType: data.accountType\n        }\n      }).then(res => {\n        if (res.data.message === \"Gathered balance!\") {\n          console.log(\"BALANCE IS...:\", res.data);\n          const {\n            bal\n          } = res.data;\n\n          if (data.accountType === \"employers\") {\n            this.setState({\n              balance: (bal / 100).toFixed(2),\n              ready: true\n            });\n          } else {\n            const {\n              amount\n            } = bal.available[0];\n            this.setState({\n              balance: (amount / 100).toFixed(2),\n              ready: true\n            });\n          }\n        } else {\n          console.log(\"err\", res.data);\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n\n    if (prevProps.paneActive === true) {\n      shiftCoreStyles(false);\n    }\n  }\n\n  render() {\n    const {\n      children,\n      paneActive\n    } = this.props;\n    const {\n      ready,\n      balance\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Fragment, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: paneActive === true ? \"page-wrapper compact-wrapper enact-nonclick\" : \"page-wrapper compact-wrapper\",\n      id: \"pageWrapper\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      ready: ready,\n      balance: balance,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-body-wrapper sidebar-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"page-body\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }\n    }, children), /*#__PURE__*/React.createElement(Footer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(ThemeCustomize, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 11\n      }\n    }))), /*#__PURE__*/React.createElement(ToastContainer, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }\n    }));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  console.log(\"state THE MF JACKPOT! : \", state); // changeGlobalStyles\n\n  return {\n    data: state.auth.data,\n    paneActive: _.has(state.changeGlobalStyles, \"paneActive\") ? state.changeGlobalStyles.paneActive : false\n  };\n};\n\nexport default connect(mapStateToProps, {\n  shiftCoreStyles\n})(App);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/app.jsx"],"names":["React","Fragment","Component","Loader","Header","Sidebar","Footer","ThemeCustomize","ToastContainer","connect","_","shiftCoreStyles","axios","App","constructor","props","state","ready","balance","componentDidMount","console","log","componentDidUpdate","prevProps","prevState","data","isEmpty","get","process","env","REACT_APP_BASE_URL","params","uniqueId","accountType","then","res","message","bal","setState","toFixed","amount","available","catch","err","paneActive","render","children","mapStateToProps","auth","has","changeGlobalStyles"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from 'react';\nimport Loader from \"../layout/loader\";\nimport Header from '../layout/header'\nimport Sidebar from '../layout/sidebar'\nimport Footer from '../layout/footer'\nimport ThemeCustomize from \"../layout/theme-customizer\";\nimport {ToastContainer} from 'react-toastify';\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { shiftCoreStyles } from \"../redux/actions/universal/index.js\";\nimport axios from \"axios\";\n\nclass App extends Component {\nconstructor(props) {\n  super(props);\n\n  this.state = {\n    ready: false,\n    balance: 0\n  }\n}\n  componentDidMount() {\n    console.log(\"MOUNTED IN APP.JS\");\n\n    const { shiftCoreStyles } = this.props;\n\n    shiftCoreStyles(false);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { shiftCoreStyles, data } = this.props;\n\n    if (typeof data !== \"undefined\" && !_.isEmpty(data) && this.state.balance === 0) {\n      console.log(\"RAN!\");\n\n      axios.get(`${process.env.REACT_APP_BASE_URL}/gather/availiable/stripe/bal`, {\n        params: {\n          uniqueId: data.uniqueId,\n          accountType: data.accountType\n        }\n      }).then((res) => {\n          if (res.data.message === \"Gathered balance!\") {\n              console.log(\"BALANCE IS...:\", res.data);\n  \n              const { bal } = res.data;\n  \n              if (data.accountType === \"employers\") {\n\n                this.setState({\n                  balance: (bal / 100).toFixed(2),\n                  ready: true\n                })\n              } else {\n                const { amount } = bal.available[0];\n\n                this.setState({\n                  balance: (amount / 100).toFixed(2),\n                  ready: true\n                })\n              }\n          } else {\n              console.log(\"err\", res.data);\n          }\n      }).catch((err) => {\n          console.log(err);\n      });\n    }\n\n    if (prevProps.paneActive === true) {\n      shiftCoreStyles(false);\n    }\n  }\n  render () {\n    const { children, paneActive } = this.props;\n    const { ready, balance } = this.state;\n    return (\n      <Fragment>\n        <Loader/>\n        <div className={paneActive === true ? \"page-wrapper compact-wrapper enact-nonclick\" : \"page-wrapper compact-wrapper\"} id=\"pageWrapper\">\n        <Header ready={ready} balance={balance} />\n        <div className=\"page-body-wrapper sidebar-icon\">\n          <Sidebar/>\n          <div className=\"page-body\">\n            {children}\n          </div>\n          <Footer/>\n          <ThemeCustomize/>\n          </div>\n        </div>\n        <ToastContainer/>\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  console.log(\"state THE MF JACKPOT! : \", state); // changeGlobalStyles\n  return {\n    data: state.auth.data,\n    paneActive: _.has(state.changeGlobalStyles, \"paneActive\") ? state.changeGlobalStyles.paneActive : false\n  }\n}\nexport default connect(mapStateToProps, { shiftCoreStyles })(App);"]},"metadata":{},"sourceType":"module"}