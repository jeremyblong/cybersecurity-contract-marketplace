{"ast":null,"code":"import _classCallCheck from \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/app.jsx\";\nimport React, { Fragment, Component } from 'react';\nimport Loader from \"../layout/loader\";\nimport Header from '../layout/header';\nimport Sidebar from '../layout/sidebar';\nimport Footer from '../layout/footer';\nimport ThemeCustomize from \"../layout/theme-customizer\";\nimport { ToastContainer } from 'react-toastify';\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { shiftCoreStyles } from \"../redux/actions/universal/index.js\";\nimport axios from \"axios\";\n\nvar App = /*#__PURE__*/function (_Component) {\n  _inherits(App, _Component);\n\n  var _super = _createSuper(App);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _super.call(this, props);\n    _this.state = {\n      ready: false,\n      balance: 0\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"MOUNTED IN APP.JS\");\n      var shiftCoreStyles = this.props.shiftCoreStyles;\n      shiftCoreStyles(false);\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps, prevState) {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          shiftCoreStyles = _this$props.shiftCoreStyles,\n          data = _this$props.data;\n\n      if (typeof data !== \"undefined\" && !_.isEmpty(data) && this.state.balance === 0) {\n        console.log(\"RAN!\");\n        axios.get(\"\".concat(process.env.REACT_APP_BASE_URL, \"/gather/availiable/stripe/bal\"), {\n          params: {\n            uniqueId: data.uniqueId,\n            accountType: data.accountType\n          }\n        }).then(function (res) {\n          if (res.data.message === \"Gathered balance!\") {\n            console.log(\"BALANCE IS...:\", res.data);\n            var bal = res.data.bal;\n\n            if (data.accountType === \"employers\") {\n              _this2.setState({\n                balance: (bal / 100).toFixed(2),\n                ready: true\n              });\n            } else {\n              var amount = bal.available[0].amount;\n\n              _this2.setState({\n                balance: (amount / 100).toFixed(2),\n                ready: true\n              });\n            }\n          } else {\n            console.log(\"err\", res.data);\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }\n\n      if (prevProps.paneActive === true) {\n        shiftCoreStyles(false);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          children = _this$props2.children,\n          paneActive = _this$props2.paneActive;\n      var _this$state = this.state,\n          ready = _this$state.ready,\n          balance = _this$state.balance;\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(Loader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: paneActive === true ? \"page-wrapper compact-wrapper enact-nonclick\" : \"page-wrapper compact-wrapper\",\n        id: \"pageWrapper\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        ready: ready,\n        balance: balance,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 9\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"page-body-wrapper sidebar-icon\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(Sidebar, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"page-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 11\n        }\n      }, children), /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }\n      }), /*#__PURE__*/React.createElement(ThemeCustomize, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }\n      }))), /*#__PURE__*/React.createElement(ToastContainer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  console.log(\"state THE MF JACKPOT! : \", state); // changeGlobalStyles\n\n  return {\n    data: state.auth.data,\n    paneActive: _.has(state.changeGlobalStyles, \"paneActive\") ? state.changeGlobalStyles.paneActive : false\n  };\n};\n\nexport default connect(mapStateToProps, {\n  shiftCoreStyles: shiftCoreStyles\n})(App);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/app.jsx"],"names":["React","Fragment","Component","Loader","Header","Sidebar","Footer","ThemeCustomize","ToastContainer","connect","_","shiftCoreStyles","axios","App","props","state","ready","balance","console","log","prevProps","prevState","data","isEmpty","get","process","env","REACT_APP_BASE_URL","params","uniqueId","accountType","then","res","message","bal","setState","toFixed","amount","available","catch","err","paneActive","children","mapStateToProps","auth","has","changeGlobalStyles"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from 'react';\nimport Loader from \"../layout/loader\";\nimport Header from '../layout/header'\nimport Sidebar from '../layout/sidebar'\nimport Footer from '../layout/footer'\nimport ThemeCustomize from \"../layout/theme-customizer\";\nimport {ToastContainer} from 'react-toastify';\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { shiftCoreStyles } from \"../redux/actions/universal/index.js\";\nimport axios from \"axios\";\n\nclass App extends Component {\nconstructor(props) {\n  super(props);\n\n  this.state = {\n    ready: false,\n    balance: 0\n  }\n}\n  componentDidMount() {\n    console.log(\"MOUNTED IN APP.JS\");\n\n    const { shiftCoreStyles } = this.props;\n\n    shiftCoreStyles(false);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { shiftCoreStyles, data } = this.props;\n\n    if (typeof data !== \"undefined\" && !_.isEmpty(data) && this.state.balance === 0) {\n      console.log(\"RAN!\");\n\n      axios.get(`${process.env.REACT_APP_BASE_URL}/gather/availiable/stripe/bal`, {\n        params: {\n          uniqueId: data.uniqueId,\n          accountType: data.accountType\n        }\n      }).then((res) => {\n          if (res.data.message === \"Gathered balance!\") {\n              console.log(\"BALANCE IS...:\", res.data);\n  \n              const { bal } = res.data;\n  \n              if (data.accountType === \"employers\") {\n\n                this.setState({\n                  balance: (bal / 100).toFixed(2),\n                  ready: true\n                })\n              } else {\n                const { amount } = bal.available[0];\n\n                this.setState({\n                  balance: (amount / 100).toFixed(2),\n                  ready: true\n                })\n              }\n          } else {\n              console.log(\"err\", res.data);\n          }\n      }).catch((err) => {\n          console.log(err);\n      });\n    }\n\n    if (prevProps.paneActive === true) {\n      shiftCoreStyles(false);\n    }\n  }\n  render () {\n    const { children, paneActive } = this.props;\n    const { ready, balance } = this.state;\n    return (\n      <Fragment>\n        <Loader/>\n        <div className={paneActive === true ? \"page-wrapper compact-wrapper enact-nonclick\" : \"page-wrapper compact-wrapper\"} id=\"pageWrapper\">\n        <Header ready={ready} balance={balance} />\n        <div className=\"page-body-wrapper sidebar-icon\">\n          <Sidebar/>\n          <div className=\"page-body\">\n            {children}\n          </div>\n          <Footer/>\n          <ThemeCustomize/>\n          </div>\n        </div>\n        <ToastContainer/>\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  console.log(\"state THE MF JACKPOT! : \", state); // changeGlobalStyles\n  return {\n    data: state.auth.data,\n    paneActive: _.has(state.changeGlobalStyles, \"paneActive\") ? state.changeGlobalStyles.paneActive : false\n  }\n}\nexport default connect(mapStateToProps, { shiftCoreStyles })(App);"]},"metadata":{},"sourceType":"module"}