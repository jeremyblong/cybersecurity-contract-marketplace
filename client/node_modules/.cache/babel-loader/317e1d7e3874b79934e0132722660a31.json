{"ast":null,"code":"export const getCroppedImg = (image, crop, mimetype) => {\n  const canvas = document.createElement(\"canvas\");\n  const scaleX = image.naturalWidth / image.width;\n  const scaleY = image.naturalHeight / image.height;\n  canvas.width = crop.width;\n  canvas.height = crop.height;\n  const ctx = canvas.getContext(\"2d\");\n  const img = new Image();\n\n  img.onload = function () {\n    console.log(\"onload ran!\");\n    ctx.drawImage(img, scaleX, scaleY);\n  };\n\n  img.src = URL.createObjectURL(image);\n  ; // New lines to be added\n\n  const pixelRatio = window.devicePixelRatio;\n  canvas.width = crop.width * pixelRatio;\n  canvas.height = crop.height * pixelRatio;\n  ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n  ctx.imageSmoothingQuality = \"high\";\n  ctx.drawImage(img, crop.x * scaleX, crop.y * scaleY, crop.width * scaleX, crop.height * scaleY, 0, 0, crop.width, crop.height); // convert to base64\n\n  const base64Image = canvas.toDataURL(mimetype);\n  return base64Image;\n};","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity/client/src/components/dashboard/profile/employer/view/generalDetails/helpers/croppingBannerImage/getCroppedImage.js"],"names":["getCroppedImg","image","crop","mimetype","canvas","document","createElement","scaleX","naturalWidth","width","scaleY","naturalHeight","height","ctx","getContext","img","Image","onload","console","log","drawImage","src","URL","createObjectURL","pixelRatio","window","devicePixelRatio","setTransform","imageSmoothingQuality","x","y","base64Image","toDataURL"],"mappings":"AAAA,OAAO,MAAMA,aAAa,GAAG,CAACC,KAAD,EAAQC,IAAR,EAAcC,QAAd,KAA2B;AACpD,QAAMC,MAAM,GAAGC,QAAQ,CAACC,aAAT,CAAuB,QAAvB,CAAf;AACA,QAAMC,MAAM,GAAGN,KAAK,CAACO,YAAN,GAAqBP,KAAK,CAACQ,KAA1C;AACA,QAAMC,MAAM,GAAGT,KAAK,CAACU,aAAN,GAAsBV,KAAK,CAACW,MAA3C;AACAR,EAAAA,MAAM,CAACK,KAAP,GAAeP,IAAI,CAACO,KAApB;AACAL,EAAAA,MAAM,CAACQ,MAAP,GAAgBV,IAAI,CAACU,MAArB;AACA,QAAMC,GAAG,GAAGT,MAAM,CAACU,UAAP,CAAkB,IAAlB,CAAZ;AAEA,QAAMC,GAAG,GAAG,IAAIC,KAAJ,EAAZ;;AAEAD,EAAAA,GAAG,CAACE,MAAJ,GAAa,YAAW;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAN,IAAAA,GAAG,CAACO,SAAJ,CAAcL,GAAd,EAAmBR,MAAnB,EAA2BG,MAA3B;AACD,GAHD;;AAIAK,EAAAA,GAAG,CAACM,GAAJ,GAAUC,GAAG,CAACC,eAAJ,CAAoBtB,KAApB,CAAV;AAAqC,GAde,CAgBpD;;AACA,QAAMuB,UAAU,GAAGC,MAAM,CAACC,gBAA1B;AACAtB,EAAAA,MAAM,CAACK,KAAP,GAAeP,IAAI,CAACO,KAAL,GAAae,UAA5B;AACApB,EAAAA,MAAM,CAACQ,MAAP,GAAgBV,IAAI,CAACU,MAAL,GAAcY,UAA9B;AACAX,EAAAA,GAAG,CAACc,YAAJ,CAAiBH,UAAjB,EAA6B,CAA7B,EAAgC,CAAhC,EAAmCA,UAAnC,EAA+C,CAA/C,EAAkD,CAAlD;AACAX,EAAAA,GAAG,CAACe,qBAAJ,GAA4B,MAA5B;AAEAf,EAAAA,GAAG,CAACO,SAAJ,CACEL,GADF,EAEEb,IAAI,CAAC2B,CAAL,GAAStB,MAFX,EAGEL,IAAI,CAAC4B,CAAL,GAASpB,MAHX,EAIER,IAAI,CAACO,KAAL,GAAaF,MAJf,EAKEL,IAAI,CAACU,MAAL,GAAcF,MALhB,EAME,CANF,EAOE,CAPF,EAQER,IAAI,CAACO,KARP,EASEP,IAAI,CAACU,MATP,EAvBoD,CAmCpD;;AACA,QAAMmB,WAAW,GAAG3B,MAAM,CAAC4B,SAAP,CAAiB7B,QAAjB,CAApB;AAEA,SAAO4B,WAAP;AACH,CAvCM","sourcesContent":["export const getCroppedImg = (image, crop, mimetype) => {\n    const canvas = document.createElement(\"canvas\");\n    const scaleX = image.naturalWidth / image.width;\n    const scaleY = image.naturalHeight / image.height;\n    canvas.width = crop.width;\n    canvas.height = crop.height;\n    const ctx = canvas.getContext(\"2d\");\n\n    const img = new Image();\n\n    img.onload = function() {\n      console.log(\"onload ran!\");\n      ctx.drawImage(img, scaleX, scaleY);    \n    }  \n    img.src = URL.createObjectURL(image);;\n  \n    // New lines to be added\n    const pixelRatio = window.devicePixelRatio;\n    canvas.width = crop.width * pixelRatio;\n    canvas.height = crop.height * pixelRatio;\n    ctx.setTransform(pixelRatio, 0, 0, pixelRatio, 0, 0);\n    ctx.imageSmoothingQuality = \"high\";\n  \n    ctx.drawImage(\n      img,\n      crop.x * scaleX,\n      crop.y * scaleY,\n      crop.width * scaleX,\n      crop.height * scaleY,\n      0,\n      0,\n      crop.width,\n      crop.height\n    );\n  \n    // convert to base64\n    const base64Image = canvas.toDataURL(mimetype);\n\n    return base64Image;\n}"]},"metadata":{},"sourceType":"module"}