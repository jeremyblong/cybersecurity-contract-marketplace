{"ast":null,"code":"var _jsxFileName = \"/home/kali/Documents/cybersecurity/client/src/components/dashboard/forums/individualForum/helpers/bottomTabbed/helpers/helperFunctions.js\";\nimport React, { Fragment, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport { Media, Container, Row, Col, Input, CardFooter, Card, CardBody, Form, CardHeader, FormGroup, Label, Button } from \"reactstrap\";\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport \"./styles.css\";\nimport { NotificationManager } from \"react-notifications\";\nimport Sheet from 'react-modal-sheet';\nimport reduxFormHelpers from \"./reduxForumHelpers/formHelpers.js\";\nimport { useForm, Controller } from 'react-hook-form';\nimport { WithContext as ReactTags } from 'react-tag-input';\nconst KeyCodes = {\n  comma: 188,\n  enter: [10, 13]\n};\nconst delimiters = [...KeyCodes.enter, KeyCodes.comma];\nconst replySubcommentChecks = reduxFormHelpers().replySubcommentChecks;\n\nconst renderSignedinUserPicVideo = file => {\n  if (file !== null && _.has(file, \"link\")) {\n    if (file.type.includes(\"video\")) {\n      // video logic\n      return /*#__PURE__*/React.createElement(Media, {\n        className: \"forum-video-wrapper-signedin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ReactPlayer, {\n        playing: true,\n        loop: true,\n        muted: true,\n        width: \"100%\",\n        className: \"media-body img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum\",\n        wrapper: \"div\",\n        url: `${process.env.REACT_APP_ASSET_LINK}/${file.link}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 30,\n          columnNumber: 21\n        }\n      }));\n    } else {\n      // image logic\n      return /*#__PURE__*/React.createElement(Media, {\n        className: \"img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum\",\n        body: true,\n        alt: \"profile-picture-sub\",\n        src: `${process.env.REACT_APP_ASSET_LINK}/${file.link}`,\n        \"data-intro\": \"This is Profile image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 20\n        }\n      });\n    }\n  } else {\n    // image logic\n    return /*#__PURE__*/React.createElement(Media, {\n      className: \"img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum\",\n      body: true,\n      alt: \"profile-picture-sub\",\n      src: process.env.REACT_APP_PLACEHOLDER_IMAGE,\n      \"data-intro\": \"This is Profile image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 16\n      }\n    });\n  }\n};\n\nconst renderPicVideoComment = file => {\n  if (file !== null && _.has(file, \"link\")) {\n    if (file.type.includes(\"video\")) {\n      // video logic\n      return /*#__PURE__*/React.createElement(Media, {\n        className: \"forum-video-wrapper-signedin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ReactPlayer, {\n        playing: true,\n        loop: true,\n        muted: true,\n        width: \"100%\",\n        className: \"media-body img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum-second\",\n        wrapper: \"div\",\n        url: `${process.env.REACT_APP_ASSET_LINK}/${file.link}`,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }\n      }));\n    } else {\n      // image logic\n      return /*#__PURE__*/React.createElement(Media, {\n        className: \"img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum-second\",\n        body: true,\n        alt: \"profile-picture-sub\",\n        src: `${process.env.REACT_APP_ASSET_LINK}/${file.link}`,\n        \"data-intro\": \"This is Profile image\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 20\n        }\n      });\n    }\n  } else {\n    // image logic\n    return /*#__PURE__*/React.createElement(Media, {\n      className: \"img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum-second\",\n      body: true,\n      alt: \"profile-picture-sub\",\n      src: process.env.REACT_APP_PLACEHOLDER_IMAGE,\n      \"data-intro\": \"This is Profile image\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 16\n      }\n    });\n  }\n\n  ;\n};\n\nconst addNewComment = (commentText, setCommentText, subthreadID, setComments, poster, userData) => {\n  const configuration = {\n    subthreadID: subthreadID,\n    commentText,\n    subthreadPosterID: poster,\n    signedinUserID: userData.uniqueId,\n    signedinAccountType: userData.accountType\n  };\n  axios.post(`${process.env.REACT_APP_BASE_URL}/post/new/comment/forums/subthread/subcomment`, configuration).then(res => {\n    if (res.data.message === \"Successfully posted a new comment on subthread!\") {\n      console.log(res.data);\n      const {\n        comments\n      } = res.data;\n      setComments(comments);\n      setCommentText(\"\");\n      NotificationManager.success(\"We've successfully updated this forum post and added your comment & it is now live/public! Check back often to see any breaking changes or check your notifications!\", \"Successfully posted your comment!\", 4750);\n    } else {\n      console.log(\"errr inside...:\", res.data);\n      NotificationManager.error(\"An unknown error occurred while attempting to post your new comment, contact support if this problem persists or try commenting again...\", \"Unknown error occurred while trying to post new comment!\", 4750);\n    }\n  }).catch(err => {\n    console.log(err);\n    NotificationManager.error(\"An unknown error occurred while attempting to post your new comment, contact support if this problem persists or try commenting again...\", \"Unknown error occurred while trying to post new comment!\", 4750);\n  });\n};\n\nconst ForumCommentAddHashtagsOptionHelper = _ref => {\n  let {\n    setHashtags,\n    hashtags\n  } = _ref;\n  // state initialization\n  const suggestions = useState([]);\n\n  const handleDelete = i => {\n    setHashtags(hashtags.filter((tag, index) => index !== i));\n  };\n\n  const handleAddition = tag => {\n    setHashtags(prevState => {\n      return [...prevState, tag];\n    });\n  };\n\n  const handleDrag = (tag, currPos, newPos) => {\n    const tags = [...hashtags];\n    const newTags = tags.slice();\n    newTags.splice(currPos, 1);\n    newTags.splice(newPos, 0, tag);\n    setHashtags(newTags);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \"(OPTIONAL) Add hashtag's to your comment to emphisize certain subject's or points of focus\"), /*#__PURE__*/React.createElement(ReactTags, {\n    autofocus: false,\n    tags: hashtags,\n    classNames: {\n      tags: 'tagsClass',\n      tagInput: 'tagInputClass',\n      tagInputField: 'form-control',\n      selected: 'selectedClass',\n      tag: 'badge badge-primary custom-tag-streaming',\n      remove: 'removeClass',\n      suggestions: 'suggestionsClass',\n      activeSuggestion: 'activeSuggestionClass'\n    },\n    placeholder: \"(OPTIONAL) Add hashtags to your comment...\",\n    maxLength: 10 // suggestions={suggestions}\n    ,\n    handleDelete: handleDelete,\n    handleAddition: handleAddition,\n    handleDrag: handleDrag,\n    delimiters: delimiters,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }\n  }));\n};\n\nconst RenderModalSheetAddComment = _ref2 => {\n  let {\n    isOpen,\n    setOpenState\n  } = _ref2;\n  const [hashtags, setHashtags] = useState([]);\n  const {\n    register,\n    handleSubmit,\n    control,\n    reset,\n    getValues,\n    setValue,\n    setError,\n    clearErrors,\n    formState: {\n      errors\n    }\n  } = useForm({\n    mode: \"onTouched\",\n    reValidateMode: \"onBlur\"\n  });\n\n  const onSubmit = (data, e) => {\n    console.log(\"onSubmit submitted form data...\", data, e);\n  };\n\n  const errorsSubmit = (e, errors) => {\n    console.log(\"errors occurred while attempting to submit\", e, errors);\n  }; // get form-redux values\n\n\n  const currentValues = getValues();\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Sheet, {\n    isOpen: isOpen,\n    onClose: () => setOpenState(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Sheet.Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Sheet.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Sheet.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: \"12\",\n    md: \"12\",\n    lg: \"12\",\n    xl: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"shadowy-card-forum-comment\",\n    style: {\n      marginTop: \"25px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 37\n    }\n  }, \"Post A New Comment Response\")), /*#__PURE__*/React.createElement(Form, {\n    className: \"form theme-form\",\n    onSubmit: handleSubmit(onSubmit, (e, errors) => {\n      return errorsSubmit(e, errors);\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(ForumCommentAddHashtagsOptionHelper, {\n    hashtags: hashtags,\n    setHashtags: setHashtags,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 53\n    }\n  })))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    htmlFor: \"exampleFormControlSelect3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 53\n    }\n  }, replySubcommentChecks.label), /*#__PURE__*/React.createElement(Input, Object.assign({}, replySubcommentChecks.check(setError, register), {\n    placeholder: replySubcommentChecks.placeholder,\n    onChange: e => replySubcommentChecks.onChange(e.target.value, setValue, clearErrors),\n    value: currentValues.subcomment,\n    type: replySubcommentChecks.type,\n    className: \"form-control\",\n    rows: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 53\n    }\n  })), errors.subcomment ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span-tooltip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 74\n    }\n  }, errors.subcomment.message) : null)))), /*#__PURE__*/React.createElement(CardFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: \"49.5%\"\n    },\n    color: \"primary\",\n    type: \"submit\",\n    className: \"mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 41\n    }\n  }, \"Submit Comment\"), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      width: \"49.5%\"\n    },\n    color: \"light\",\n    type: \"reset\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 41\n    }\n  }, \"Cancel/Close\")))))))), /*#__PURE__*/React.createElement(Sheet.Backdrop, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }\n  })));\n};\n\nexport default {\n  renderSignedinUserPicVideo,\n  addNewComment,\n  renderPicVideoComment,\n  RenderModalSheetAddComment\n};","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity/client/src/components/dashboard/forums/individualForum/helpers/bottomTabbed/helpers/helperFunctions.js"],"names":["React","Fragment","useState","ReactPlayer","Media","Container","Row","Col","Input","CardFooter","Card","CardBody","Form","CardHeader","FormGroup","Label","Button","_","axios","NotificationManager","Sheet","reduxFormHelpers","useForm","Controller","WithContext","ReactTags","KeyCodes","comma","enter","delimiters","replySubcommentChecks","renderSignedinUserPicVideo","file","has","type","includes","process","env","REACT_APP_ASSET_LINK","link","REACT_APP_PLACEHOLDER_IMAGE","renderPicVideoComment","addNewComment","commentText","setCommentText","subthreadID","setComments","poster","userData","configuration","subthreadPosterID","signedinUserID","uniqueId","signedinAccountType","accountType","post","REACT_APP_BASE_URL","then","res","data","message","console","log","comments","success","error","catch","err","ForumCommentAddHashtagsOptionHelper","setHashtags","hashtags","suggestions","handleDelete","i","filter","tag","index","handleAddition","prevState","handleDrag","currPos","newPos","tags","newTags","slice","splice","tagInput","tagInputField","selected","remove","activeSuggestion","RenderModalSheetAddComment","isOpen","setOpenState","register","handleSubmit","control","reset","getValues","setValue","setError","clearErrors","formState","errors","mode","reValidateMode","onSubmit","e","errorsSubmit","currentValues","marginTop","label","check","placeholder","onChange","target","value","subcomment","width"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from \"react\";\nimport ReactPlayer from \"react-player\";\nimport { Media, Container, Row, Col, Input, CardFooter, Card, CardBody, Form, CardHeader, FormGroup, Label, Button } from \"reactstrap\";\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport \"./styles.css\";\nimport { NotificationManager } from \"react-notifications\";\nimport Sheet from 'react-modal-sheet';\nimport reduxFormHelpers from \"./reduxForumHelpers/formHelpers.js\";\nimport { useForm, Controller } from 'react-hook-form';\nimport { WithContext as ReactTags } from 'react-tag-input';\n\n\nconst KeyCodes = {\n    comma: 188,\n    enter: [10, 13],\n  };\n  \nconst delimiters = [...KeyCodes.enter, KeyCodes.comma];\n\n\nconst replySubcommentChecks = reduxFormHelpers().replySubcommentChecks;\n\nconst renderSignedinUserPicVideo = (file) => {\n    if (file !== null && _.has(file, \"link\")) {\n        if (file.type.includes(\"video\")) {\n            // video logic\n            return (\n                <Media className=\"forum-video-wrapper-signedin\">\n                    <ReactPlayer playing={true} loop={true} muted={true} width={\"100%\"} className={\"media-body img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum\"} wrapper={\"div\"} url={`${process.env.REACT_APP_ASSET_LINK}/${file.link}`} />\n                </Media>\n            );\n        } else {\n            // image logic\n            return <Media className=\"img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum\" body alt=\"profile-picture-sub\" src={`${process.env.REACT_APP_ASSET_LINK}/${file.link}`} data-intro=\"This is Profile image\" />;\n        }    \n    } else {\n        // image logic\n        return <Media className=\"img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum\" body alt=\"profile-picture-sub\" src={process.env.REACT_APP_PLACEHOLDER_IMAGE} data-intro=\"This is Profile image\" />;\n    } \n}\nconst renderPicVideoComment = (file) => {\n    if (file !== null && _.has(file, \"link\")) {\n        if (file.type.includes(\"video\")) {\n            // video logic\n            return (\n                <Media className=\"forum-video-wrapper-signedin\">\n                    <ReactPlayer playing={true} loop={true} muted={true} width={\"100%\"} className={\"media-body img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum-second\"} wrapper={\"div\"} url={`${process.env.REACT_APP_ASSET_LINK}/${file.link}`} />\n                </Media>\n            );\n        } else {\n            // image logic\n            return <Media className=\"img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum-second\" body alt=\"profile-picture-sub\" src={`${process.env.REACT_APP_ASSET_LINK}/${file.link}`} data-intro=\"This is Profile image\" />;\n        }    \n    } else {\n        // image logic\n        return <Media className=\"img-50 img-fluid m-r-20 rounded-circle force-rounded-file-forum-second\" body alt=\"profile-picture-sub\" src={process.env.REACT_APP_PLACEHOLDER_IMAGE} data-intro=\"This is Profile image\" />;\n    };\n}\nconst addNewComment = (commentText, setCommentText, subthreadID, setComments, poster, userData) => {\n    const configuration = {\n        subthreadID: subthreadID, \n        commentText,\n        subthreadPosterID: poster,\n        signedinUserID: userData.uniqueId,\n        signedinAccountType: userData.accountType\n    }\n    axios.post(`${process.env.REACT_APP_BASE_URL}/post/new/comment/forums/subthread/subcomment`, configuration).then((res) => {\n        if (res.data.message === \"Successfully posted a new comment on subthread!\") {\n            console.log(res.data);\n\n            const { comments } = res.data;\n\n            setComments(comments);\n            setCommentText(\"\");\n\n            NotificationManager.success(\"We've successfully updated this forum post and added your comment & it is now live/public! Check back often to see any breaking changes or check your notifications!\", \"Successfully posted your comment!\", 4750);\n        } else {\n            console.log(\"errr inside...:\", res.data);\n\n            NotificationManager.error(\"An unknown error occurred while attempting to post your new comment, contact support if this problem persists or try commenting again...\", \"Unknown error occurred while trying to post new comment!\", 4750);\n        }\n    }).catch((err) => {\n        console.log(err);\n\n        NotificationManager.error(\"An unknown error occurred while attempting to post your new comment, contact support if this problem persists or try commenting again...\", \"Unknown error occurred while trying to post new comment!\", 4750);\n    })\n}\nconst ForumCommentAddHashtagsOptionHelper = ({ setHashtags, hashtags }) => {\n    // state initialization\n    const suggestions = useState([])\n\n    const handleDelete = (i) => {\n        setHashtags(hashtags.filter((tag, index) => index !== i));\n    }\n    const handleAddition = (tag) => {\n\n        setHashtags(prevState => {\n            return [...prevState, tag]\n        })\n    }\n\n    const handleDrag = (tag, currPos, newPos) => {\n        const tags = [...hashtags];\n        const newTags = tags.slice();\n\n        newTags.splice(currPos, 1);\n        newTags.splice(newPos, 0, tag);\n\n        setHashtags(newTags);\n    }\n    return (\n        <div>\n            <Label>{\"(OPTIONAL) Add hashtag's to your comment to emphisize certain subject's or points of focus\"}</Label>\n            <ReactTags \n                autofocus={false}\n                tags={hashtags}\n                classNames={{\n                    tags: 'tagsClass',\n                    tagInput: 'tagInputClass',\n                    tagInputField: 'form-control',\n                    selected: 'selectedClass',\n                    tag: 'badge badge-primary custom-tag-streaming',\n                    remove: 'removeClass',\n                    suggestions: 'suggestionsClass',\n                    activeSuggestion: 'activeSuggestionClass'\n                }}\n                placeholder={\"(OPTIONAL) Add hashtags to your comment...\"}\n                maxLength={10}\n                // suggestions={suggestions}\n                handleDelete={handleDelete}\n                handleAddition={handleAddition}\n                handleDrag={handleDrag}\n                delimiters={delimiters} \n            />\n        </div>\n    );\n};\nconst RenderModalSheetAddComment = ({ isOpen, setOpenState }) => {\n\n    const [ hashtags, setHashtags ] = useState([]);\n\n    const { register, handleSubmit, control, reset, getValues, setValue, setError, clearErrors, formState: { errors }} = useForm({\n        mode: \"onTouched\",\n        reValidateMode: \"onBlur\"\n    });\n\n    const onSubmit = (data, e) => {\n        console.log(\"onSubmit submitted form data...\", data, e);\n    }\n\n    const errorsSubmit = (e, errors) => {\n        console.log(\"errors occurred while attempting to submit\", e, errors);\n    }\n\n    // get form-redux values\n    const currentValues = getValues();\n\n    return (\n        <Fragment>\n            <Sheet isOpen={isOpen} onClose={() => setOpenState(false)}>\n                <Sheet.Container>\n                <Sheet.Header />\n                <Sheet.Content>\n                    <Container fluid={true}>\n                        <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                            <Card className=\"shadowy-card-forum-comment\" style={{ marginTop: \"25px\" }}>\n                                <CardHeader>\n                                    <h5>Post A New Comment Response</h5>\n                                </CardHeader>\n                                <Form className=\"form theme-form\" onSubmit={handleSubmit(onSubmit, (e, errors) => {\n                                    return errorsSubmit(e, errors);\n                                })}>\n                                    <CardBody>\n                                        <Row>\n                                            <Col>\n                                                <FormGroup>\n                                                    <ForumCommentAddHashtagsOptionHelper hashtags={hashtags} setHashtags={setHashtags} />\n                                                </FormGroup>\n                                            </Col>\n                                        </Row>\n                                        <Row>\n                                            <Col>\n                                                <FormGroup>\n                                                    <Label htmlFor=\"exampleFormControlSelect3\">{replySubcommentChecks.label}</Label>\n                                                    <Input {...replySubcommentChecks.check(setError, register)} placeholder={replySubcommentChecks.placeholder} onChange={(e) => replySubcommentChecks.onChange(e.target.value, setValue, clearErrors)} value={currentValues.subcomment} type={replySubcommentChecks.type} className=\"form-control\"  rows=\"5\"/>\n                                                    {errors.subcomment ? <span className=\"span-tooltip\">{errors.subcomment.message}</span> : null}\n                                                </FormGroup>\n                                            </Col>\n                                        </Row>\n                                    </CardBody>\n                                    <CardFooter>\n                                        <Button style={{ width: \"49.5%\" }} color=\"primary\" type={\"submit\"} className=\"mr-1\">Submit Comment</Button>\n                                        <Button style={{ width: \"49.5%\" }} color=\"light\" type=\"reset\">Cancel/Close</Button>\n                                    </CardFooter>\n                                </Form>\n                            </Card>\n                        </Col>\n                    </Container>\n                </Sheet.Content>\n                </Sheet.Container>\n\n                <Sheet.Backdrop />\n            </Sheet>\n        </Fragment>\n    );\n}\nexport default {\n    renderSignedinUserPicVideo,\n    addNewComment,\n    renderPicVideoComment,\n    RenderModalSheetAddComment\n};"]},"metadata":{},"sourceType":"module"}