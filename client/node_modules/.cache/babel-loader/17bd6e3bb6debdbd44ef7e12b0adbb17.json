{"ast":null,"code":"function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n\n  _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport * as utils from './utils';\nvar MIN_SCALE = 1;\nvar MAX_SCALE = 4;\nvar SETTLE_RANGE = 0.001;\nvar ADDITIONAL_LIMIT = 0.2;\nvar DOUBLE_TAP_THRESHOLD = 300;\nvar ANIMATION_SPEED = 0.04;\nvar RESET_ANIMATION_SPEED = 0.08;\nvar INITIAL_X = 0;\nvar INITIAL_Y = 0;\nvar INITIAL_SCALE = 1;\nvar MOBILE_ICON_SIZE = 35;\nvar DESKTOP_ICON_SIZE = 50;\n\nvar ReactImageVideoLightbox = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ReactImageVideoLightbox, _React$Component);\n\n  function ReactImageVideoLightbox(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = {\n      x: INITIAL_X,\n      y: INITIAL_Y,\n      scale: INITIAL_SCALE,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      index: _this.props.startIndex,\n      swiping: false,\n      loading: true,\n      iconSize: window.innerWidth <= 500 ? MOBILE_ICON_SIZE : DESKTOP_ICON_SIZE\n    };\n    _this.width = window.innerWidth;\n    _this.height = window.innerHeight;\n    _this.handleTouchStart = _this.handleTouchStart.bind(_assertThisInitialized(_this));\n    _this.handleTouchMove = _this.handleTouchMove.bind(_assertThisInitialized(_this));\n    _this.handleTouchEnd = _this.handleTouchEnd.bind(_assertThisInitialized(_this));\n    _this.onNavigationCallback = _this.props.onNavigationCallback && typeof _this.props.onNavigationCallback === 'function' ? _this.props.onNavigationCallback : function () {};\n    return _this;\n  }\n\n  var _proto = ReactImageVideoLightbox.prototype;\n\n  _proto.zoomTo = function zoomTo(scale) {\n    var _this2 = this;\n\n    var frame = function frame() {\n      if (_this2.state.scale === scale) return;\n      var distance = scale - _this2.state.scale;\n      var targetScale = _this2.state.scale + ANIMATION_SPEED * distance;\n\n      _this2.zoom(utils.settle(targetScale, scale, SETTLE_RANGE));\n\n      _this2.animation = requestAnimationFrame(frame);\n    };\n\n    this.animation = requestAnimationFrame(frame);\n  };\n\n  _proto.reset = function reset() {\n    var _this3 = this;\n\n    var frame = function frame() {\n      if (_this3.state.scale === INITIAL_SCALE && _this3.state.x === INITIAL_X && _this3.state.y === INITIAL_Y) return;\n      var scaleDelta = INITIAL_SCALE - _this3.state.scale;\n      var targetScale = utils.settle(_this3.state.scale + RESET_ANIMATION_SPEED * scaleDelta, INITIAL_SCALE, SETTLE_RANGE);\n      var nextWidth = _this3.width * targetScale;\n      var nextHeight = _this3.height * targetScale;\n\n      _this3.setState({\n        scale: targetScale,\n        width: nextWidth,\n        height: nextHeight,\n        x: INITIAL_X,\n        y: INITIAL_Y\n      }, function () {\n        _this3.animation = requestAnimationFrame(frame);\n      });\n    };\n\n    this.animation = requestAnimationFrame(frame);\n  };\n\n  _proto.handleTouchStart = function handleTouchStart(event) {\n    this.animation && cancelAnimationFrame(this.animation);\n    if (event.touches.length === 2) this.handlePinchStart(event);\n    if (event.touches.length === 1) this.handleTapStart(event);\n  };\n\n  _proto.handleTouchMove = function handleTouchMove(event) {\n    if (event.touches.length === 2) this.handlePinchMove(event);\n    if (event.touches.length === 1) this.handlePanMove(event);\n  };\n\n  _proto.handleTouchEnd = function handleTouchEnd(event) {\n    if (event.touches.length > 0) return null;\n    if (this.state.scale > MAX_SCALE) return this.zoomTo(MAX_SCALE);\n    if (this.state.scale < MIN_SCALE) return this.zoomTo(MIN_SCALE);\n\n    if (this.lastTouchEnd && this.lastTouchEnd + DOUBLE_TAP_THRESHOLD > event.timeStamp) {\n      this.reset();\n    }\n\n    if (this.state.swiping && this.state.scale === 1) {\n      this.handleSwipe(event);\n    }\n\n    this.lastTouchEnd = event.timeStamp;\n  };\n\n  _proto.handleSwipe = function handleSwipe(event) {\n    var swipeDelta = event.changedTouches[0].clientX - this.swipeStartX;\n\n    if (swipeDelta < -(this.width / 3)) {\n      this.swipeRight();\n    } else if (swipeDelta > this.width / 3) {\n      this.swipeLeft();\n    } else {\n      this.reset();\n    }\n  };\n\n  _proto.swipeLeft = function swipeLeft() {\n    var _this4 = this;\n\n    var currentIndex = this.state.index;\n\n    if (currentIndex > 0) {\n      setTimeout(function () {\n        _this4.setState({\n          index: currentIndex - 1,\n          swiping: false,\n          x: INITIAL_X,\n          loading: true\n        }, function () {\n          return _this4.onNavigationCallback(currentIndex - 1);\n        });\n      }, 500);\n    } else {\n      this.reset();\n    }\n  };\n\n  _proto.swipeRight = function swipeRight() {\n    var _this5 = this;\n\n    var currentIndex = this.state.index;\n\n    if (currentIndex < this.props.data.length - 1) {\n      setTimeout(function () {\n        _this5.setState({\n          index: currentIndex + 1,\n          swiping: false,\n          x: INITIAL_X,\n          loading: true\n        }, function () {\n          return _this5.onNavigationCallback(currentIndex + 1);\n        });\n      }, 500);\n    } else {\n      this.reset();\n    }\n  };\n\n  _proto.handleTapStart = function handleTapStart(event) {\n    this.swipeStartX = event.touches[0].clientX;\n    this.swipeStartY = event.touches[0].clientY;\n\n    if (this.state.scale === 1) {\n      this.setState({\n        swiping: true\n      });\n    }\n  };\n\n  _proto.handlePanMove = function handlePanMove(event) {\n    if (this.state.scale === 1) {\n      this.setState({\n        x: event.touches[0].clientX - this.swipeStartX\n      });\n    } else {\n      event.preventDefault();\n      this.setState({\n        x: event.touches[0].clientX - this.swipeStartX,\n        y: event.touches[0].clientY - this.swipeStartY\n      });\n    }\n  };\n\n  _proto.handlePinchStart = function handlePinchStart(event) {\n    var pointA = utils.getPointFromTouch(event.touches[0]);\n    var pointB = utils.getPointFromTouch(event.touches[1]);\n    this.lastDistance = utils.getDistanceBetweenPoints(pointA, pointB);\n  };\n\n  _proto.handlePinchMove = function handlePinchMove(event) {\n    event.preventDefault();\n    var pointA = utils.getPointFromTouch(event.touches[0]);\n    var pointB = utils.getPointFromTouch(event.touches[1]);\n    var distance = utils.getDistanceBetweenPoints(pointA, pointB);\n    var scale = utils.between(MIN_SCALE - ADDITIONAL_LIMIT, MAX_SCALE + ADDITIONAL_LIMIT, this.state.scale * (distance / this.lastDistance));\n    this.zoom(scale);\n    this.lastDistance = distance;\n  };\n\n  _proto.zoom = function zoom(scale) {\n    var nextWidth = this.width * scale;\n    var nextHeight = this.height * scale;\n    this.setState({\n      width: nextWidth,\n      height: nextHeight,\n      scale: scale\n    });\n  };\n\n  _proto.getResources = function getResources() {\n    var _this6 = this;\n\n    var items = [];\n    var data = this.props.data;\n\n    for (var i = 0; i < data.length; i++) {\n      var resource = data[i];\n\n      if (resource.type === 'photo') {\n        items.push( /*#__PURE__*/React.createElement(\"img\", {\n          key: i,\n          alt: resource.altTag,\n          src: resource.url,\n          style: {\n            pointerEvents: this.state.scale === 1 ? 'auto' : 'none',\n            maxWidth: '100%',\n            maxHeight: '100%',\n            transform: \"translate(\" + this.state.x + \"px, \" + this.state.y + \"px) scale(\" + this.state.scale + \")\",\n            transition: 'transform 0.5s ease-out'\n          },\n          onLoad: function onLoad() {\n            _this6.setState({\n              loading: false\n            });\n          }\n        }));\n      }\n\n      if (resource.type === 'video') {\n        items.push( /*#__PURE__*/React.createElement(\"iframe\", {\n          key: i,\n          width: \"560\",\n          height: \"315\",\n          src: resource.url,\n          frameBorder: \"0\",\n          allow: \"autoplay; encrypted-media\",\n          title: resource.title,\n          allowFullScreen: true,\n          style: {\n            pointerEvents: this.state.scale === 1 ? 'auto' : 'none',\n            maxWidth: '100%',\n            maxHeight: '100%',\n            transform: \"translate(\" + this.state.x + \"px, \" + this.state.y + \"px)\",\n            transition: 'transform 0.5s ease-out'\n          },\n          onLoad: function onLoad() {\n            _this6.setState({\n              loading: false\n            });\n          }\n        }));\n      }\n    }\n\n    return items;\n  };\n\n  _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    var _this7 = this;\n\n    window.addEventListener('resize', function () {\n      if (window.innerWidth <= 500) {\n        _this7.setState({\n          iconSize: MOBILE_ICON_SIZE\n        });\n      } else {\n        _this7.setState({\n          iconSize: DESKTOP_ICON_SIZE\n        });\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this8 = this;\n\n    window.removeEventListener('resize', function () {\n      if (window.innerWidth <= 500) {\n        _this8.setState({\n          iconSize: MOBILE_ICON_SIZE\n        });\n      } else {\n        _this8.setState({\n          iconSize: DESKTOP_ICON_SIZE\n        });\n      }\n    });\n  };\n\n  _proto.render = function render() {\n    var _this9 = this;\n\n    var resources = this.getResources();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onTouchStart: this.handleTouchStart,\n      onTouchMove: this.handleTouchMove,\n      onTouchEnd: this.handleTouchEnd,\n      style: {\n        top: '0px',\n        left: '0px',\n        overflow: 'hidden',\n        position: 'fixed',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'row',\n        height: '100%',\n        width: '100%',\n        backgroundColor: 'rgba(0,0,0,1)'\n      }\n    }, this.props.showResourceCount && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '0px',\n        left: '0px',\n        padding: '15px',\n        color: 'white',\n        fontWeight: 'bold'\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", null, this.state.index + 1), \" / \", /*#__PURE__*/React.createElement(\"span\", null, this.props.data.length)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '0px',\n        right: '0px',\n        padding: '10px',\n        color: '#FFFFFF',\n        cursor: 'pointer',\n        fontSize: this.state.iconSize * 0.8 + \"px\"\n      },\n      onClick: this.props.onCloseCallback\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      height: \"36px\",\n      viewBox: \"0 0 24 24\",\n      width: \"36px\",\n      fill: \"#FFFFFF\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n    }))), this.state.index + 1 != 1 ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        left: '0px',\n        zIndex: 1,\n        color: '#FFFFFF',\n        cursor: 'pointer',\n        fontSize: this.state.iconSize + \"px\"\n      },\n      onClick: function onClick() {\n        _this9.swipeLeft();\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      height: \"48px\",\n      viewBox: \"0 0 24 24\",\n      width: \"48px\",\n      fill: \"#FFFFFF\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n    }))) : /*#__PURE__*/React.createElement(React.Fragment, null), this.state.index + 1 != this.props.data.length ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        right: '0px',\n        zIndex: 1,\n        color: '#FFFFFF',\n        cursor: 'pointer',\n        fontSize: this.state.iconSize + \"px\"\n      },\n      onClick: function onClick() {\n        _this9.swipeRight();\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      height: \"48px\",\n      viewBox: \"0 0 24 24\",\n      width: \"48px\",\n      fill: \"#FFFFFF\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n    }))) : /*#__PURE__*/React.createElement(React.Fragment, null), this.state.loading && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 'auto',\n        position: 'fixed'\n      }\n    }, /*#__PURE__*/React.createElement(\"style\", null, \"@keyframes react_image_video_spinner {\\n                  0% {\\n                    transform: translate3d(-50 %, -50 %, 0) rotate(0deg);\\n                  }\\n                  100% {\\n                    transform: translate3d(-50%, -50%, 0) rotate(360deg);\\n                  }\\n                }\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        animation: '1.0s linear infinite react_image_video_spinner',\n        border: 'solid 5px #ffffff',\n        borderBottomColor: '#cfd0d1',\n        borderRadius: '50%',\n        height: 30,\n        width: 30,\n        position: 'fixed',\n        transform: 'translate3d(-50%, -50%, 0)'\n      }\n    })), resources[this.state.index]);\n  };\n\n  return ReactImageVideoLightbox;\n}(React.Component);\n\nexport default ReactImageVideoLightbox;","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity/client/node_modules/react-image-video-lightbox/es/index.js"],"names":["_assertThisInitialized","self","ReferenceError","_inheritsLoose","subClass","superClass","prototype","Object","create","constructor","_setPrototypeOf","o","p","setPrototypeOf","__proto__","React","utils","MIN_SCALE","MAX_SCALE","SETTLE_RANGE","ADDITIONAL_LIMIT","DOUBLE_TAP_THRESHOLD","ANIMATION_SPEED","RESET_ANIMATION_SPEED","INITIAL_X","INITIAL_Y","INITIAL_SCALE","MOBILE_ICON_SIZE","DESKTOP_ICON_SIZE","ReactImageVideoLightbox","_React$Component","props","_this","call","state","x","y","scale","width","window","innerWidth","height","innerHeight","index","startIndex","swiping","loading","iconSize","handleTouchStart","bind","handleTouchMove","handleTouchEnd","onNavigationCallback","_proto","zoomTo","_this2","frame","distance","targetScale","zoom","settle","animation","requestAnimationFrame","reset","_this3","scaleDelta","nextWidth","nextHeight","setState","event","cancelAnimationFrame","touches","length","handlePinchStart","handleTapStart","handlePinchMove","handlePanMove","lastTouchEnd","timeStamp","handleSwipe","swipeDelta","changedTouches","clientX","swipeStartX","swipeRight","swipeLeft","_this4","currentIndex","setTimeout","_this5","data","swipeStartY","clientY","preventDefault","pointA","getPointFromTouch","pointB","lastDistance","getDistanceBetweenPoints","between","getResources","_this6","items","i","resource","type","push","createElement","key","alt","altTag","src","url","style","pointerEvents","maxWidth","maxHeight","transform","transition","onLoad","frameBorder","allow","title","allowFullScreen","UNSAFE_componentWillMount","_this7","addEventListener","componentWillUnmount","_this8","removeEventListener","render","_this9","resources","onTouchStart","onTouchMove","onTouchEnd","top","left","overflow","position","display","alignItems","justifyContent","flexDirection","backgroundColor","showResourceCount","padding","color","fontWeight","right","cursor","fontSize","onClick","onCloseCallback","xmlns","viewBox","fill","d","zIndex","Fragment","margin","border","borderBottomColor","borderRadius","Component"],"mappings":"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","sourcesContent":["function _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inheritsLoose(subClass, superClass) { subClass.prototype = Object.create(superClass.prototype); subClass.prototype.constructor = subClass; _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nimport * as React from 'react';\nimport * as utils from './utils';\nvar MIN_SCALE = 1;\nvar MAX_SCALE = 4;\nvar SETTLE_RANGE = 0.001;\nvar ADDITIONAL_LIMIT = 0.2;\nvar DOUBLE_TAP_THRESHOLD = 300;\nvar ANIMATION_SPEED = 0.04;\nvar RESET_ANIMATION_SPEED = 0.08;\nvar INITIAL_X = 0;\nvar INITIAL_Y = 0;\nvar INITIAL_SCALE = 1;\nvar MOBILE_ICON_SIZE = 35;\nvar DESKTOP_ICON_SIZE = 50;\n\nvar ReactImageVideoLightbox = /*#__PURE__*/function (_React$Component) {\n  _inheritsLoose(ReactImageVideoLightbox, _React$Component);\n\n  function ReactImageVideoLightbox(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this;\n    _this.state = {\n      x: INITIAL_X,\n      y: INITIAL_Y,\n      scale: INITIAL_SCALE,\n      width: window.innerWidth,\n      height: window.innerHeight,\n      index: _this.props.startIndex,\n      swiping: false,\n      loading: true,\n      iconSize: window.innerWidth <= 500 ? MOBILE_ICON_SIZE : DESKTOP_ICON_SIZE\n    };\n    _this.width = window.innerWidth;\n    _this.height = window.innerHeight;\n    _this.handleTouchStart = _this.handleTouchStart.bind(_assertThisInitialized(_this));\n    _this.handleTouchMove = _this.handleTouchMove.bind(_assertThisInitialized(_this));\n    _this.handleTouchEnd = _this.handleTouchEnd.bind(_assertThisInitialized(_this));\n    _this.onNavigationCallback = _this.props.onNavigationCallback && typeof _this.props.onNavigationCallback === 'function' ? _this.props.onNavigationCallback : function () {};\n    return _this;\n  }\n\n  var _proto = ReactImageVideoLightbox.prototype;\n\n  _proto.zoomTo = function zoomTo(scale) {\n    var _this2 = this;\n\n    var frame = function frame() {\n      if (_this2.state.scale === scale) return;\n      var distance = scale - _this2.state.scale;\n      var targetScale = _this2.state.scale + ANIMATION_SPEED * distance;\n\n      _this2.zoom(utils.settle(targetScale, scale, SETTLE_RANGE));\n\n      _this2.animation = requestAnimationFrame(frame);\n    };\n\n    this.animation = requestAnimationFrame(frame);\n  };\n\n  _proto.reset = function reset() {\n    var _this3 = this;\n\n    var frame = function frame() {\n      if (_this3.state.scale === INITIAL_SCALE && _this3.state.x === INITIAL_X && _this3.state.y === INITIAL_Y) return;\n      var scaleDelta = INITIAL_SCALE - _this3.state.scale;\n      var targetScale = utils.settle(_this3.state.scale + RESET_ANIMATION_SPEED * scaleDelta, INITIAL_SCALE, SETTLE_RANGE);\n      var nextWidth = _this3.width * targetScale;\n      var nextHeight = _this3.height * targetScale;\n\n      _this3.setState({\n        scale: targetScale,\n        width: nextWidth,\n        height: nextHeight,\n        x: INITIAL_X,\n        y: INITIAL_Y\n      }, function () {\n        _this3.animation = requestAnimationFrame(frame);\n      });\n    };\n\n    this.animation = requestAnimationFrame(frame);\n  };\n\n  _proto.handleTouchStart = function handleTouchStart(event) {\n    this.animation && cancelAnimationFrame(this.animation);\n    if (event.touches.length === 2) this.handlePinchStart(event);\n    if (event.touches.length === 1) this.handleTapStart(event);\n  };\n\n  _proto.handleTouchMove = function handleTouchMove(event) {\n    if (event.touches.length === 2) this.handlePinchMove(event);\n    if (event.touches.length === 1) this.handlePanMove(event);\n  };\n\n  _proto.handleTouchEnd = function handleTouchEnd(event) {\n    if (event.touches.length > 0) return null;\n    if (this.state.scale > MAX_SCALE) return this.zoomTo(MAX_SCALE);\n    if (this.state.scale < MIN_SCALE) return this.zoomTo(MIN_SCALE);\n\n    if (this.lastTouchEnd && this.lastTouchEnd + DOUBLE_TAP_THRESHOLD > event.timeStamp) {\n      this.reset();\n    }\n\n    if (this.state.swiping && this.state.scale === 1) {\n      this.handleSwipe(event);\n    }\n\n    this.lastTouchEnd = event.timeStamp;\n  };\n\n  _proto.handleSwipe = function handleSwipe(event) {\n    var swipeDelta = event.changedTouches[0].clientX - this.swipeStartX;\n\n    if (swipeDelta < -(this.width / 3)) {\n      this.swipeRight();\n    } else if (swipeDelta > this.width / 3) {\n      this.swipeLeft();\n    } else {\n      this.reset();\n    }\n  };\n\n  _proto.swipeLeft = function swipeLeft() {\n    var _this4 = this;\n\n    var currentIndex = this.state.index;\n\n    if (currentIndex > 0) {\n      setTimeout(function () {\n        _this4.setState({\n          index: currentIndex - 1,\n          swiping: false,\n          x: INITIAL_X,\n          loading: true\n        }, function () {\n          return _this4.onNavigationCallback(currentIndex - 1);\n        });\n      }, 500);\n    } else {\n      this.reset();\n    }\n  };\n\n  _proto.swipeRight = function swipeRight() {\n    var _this5 = this;\n\n    var currentIndex = this.state.index;\n\n    if (currentIndex < this.props.data.length - 1) {\n      setTimeout(function () {\n        _this5.setState({\n          index: currentIndex + 1,\n          swiping: false,\n          x: INITIAL_X,\n          loading: true\n        }, function () {\n          return _this5.onNavigationCallback(currentIndex + 1);\n        });\n      }, 500);\n    } else {\n      this.reset();\n    }\n  };\n\n  _proto.handleTapStart = function handleTapStart(event) {\n    this.swipeStartX = event.touches[0].clientX;\n    this.swipeStartY = event.touches[0].clientY;\n\n    if (this.state.scale === 1) {\n      this.setState({\n        swiping: true\n      });\n    }\n  };\n\n  _proto.handlePanMove = function handlePanMove(event) {\n    if (this.state.scale === 1) {\n      this.setState({\n        x: event.touches[0].clientX - this.swipeStartX\n      });\n    } else {\n      event.preventDefault();\n      this.setState({\n        x: event.touches[0].clientX - this.swipeStartX,\n        y: event.touches[0].clientY - this.swipeStartY\n      });\n    }\n  };\n\n  _proto.handlePinchStart = function handlePinchStart(event) {\n    var pointA = utils.getPointFromTouch(event.touches[0]);\n    var pointB = utils.getPointFromTouch(event.touches[1]);\n    this.lastDistance = utils.getDistanceBetweenPoints(pointA, pointB);\n  };\n\n  _proto.handlePinchMove = function handlePinchMove(event) {\n    event.preventDefault();\n    var pointA = utils.getPointFromTouch(event.touches[0]);\n    var pointB = utils.getPointFromTouch(event.touches[1]);\n    var distance = utils.getDistanceBetweenPoints(pointA, pointB);\n    var scale = utils.between(MIN_SCALE - ADDITIONAL_LIMIT, MAX_SCALE + ADDITIONAL_LIMIT, this.state.scale * (distance / this.lastDistance));\n    this.zoom(scale);\n    this.lastDistance = distance;\n  };\n\n  _proto.zoom = function zoom(scale) {\n    var nextWidth = this.width * scale;\n    var nextHeight = this.height * scale;\n    this.setState({\n      width: nextWidth,\n      height: nextHeight,\n      scale: scale\n    });\n  };\n\n  _proto.getResources = function getResources() {\n    var _this6 = this;\n\n    var items = [];\n    var data = this.props.data;\n\n    for (var i = 0; i < data.length; i++) {\n      var resource = data[i];\n\n      if (resource.type === 'photo') {\n        items.push( /*#__PURE__*/React.createElement(\"img\", {\n          key: i,\n          alt: resource.altTag,\n          src: resource.url,\n          style: {\n            pointerEvents: this.state.scale === 1 ? 'auto' : 'none',\n            maxWidth: '100%',\n            maxHeight: '100%',\n            transform: \"translate(\" + this.state.x + \"px, \" + this.state.y + \"px) scale(\" + this.state.scale + \")\",\n            transition: 'transform 0.5s ease-out'\n          },\n          onLoad: function onLoad() {\n            _this6.setState({\n              loading: false\n            });\n          }\n        }));\n      }\n\n      if (resource.type === 'video') {\n        items.push( /*#__PURE__*/React.createElement(\"iframe\", {\n          key: i,\n          width: \"560\",\n          height: \"315\",\n          src: resource.url,\n          frameBorder: \"0\",\n          allow: \"autoplay; encrypted-media\",\n          title: resource.title,\n          allowFullScreen: true,\n          style: {\n            pointerEvents: this.state.scale === 1 ? 'auto' : 'none',\n            maxWidth: '100%',\n            maxHeight: '100%',\n            transform: \"translate(\" + this.state.x + \"px, \" + this.state.y + \"px)\",\n            transition: 'transform 0.5s ease-out'\n          },\n          onLoad: function onLoad() {\n            _this6.setState({\n              loading: false\n            });\n          }\n        }));\n      }\n    }\n\n    return items;\n  };\n\n  _proto.UNSAFE_componentWillMount = function UNSAFE_componentWillMount() {\n    var _this7 = this;\n\n    window.addEventListener('resize', function () {\n      if (window.innerWidth <= 500) {\n        _this7.setState({\n          iconSize: MOBILE_ICON_SIZE\n        });\n      } else {\n        _this7.setState({\n          iconSize: DESKTOP_ICON_SIZE\n        });\n      }\n    });\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    var _this8 = this;\n\n    window.removeEventListener('resize', function () {\n      if (window.innerWidth <= 500) {\n        _this8.setState({\n          iconSize: MOBILE_ICON_SIZE\n        });\n      } else {\n        _this8.setState({\n          iconSize: DESKTOP_ICON_SIZE\n        });\n      }\n    });\n  };\n\n  _proto.render = function render() {\n    var _this9 = this;\n\n    var resources = this.getResources();\n    return /*#__PURE__*/React.createElement(\"div\", {\n      onTouchStart: this.handleTouchStart,\n      onTouchMove: this.handleTouchMove,\n      onTouchEnd: this.handleTouchEnd,\n      style: {\n        top: '0px',\n        left: '0px',\n        overflow: 'hidden',\n        position: 'fixed',\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        flexDirection: 'row',\n        height: '100%',\n        width: '100%',\n        backgroundColor: 'rgba(0,0,0,1)'\n      }\n    }, this.props.showResourceCount && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '0px',\n        left: '0px',\n        padding: '15px',\n        color: 'white',\n        fontWeight: 'bold'\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", null, this.state.index + 1), \" / \", /*#__PURE__*/React.createElement(\"span\", null, this.props.data.length)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '0px',\n        right: '0px',\n        padding: '10px',\n        color: '#FFFFFF',\n        cursor: 'pointer',\n        fontSize: this.state.iconSize * 0.8 + \"px\"\n      },\n      onClick: this.props.onCloseCallback\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      height: \"36px\",\n      viewBox: \"0 0 24 24\",\n      width: \"36px\",\n      fill: \"#FFFFFF\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n    }))), this.state.index + 1 != 1 ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        left: '0px',\n        zIndex: 1,\n        color: '#FFFFFF',\n        cursor: 'pointer',\n        fontSize: this.state.iconSize + \"px\"\n      },\n      onClick: function onClick() {\n        _this9.swipeLeft();\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      height: \"48px\",\n      viewBox: \"0 0 24 24\",\n      width: \"48px\",\n      fill: \"#FFFFFF\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z\"\n    }))) : /*#__PURE__*/React.createElement(React.Fragment, null), this.state.index + 1 != this.props.data.length ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        position: 'absolute',\n        right: '0px',\n        zIndex: 1,\n        color: '#FFFFFF',\n        cursor: 'pointer',\n        fontSize: this.state.iconSize + \"px\"\n      },\n      onClick: function onClick() {\n        _this9.swipeRight();\n      }\n    }, /*#__PURE__*/React.createElement(\"svg\", {\n      xmlns: \"http://www.w3.org/2000/svg\",\n      height: \"48px\",\n      viewBox: \"0 0 24 24\",\n      width: \"48px\",\n      fill: \"#FFFFFF\"\n    }, /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M0 0h24v24H0z\",\n      fill: \"none\"\n    }), /*#__PURE__*/React.createElement(\"path\", {\n      d: \"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z\"\n    }))) : /*#__PURE__*/React.createElement(React.Fragment, null), this.state.loading && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        margin: 'auto',\n        position: 'fixed'\n      }\n    }, /*#__PURE__*/React.createElement(\"style\", null, \"@keyframes react_image_video_spinner {\\n                  0% {\\n                    transform: translate3d(-50 %, -50 %, 0) rotate(0deg);\\n                  }\\n                  100% {\\n                    transform: translate3d(-50%, -50%, 0) rotate(360deg);\\n                  }\\n                }\"), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        animation: '1.0s linear infinite react_image_video_spinner',\n        border: 'solid 5px #ffffff',\n        borderBottomColor: '#cfd0d1',\n        borderRadius: '50%',\n        height: 30,\n        width: 30,\n        position: 'fixed',\n        transform: 'translate3d(-50%, -50%, 0)'\n      }\n    })), resources[this.state.index]);\n  };\n\n  return ReactImageVideoLightbox;\n}(React.Component);\n\nexport default ReactImageVideoLightbox;"]},"metadata":{},"sourceType":"module"}