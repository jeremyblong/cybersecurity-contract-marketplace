{"ast":null,"code":"import React,{Fragment,useEffect,useState,useRef}from\"react\";import{Container,Row,Col,Card,CardHeader,Button,CardBody,Form,Label,Input,ListGroup,ListGroupItem}from'reactstrap';import\"./styles.css\";import Breadcrumb from\"../../../../../../../layout/breadcrumb\";import Dropzone from'react-dropzone-uploader';import Skeleton,{SkeletonTheme}from'react-loading-skeleton';import FileViewer from'react-file-viewer';import _ from\"lodash\";import axios from\"axios\";import{connect}from\"react-redux\";import{NotificationManager}from'react-notifications';import LoadingBar from'react-top-loading-bar';import helpers from\"./helpers/createPostHelpers.js\";import CreateNewPostReduxFormHelpers from\"./helpers/reactHookFormHelpers.js\";import{useForm,Controller}from'react-hook-form';import Select from\"react-select\";import{useHistory}from\"react-router-dom\";const descriptionChecker=CreateNewPostReduxFormHelpers().descriptionChecker;const typesOfLanguagesUsed=CreateNewPostReduxFormHelpers().typesOfLanguagesUsed;const titleChecker=CreateNewPostReduxFormHelpers().titleChecker;const{calculateFileType,onSubmitHelper,CustomInputHelper,languageList}=helpers;const CreateNewHackerProfileContentPostHelper=_ref=>{let{userData}=_ref;const history=useHistory();// react-hook-form logic - initialization\nconst{register,handleSubmit,control,watch,reset,setValue,getValues,setError,values,clearErrors,formState:{errors}}=useForm({mode:\"onTouched\",reValidateMode:\"onBlur\"});const currentValues=getValues();const dropzoneRef=useRef(null);const typeOfPostRef=useRef(null);const[typing,setTyping]=useState(\"\");const[typesSelectionsOptions,setSelectionState]=useState([]);const[pageReady,setPageReadyStatus]=useState(false);const[progress,setProgress]=useState(0);const[fileReady,setFileReadyStatus]=useState(false);const[currentFileSelectedUpload,setCurrentUploadFileStatus]=useState(null);const[filePathData,setCurrentFilePathData]=useState(null);const[fileMetaData,setMetaFileData]=useState(null);const[changeOptions,setChangeOptions]=useState(null);const[uploaded,setUploadedFiles]=useState([]);useEffect(()=>{const newOptionsArr=[];for(let index=0;index<languageList.length;index++){const lang=languageList[index];newOptionsArr.push({label:lang.name,value:lang.name,entire:lang});// check if at END\nif(languageList.length-1===index){setSelectionState(newOptionsArr);setPageReadyStatus(true);}}},[]);const renderPreviewOfFile=data=>{const file=data.fileWithMeta.file;// return preview data via FileViewer (to not exclude documents such as .docx and such...);\nif(fileReady===true){return/*#__PURE__*/React.createElement(\"div\",{className:\"filereader-preview-dropzone-custom-upload\"},/*#__PURE__*/React.createElement(FileViewer,{fileType:calculateFileType(file.type),filePath:filePathData,onError:err=>console.log(\"file displaying err:\",err),key:file.id}));}else{return null;}};const handleSubmitCustom=runSubmit=>{console.log(\"submitted!\",currentFileSelectedUpload,fileMetaData);const data=new FormData();data.append(\"file\",currentFileSelectedUpload);data.append(\"meta\",fileMetaData);const config={onUploadProgress:progressEvent=>{let percentCompleted=Math.round(progressEvent.loaded*100/progressEvent.total);setProgress(percentCompleted);},headers:{'Content-Type':'multipart/form-data'}};axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/upload/misc/file/softare/listing/sale\"),data,config).then(res=>{if(res.data.message===\"Successfully uploaded file!\"){console.log(res.data);const{file}=res.data;if(typeof uploaded!==\"undefined\"&&uploaded.length<5){// do something with file.\nsetUploadedFiles(prevState=>{return[...prevState,file];});NotificationManager.success(\"We've successfully uploaded your file! Please proceed filling out your information or add more files.\",'Successfully uploaded file!',4500);setMetaFileData(null);setFileReadyStatus(false);setCurrentUploadFileStatus(null);}else{NotificationManager.error(\"You've already uploaded FIVE (5) file's which is the maximum allowed for post's, please continue with your current files or delete some to make room for new file's to replace the old.\",\"Too many file's already in queue!\",4750);}runSubmit();}else{console.log(\"Err\",res.data);}}).catch(err=>{console.log(err);});};const renderCustomButtonDropzone=(data,e)=>{const{meta}=data.files[0];if(currentFileSelectedUpload===null){return null;}else{if(fileReady===true){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Button,{style:{marginTop:\"25px\"},onClick:e=>{e.preventDefault();// file meta data for next action\nsetMetaFileData(meta);// set file status as ready or prepared.\nsetFileReadyStatus(false);const runSubmit=data.onSubmit;handleSubmitCustom(runSubmit);},className:\"btn-air-secondary\",color:\"secondary\",size:\"md\"},\"Submit & Upload New File!\"));}else{return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Button,{style:{marginTop:\"25px\"},onClick:()=>{NotificationManager.warning(\"File is NOT ready to upload yet! Please wait for the preparation steps to complete before submitting.\",'Still preparing!',4500);},className:\"btn-air-light\",color:\"light\",size:\"md\"},\"Submit & Upload New File!\"));}}};const renderFormError=(e,errors)=>{console.log(e,errors);};const handleFinalSubmission=data=>{console.log(\"handleFinalSubmission\",data);const{description,typeOfPost,title}=data;const config={description,typeOfPost,title,uploaded:typeof uploaded!==\"undefined\"&&uploaded.length>0?uploaded:null,signedinUserID:userData.uniqueId};axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/upload/new/wall/profile/post/hacker/account\"),config).then(res=>{if(res.data.message===\"Successfully updated/uploaded new wall post!\"){console.log(res.data);setValue(\"title\",\"\",{shouldValidate:false});setValue(\"description\",\"\",{shouldValidate:false});setValue(\"typeOfPost\",\"\",{shouldValidate:false});setUploadedFiles([]);setTimeout(()=>{history.push(\"/hacker/profile/individual/view/\".concat(userData.uniqueId));},4750);NotificationManager.success(\"We've successfully updated your profile data & posted your new post! You'll be automatically redirected to your profile to see the changes in approx 4.5 seconds...\",'Successfully uploaded profile & post data!',4750);}else{console.log(\"Err\",res.data);NotificationManager.error(\"An unknown error occurred while attempting to upload your new post data to your profile, please try again or contact support if this problem persists...\",\"Error upload/updating post & profile!\",4750);}}).catch(err=>{console.log(err);});};const renderUponConditionalLoad=()=>{if(pageReady===true){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Form,{className:\"needs-validation streaming-start-form-wrapper\",noValidate:\"\",onSubmit:handleSubmit(handleFinalSubmission,(e,errors)=>renderFormError(e,errors))},/*#__PURE__*/React.createElement(Row,{style:{marginBottom:\"15px\"}},/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"6\",lg:\"6\",xl:\"6\"},/*#__PURE__*/React.createElement(Label,{className:\"creation-label\"},typesOfLanguagesUsed.label),/*#__PURE__*/React.createElement(Controller,Object.assign({control:control,name:typesOfLanguagesUsed.name},typesOfLanguagesUsed.check(setError,register,\"typeOfPost\",clearErrors),{render:_ref2=>{let{field}=_ref2;return/*#__PURE__*/React.createElement(\"div\",{className:\"select-wrapper-post\"},/*#__PURE__*/React.createElement(Select,Object.assign({},field,{ref:typeOfPostRef,autoBlur:true,defaultValue:null,onMenuClose:()=>{},isMulti:true,value:currentValues.typeOfPost,onChange:selectedOption=>{// update redux-form state\nsetTimeout(()=>{setValue('typeOfPost',selectedOption,{shouldValidate:false});// blur input in case it doesn't\ntypeOfPostRef.current.blur();},100);},options:typesSelectionsOptions})));}})),errors.typeOfPost?/*#__PURE__*/React.createElement(\"span\",{className:\"span-tooltip\"},errors.typeOfPost.message):null),/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"6\",lg:\"6\",xl:\"6\"},/*#__PURE__*/React.createElement(Label,{className:\"creation-label\"},titleChecker.label),/*#__PURE__*/React.createElement(Input,Object.assign({},titleChecker.check(register,setTyping),{className:\"form-control\",name:titleChecker.name,type:titleChecker.type,placeholder:titleChecker.placeholder,onChange:e=>{const value=e.target.value;setTyping(value);return titleChecker.onChange(value,setValue);},value:currentValues.title})),errors.title?/*#__PURE__*/React.createElement(\"span\",{className:\"span-tooltip\"},errors.title.message):null)),/*#__PURE__*/React.createElement(Label,{className:\"creation-label\"},descriptionChecker.label),/*#__PURE__*/React.createElement(\"textarea\",Object.assign({},descriptionChecker.check(register,setTyping),{rows:5,className:\"form-control\",name:descriptionChecker.name,type:descriptionChecker.type,placeholder:descriptionChecker.placeholder,onChange:e=>{const value=e.target.value;setTyping(value);return descriptionChecker.onChange(value,setValue);},value:currentValues.description})),errors.description?/*#__PURE__*/React.createElement(\"span\",{className:\"span-tooltip\"},errors.description.message):null,/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Label,{className:\"creation-label\"},\"Main File(s) to display in post (can upload UP-TO 5 total...)\"),/*#__PURE__*/React.createElement(\"p\",{style:{marginBottom:\"10px\"},className:\"creation-descriptive-text\"},\"These will be the MAIN files displayed in your listing in addition to the description/content section and title. You can upload anything you'd like whether it's images/selfies and/or life updates, instructional videos or interesting data/content, totally up to you on how you customize your profile!\"),/*#__PURE__*/React.createElement(Dropzone,{ref:dropzoneRef,PreviewComponent:data=>renderPreviewOfFile(data),maxFiles:1,autoUpload:true,onChangeStatus:functions=>{setChangeOptions(functions);},submitButtonDisabled:false,InputComponent:_ref3=>{let{accept,onFiles}=_ref3;return/*#__PURE__*/React.createElement(CustomInputHelper,{accept:accept,onFiles:onFiles,setCurrentFilePathData:setCurrentFilePathData,setCurrentUploadFileStatus:setCurrentUploadFileStatus,setFileReadyStatus:setFileReadyStatus});},onSubmit:onSubmitHelper,SubmitButtonComponent:(data,e)=>{return/*#__PURE__*/React.createElement(\"div\",{className:\"absolutely-position-submit-btn\"},renderCustomButtonDropzone(data,e));},multiple:false,canCancel:false,styles:{dropzone:{height:275},dropzoneActive:{borderColor:'green'}}}),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(ListGroup,null,typeof uploaded!==\"undefined\"&&uploaded.length>0?uploaded.map((upload,index)=>{return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(ListGroupItem,{active:index%2===1?true:false,className:\"d-flex justify-content-between align-items-center\"},upload.name,/*#__PURE__*/React.createElement(\"span\",{onClick:()=>setUploadedFiles(prevState=>{return prevState.filter(fileee=>fileee.id!==upload.id);}),className:\"badge badge-secondary counter digits customized-delete-file-profile-post\"},\"DELETE FILE\")));}):null),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(Button,{type:\"submit\",style:{marginTop:\"7.5px\",width:\"75%\"},color:\"success-2x\",outline:true,className:\"btn-square-success text-center\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-plus m-r-5\"}),\"Submit & Post New Data!\"))));}else{return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(SkeletonTheme,{baseColor:\"#d4d4d4\",highlightColor:\"#8f8f8f\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(Skeleton,{containerClassName:\"stretch-bars\",count:50}))));}};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(LoadingBar,{color:\"#f73164\",height:9,progress:progress,onLoaderFinished:()=>{setProgress(0);}}),/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Creating new 'primary content' post/posting\",title:\"Create a new main content posting\"}),/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"12\",xl:\"12\"},/*#__PURE__*/React.createElement(Card,{className:\"new-post-card-wrapper\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"b-l-primary border-3\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"text-center custom-card-header-create-post\"},\"You're currently on the 'create a new post' page which will create new data to post on your primary profile content section/sector...\")),/*#__PURE__*/React.createElement(CardBody,null,renderUponConditionalLoad()))))));};const mapStateToProps=state=>{return{userData:state.auth.data};};export default connect(mapStateToProps,{})(CreateNewHackerProfileContentPostHelper);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/people/hackers/individualProfile/wallData/postNewData/createNewWallData.js"],"names":["React","Fragment","useEffect","useState","useRef","Container","Row","Col","Card","CardHeader","Button","CardBody","Form","Label","Input","ListGroup","ListGroupItem","Breadcrumb","Dropzone","Skeleton","SkeletonTheme","FileViewer","_","axios","connect","NotificationManager","LoadingBar","helpers","CreateNewPostReduxFormHelpers","useForm","Controller","Select","useHistory","descriptionChecker","typesOfLanguagesUsed","titleChecker","calculateFileType","onSubmitHelper","CustomInputHelper","languageList","CreateNewHackerProfileContentPostHelper","userData","history","register","handleSubmit","control","watch","reset","setValue","getValues","setError","values","clearErrors","formState","errors","mode","reValidateMode","currentValues","dropzoneRef","typeOfPostRef","typing","setTyping","typesSelectionsOptions","setSelectionState","pageReady","setPageReadyStatus","progress","setProgress","fileReady","setFileReadyStatus","currentFileSelectedUpload","setCurrentUploadFileStatus","filePathData","setCurrentFilePathData","fileMetaData","setMetaFileData","changeOptions","setChangeOptions","uploaded","setUploadedFiles","newOptionsArr","index","length","lang","push","label","name","value","entire","renderPreviewOfFile","data","file","fileWithMeta","type","err","console","log","id","handleSubmitCustom","runSubmit","FormData","append","config","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","headers","post","process","env","REACT_APP_BASE_URL","then","res","message","prevState","success","error","catch","renderCustomButtonDropzone","e","meta","files","marginTop","preventDefault","onSubmit","warning","renderFormError","handleFinalSubmission","description","typeOfPost","title","signedinUserID","uniqueId","shouldValidate","setTimeout","renderUponConditionalLoad","marginBottom","check","field","selectedOption","current","blur","placeholder","target","onChange","functions","accept","onFiles","dropzone","height","dropzoneActive","borderColor","map","upload","filter","fileee","width","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState, useRef } from \"react\";\nimport { Container, Row, Col, Card, CardHeader, Button, CardBody, Form, Label, Input, ListGroup, ListGroupItem } from 'reactstrap';\nimport \"./styles.css\";\nimport Breadcrumb from \"../../../../../../../layout/breadcrumb\";\nimport Dropzone from 'react-dropzone-uploader';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\nimport FileViewer from 'react-file-viewer';\nimport _ from \"lodash\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { NotificationManager } from 'react-notifications';\nimport LoadingBar from 'react-top-loading-bar';\nimport helpers from \"./helpers/createPostHelpers.js\";\nimport CreateNewPostReduxFormHelpers from \"./helpers/reactHookFormHelpers.js\";\nimport { useForm, Controller } from 'react-hook-form';\nimport Select from \"react-select\";\nimport { useHistory } from \"react-router-dom\";\n\nconst descriptionChecker = CreateNewPostReduxFormHelpers().descriptionChecker;\nconst typesOfLanguagesUsed = CreateNewPostReduxFormHelpers().typesOfLanguagesUsed;\nconst titleChecker = CreateNewPostReduxFormHelpers().titleChecker;\n\n\n\nconst { calculateFileType, onSubmitHelper, CustomInputHelper, languageList } = helpers;\n\nconst CreateNewHackerProfileContentPostHelper = ({ userData }) => {\n\n    const history = useHistory();\n\n    // react-hook-form logic - initialization\n    const { register, handleSubmit, control, watch, reset, setValue, getValues, setError, values, clearErrors, formState: { errors }} = useForm({\n        mode: \"onTouched\",\n        reValidateMode: \"onBlur\"\n    });\n\n    const currentValues = getValues();\n    \n    const dropzoneRef = useRef(null);\n    const typeOfPostRef = useRef(null);\n    const [ typing, setTyping ] = useState(\"\");\n    const [ typesSelectionsOptions, setSelectionState ] = useState([]);\n    const [ pageReady, setPageReadyStatus ] = useState(false);\n    const [progress, setProgress] = useState(0);\n    const [fileReady, setFileReadyStatus] = useState(false);\n    const [currentFileSelectedUpload, setCurrentUploadFileStatus] = useState(null);\n    const [filePathData, setCurrentFilePathData] = useState(null);\n    const [fileMetaData, setMetaFileData] = useState(null);\n    const [ changeOptions, setChangeOptions ] = useState(null);\n    const [ uploaded, setUploadedFiles ] = useState([]);\n\n\n    useEffect(() => {\n        const newOptionsArr = [];\n        \n        for (let index = 0; index < languageList.length; index++) {\n            const lang = languageList[index];\n            newOptionsArr.push({ label: lang.name, value: lang.name, entire: lang });\n            // check if at END\n            if ((languageList.length - 1) === index) {\n                setSelectionState(newOptionsArr);\n                setPageReadyStatus(true);\n            }\n        }\n    }, [])\n\n    const renderPreviewOfFile = (data) => {\n\n        const file = data.fileWithMeta.file;\n        // return preview data via FileViewer (to not exclude documents such as .docx and such...);\n        if (fileReady === true) {\n            return (\n                <div className=\"filereader-preview-dropzone-custom-upload\">\n                    <FileViewer\n                        fileType={calculateFileType(file.type)}\n                        filePath={filePathData}\n                        onError={(err) => console.log(\"file displaying err:\", err)}\n                        key={file.id}\n                    />\n                </div>\n            );\n        } else {\n            return null;\n        }\n    }\n    const handleSubmitCustom = (runSubmit) => {\n\n        console.log(\"submitted!\", currentFileSelectedUpload, fileMetaData);\n\n        const data = new FormData();\n\n        data.append(\"file\", currentFileSelectedUpload);\n        data.append(\"meta\", fileMetaData);\n\n        const config = {\n            onUploadProgress: (progressEvent) => {\n                let percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n                setProgress(percentCompleted);\n            },\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        };\n\n        axios.post(`${process.env.REACT_APP_BASE_URL}/upload/misc/file/softare/listing/sale`, data, config).then((res) => {\n            if (res.data.message === \"Successfully uploaded file!\") {\n                console.log(res.data);\n\n                const { file } = res.data;\n\n                if (typeof uploaded !== \"undefined\" && uploaded.length < 5) {\n                    // do something with file.\n                    setUploadedFiles(prevState => {\n                        return [...prevState, file]\n                    })\n\n                    NotificationManager.success(`We've successfully uploaded your file! Please proceed filling out your information or add more files.`, 'Successfully uploaded file!', 4500);\n\n                    setMetaFileData(null);\n                    setFileReadyStatus(false);\n                    setCurrentUploadFileStatus(null);\n                } else {\n                    NotificationManager.error(\"You've already uploaded FIVE (5) file's which is the maximum allowed for post's, please continue with your current files or delete some to make room for new file's to replace the old.\", \"Too many file's already in queue!\", 4750);\n                }\n\n                runSubmit();\n            } else {\n                console.log(\"Err\", res.data);\n            }\n        }).catch((err) => {\n            console.log(err);\n        })\n    };\n    const renderCustomButtonDropzone = (data, e) => {\n\n        const { meta } = data.files[0];\n\n        if (currentFileSelectedUpload === null) {\n            return null;\n        } else {\n            if (fileReady === true) {\n                return (\n                    <Fragment>\n                        <Button style={{ marginTop: \"25px\" }} onClick={(e) => {\n                            e.preventDefault();\n                            // file meta data for next action\n                            setMetaFileData(meta);\n                            // set file status as ready or prepared.\n                            setFileReadyStatus(false);\n\n                            const runSubmit = data.onSubmit;\n\n                            handleSubmitCustom(runSubmit);\n                        }} className=\"btn-air-secondary\" color=\"secondary\" size=\"md\">Submit & Upload New File!</Button>\n                    </Fragment>\n                );\n            } else {\n                return (\n                    <Fragment>\n                        <Button style={{ marginTop: \"25px\" }} onClick={() => {\n                            NotificationManager.warning(`File is NOT ready to upload yet! Please wait for the preparation steps to complete before submitting.`, 'Still preparing!', 4500);\n                        }} className=\"btn-air-light\" color=\"light\" size=\"md\">Submit & Upload New File!</Button>\n                    </Fragment>\n                );\n            }\n        }\n    }\n    const renderFormError = (e, errors) => {\n        console.log(e, errors);\n    }\n    const handleFinalSubmission = (data) => {\n        console.log(\"handleFinalSubmission\", data);\n\n        const { description, typeOfPost, title } = data;\n\n        const config = {\n            description, \n            typeOfPost,\n            title,\n            uploaded: typeof uploaded !== \"undefined\" && uploaded.length > 0 ? uploaded : null,\n            signedinUserID: userData.uniqueId\n        }\n\n        axios.post(`${process.env.REACT_APP_BASE_URL}/upload/new/wall/profile/post/hacker/account`, config).then((res) => {\n            if (res.data.message === \"Successfully updated/uploaded new wall post!\") {\n                console.log(res.data);\n\n                setValue(\"title\", \"\", { shouldValidate: false });\n                setValue(\"description\", \"\", { shouldValidate: false });\n                setValue(\"typeOfPost\", \"\", { shouldValidate: false });\n                \n                setUploadedFiles([]);\n\n                setTimeout(() => {\n                    history.push(`/hacker/profile/individual/view/${userData.uniqueId}`);\n                }, 4750);\n\n                NotificationManager.success(`We've successfully updated your profile data & posted your new post! You'll be automatically redirected to your profile to see the changes in approx 4.5 seconds...`, 'Successfully uploaded profile & post data!', 4750);\n            } else {\n                console.log(\"Err\", res.data);\n\n                NotificationManager.error(\"An unknown error occurred while attempting to upload your new post data to your profile, please try again or contact support if this problem persists...\", \"Error upload/updating post & profile!\", 4750);\n            }\n        }).catch((err) => {\n            console.log(err);\n        })\n    }\n    const renderUponConditionalLoad = () => {\n        if (pageReady === true) {\n            return (\n                <Fragment>\n                    <Form className=\"needs-validation streaming-start-form-wrapper\" noValidate=\"\" onSubmit={handleSubmit(handleFinalSubmission, (e, errors) => renderFormError(e, errors))}>\n                        <Row style={{ marginBottom: \"15px\" }}>\n                            <Col sm=\"12\" md=\"6\" lg=\"6\" xl=\"6\">\n                                <Label className={\"creation-label\"}>{typesOfLanguagesUsed.label}</Label>\n                                <Controller\n                                    control={control}\n                                    name={typesOfLanguagesUsed.name}\n                                    {...typesOfLanguagesUsed.check(setError, register, \"typeOfPost\", clearErrors)}\n                                    render={({ field }) => (\n                                        <div className={\"select-wrapper-post\"}>\n                                            <Select\n                                                {...field}\n                                                ref={typeOfPostRef}\n                                                autoBlur={true}\n                                                defaultValue={null}\n                                                onMenuClose={() => {}}\n                                                isMulti={true}\n                                                value={currentValues.typeOfPost}\n                                                onChange={(selectedOption) => {\n                                                    // update redux-form state\n                                                    setTimeout(() => {\n                                                        setValue('typeOfPost', selectedOption, { shouldValidate: false })\n                                                        // blur input in case it doesn't\n                                                        typeOfPostRef.current.blur();\n                                                    }, 100)\n                                                }}\n                                                options={typesSelectionsOptions}\n                                            />\n                                        </div>\n                                    )}\n                                />\n                                {errors.typeOfPost ? <span className=\"span-tooltip\">{errors.typeOfPost.message}</span> : null}\n                            </Col>\n                            <Col sm=\"12\" md=\"6\" lg=\"6\" xl=\"6\">\n                                <Label className={\"creation-label\"}>{titleChecker.label}</Label>\n                                <Input {...titleChecker.check(register, setTyping)} className=\"form-control\" name={titleChecker.name} type={titleChecker.type} placeholder={titleChecker.placeholder} onChange={(e) => {\n                                    const value = e.target.value;\n\n                                    setTyping(value)\n\n                                    return titleChecker.onChange(value, setValue);\n                                }} value={currentValues.title} />\n                                {errors.title ? <span className=\"span-tooltip\">{errors.title.message}</span> : null}\n                            </Col>\n                        </Row>\n                        <Label className={\"creation-label\"}>{descriptionChecker.label}</Label>\n                        <textarea {...descriptionChecker.check(register, setTyping)} rows={5} className=\"form-control\" name={descriptionChecker.name} type={descriptionChecker.type} placeholder={descriptionChecker.placeholder} onChange={(e) => {\n                            const value = e.target.value;\n                            setTyping(value);\n                            return descriptionChecker.onChange(value, setValue)\n                        }} value={currentValues.description} />\n                        {errors.description ? <span className=\"span-tooltip\">{errors.description.message}</span> : null}\n                        <hr />\n                        <Label className={\"creation-label\"}>Main File(s) to display in post (can upload UP-TO 5 total...)</Label>\n                        <p style={{ marginBottom: \"10px\" }} className={\"creation-descriptive-text\"}>These will be the MAIN files displayed in your listing in addition to the description/content section and title. You can upload anything you'd like whether it's images/selfies and/or life updates, instructional videos or interesting data/content, totally up to you on how you customize your profile!</p>\n                        <Dropzone\n                            ref={dropzoneRef}\n                            PreviewComponent={(data) => renderPreviewOfFile(data)}\n                            maxFiles={1}\n                            autoUpload={true}\n                            onChangeStatus={(functions) => {\n                                setChangeOptions(functions);\n                            }}\n                            submitButtonDisabled={false}\n                            InputComponent={({ accept, onFiles }) => <CustomInputHelper accept={accept} onFiles={onFiles} setCurrentFilePathData={setCurrentFilePathData} setCurrentUploadFileStatus={setCurrentUploadFileStatus} setFileReadyStatus={setFileReadyStatus} />}\n                            onSubmit={onSubmitHelper}\n                            SubmitButtonComponent={(data, e) => {\n                                return (\n                                    <div className=\"absolutely-position-submit-btn\">\n                                        {renderCustomButtonDropzone(data, e)}\n                                    </div>\n                                );\n                            }}\n                            multiple={false}\n                            canCancel={false}\n                            styles={{\n                                dropzone: { height: 275 },\n                                dropzoneActive: { borderColor: 'green' },\n                            }}\n                        />\n                        <hr />\n                            <ListGroup>\n                                {typeof uploaded !== \"undefined\" && uploaded.length > 0 ? uploaded.map((upload, index) => {\n                                    return (\n                                        <Fragment>\n                                            <ListGroupItem active={(index % 2 === 1) ? true : false} className=\"d-flex justify-content-between align-items-center\">{upload.name}<span onClick={() => setUploadedFiles(prevState => {\n                                                return prevState.filter((fileee) => fileee.id !== upload.id);\n                                            })} className=\"badge badge-secondary counter digits customized-delete-file-profile-post\">{\"DELETE FILE\"}</span></ListGroupItem>\n                                        </Fragment>\n                                    );\n                                }) : null}\n                            </ListGroup>\n                        <hr />\n                        <div className={\"centered-both-ways\"}>\n                            <Button type={\"submit\"} style={{ marginTop: \"7.5px\", width: \"75%\" }} color={\"success-2x\"} outline className=\"btn-square-success text-center\"><i className=\"fa fa-plus m-r-5\"></i>Submit & Post New Data!</Button>\n                        </div>\n                    </Form>\n                </Fragment>\n            );\n        } else {\n            return (\n                <Fragment>\n                    <SkeletonTheme baseColor=\"#d4d4d4\" highlightColor=\"#8f8f8f\">\n                        <p>\n                            <Skeleton containerClassName={\"stretch-bars\"} count={50} />\n                        </p>\n                    </SkeletonTheme>\n                </Fragment>\n            );\n        }\n    }\n    return (\n        <Fragment>\n            <LoadingBar\n                color={\"#f73164\"}\n                height={9}\n                progress={progress}\n                onLoaderFinished={() => {\n                    setProgress(0);\n                }}\n            />\n            <Breadcrumb parent=\"Creating new 'primary content' post/posting\" title=\"Create a new main content posting\" />\n            <Container fluid={true}>\n                <Row>\n                    <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                        <Card className={\"new-post-card-wrapper\"}>\n                            <CardHeader className=\"b-l-primary border-3\">\n                                <h4 className={\"text-center custom-card-header-create-post\"}>You're currently on the 'create a new post' page which will create new data to post on your primary profile content section/sector...</h4>\n                            </CardHeader>\n                            <CardBody>\n                                {renderUponConditionalLoad()}\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n        </Fragment>\n    );\n}\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data\n    }\n}\nexport default connect(mapStateToProps, { })(CreateNewHackerProfileContentPostHelper);"]},"metadata":{},"sourceType":"module"}