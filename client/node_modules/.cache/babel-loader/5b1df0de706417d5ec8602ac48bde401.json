{"ast":null,"code":"import React,{useState,useEffect,useRef,Fragment}from'react';import\"./styles.css\";import{Container,Row,Col,Card,CardHeader,CardBody,Form,Label,Button,Popover,PopoverBody,PopoverHeader,ButtonGroup}from'reactstrap';import Dropzone from'react-dropzone-uploader';import axios from\"axios\";import{connect}from\"react-redux\";import{NotificationManager}from'react-notifications';import LoadingBar from'react-top-loading-bar';import{saveSoftwareListingInfo}from\"../../../../../../../redux/actions/hackers/createSoftwareListing/createNewSoftwareListingSale.js\";import _ from\"lodash\";import{Modal}from'react-responsive-modal';import FileViewer from'react-file-viewer';import{confirmAlert}from'react-confirm-alert';const PageTwoMainHelper=_ref=>{let{userData,saveSoftwareListingInfo,previouslySavedSoftwareData}=_ref;// refs & such\nconst dropzoneRef=useRef(null);// start of state logic...\nconst[progress,setProgress]=useState(0);const[fileModalOpen,setFileModalOpenStatus]=useState(false);const[selectedFile,setSelectedFile]=useState(null);const[selectedFileTwo,setSelectedFileTwo]=useState(null);const[fileReady,setFileReadyStatus]=useState(false);const[currentFileSelectedUpload,setCurrentUploadFileStatus]=useState(null);const[filePathData,setCurrentFilePathData]=useState(null);const[fileMetaData,setMetaFileData]=useState(null);const[popoverOpen,setPopoverState]=useState(false);const[fileAtPopoverInteraction,setFileAtPopoverInteractionState]=useState(null);const[popoverOne,setPopoverOneState]=useState(false);const[popoverTwo,setPopoverTwoState]=useState(false);const[popoverThree,setPopoverThreeState]=useState(false);const[changeOptions,setChangeOptions]=useState(null);// popover main logic (after clicking button - create state for each iteration/item);\nconst[popoverGeneralStatus,setPopoverGeneralStatus]=useState({popover0:false,popover1:false,popover2:false,popover3:false,popover4:false,popover5:false,popover6:false,popover7:false,popover8:false,popover9:false});const CustomInputHelper=_ref2=>{let{accept,onFiles}=_ref2;const text=\"Drop a file OR select to browse local data\";return/*#__PURE__*/React.createElement(\"label\",{className:\"custom-input-dropzone-copy\",style:{backgroundColor:'#007bff',color:'#fff',cursor:'pointer',padding:15,borderRadius:3}},text,/*#__PURE__*/React.createElement(\"input\",{style:{display:'none'},type:\"file\",accept:accept,multiple:false,className:\"custom-dropzone-input-actual-input\",onChange:e=>{const file=e.target.files[0];// set current file path to convert to readable URL later\nsetCurrentFilePathData(imageChangeAndConversion(file));// set status update for current file\nsetCurrentUploadFileStatus(file);// mark file as READY \nsetFileReadyStatus(true);// update \"Dropzone\" component state (NOT this react component state).\nonFiles([file]);}}));};const handleSubmit=runSubmit=>{console.log(\"submitted!\",currentFileSelectedUpload,fileMetaData);if(!_.has(previouslySavedSoftwareData,\"uploadedPublicFiles\")||previouslySavedSoftwareData.uploadedPublicFiles.length<=10){const data=new FormData();data.append(\"file\",currentFileSelectedUpload);data.append(\"meta\",fileMetaData);const config={onUploadProgress:progressEvent=>{let percentCompleted=Math.round(progressEvent.loaded*100/progressEvent.total);setProgress(percentCompleted);},headers:{'Content-Type':'multipart/form-data'}};axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/upload/misc/file/softare/listing/sale\"),data,config).then(res=>{if(res.data.message===\"Successfully uploaded file!\"){console.log(res.data);const{file}=res.data;saveSoftwareListingInfo({...previouslySavedSoftwareData,uploadedPublicFiles:_.has(previouslySavedSoftwareData,\"uploadedPublicFiles\")?[...previouslySavedSoftwareData.uploadedPublicFiles,file]:[file]});NotificationManager.success(\"We've successfully uploaded your file! Please proceed filling out your information or add more files.\",'Successfully uploaded file!',4500);setMetaFileData(null);setFileReadyStatus(false);setCurrentUploadFileStatus(null);runSubmit();}else{console.log(\"Err\",res.data);}}).catch(err=>{console.log(err);});}else{// here!\nNotificationManager.error(\"You're only allowed to upload 10 (TEN) files TOTAL. If you'd like to upload different files - remove/delete a previously uploaded file.\",\"Too many uploads!\",4500);}};useEffect(()=>{// probably end up putting something here?\nconsole.log(\"re-rendered.\");},[]);const renderColor=i=>{switch(i){case 1:return\"txt-success\";break;case 2:return\"txt-info\";break;case 3:return\"txt-danger\";break;case 4:return\"txt-warning\";break;case 5:return\"txt-dark\";break;case 6:return\"txt-primary\";break;case 7:return\"txt-secondary\";break;case 8:return\"txt-pink\";break;case 9:return\"txt-grey\";break;case 10:return\"txt-success\";break;default:return\"txt-warning\";break;}};const formatBytes=function(bytes){let decimals=arguments.length>1&&arguments[1]!==undefined?arguments[1]:2;if(bytes===0)return'0 Bytes';const k=1024;const dm=decimals<0?0:decimals;const sizes=['Bytes','KB','MB','GB','TB','PB','EB','ZB','YB'];const i=Math.floor(Math.log(bytes)/Math.log(k));return parseFloat((bytes/Math.pow(k,i)).toFixed(dm))+' '+sizes[i];};const deleteCurrentlySelectedTwoFile=index=>{console.log(\"deleteCurrentlySelectedTwoFile ran!\");// remove file from redux state array\nconst removedFileArray=previouslySavedSoftwareData.uploadedPublicFiles.filter((item,i)=>{if(selectedFileTwo.id!==item.id){return true;}});// change redux state\nsaveSoftwareListingInfo({...previouslySavedSoftwareData,uploadedPublicFiles:removedFileArray});// // close popover\ncalculatePopoverStateToChange(index,null,true);// set selected file popover state back to *default* === null\nsetSelectedFileTwo(null);};const calculatePopoverOpenWhich=index=>{switch(index){case 0:return popoverOne;break;case 1:return popoverTwo;break;case 2:return popoverThree;break;default:break;}};const calculatePopoverStateToChange=(index,bool,reverse)=>{if(reverse===true){switch(index){case 0:setPopoverOneState(!popoverOne);break;case 1:setPopoverTwoState(!popoverTwo);break;case 2:setPopoverThreeState(!popoverThree);break;default:break;}}else{switch(index){case 0:setPopoverOneState(bool);break;case 1:setPopoverTwoState(bool);break;case 2:setPopoverThreeState(bool);break;default:break;}}};const renderConditionalUponFileUploads=()=>{return/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"12\",xl:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"file-content\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,{className:\"file-manager\"},/*#__PURE__*/React.createElement(Label,null,\"If you'd like to view your previously uploaded files (uploaded yet NOT public \",/*#__PURE__*/React.createElement(\"em\",{style:{color:\"red\"}},\"yet\"),\") can be viewed below however we will only show the first three (3) files in the preview region. If you'd like to view the rest of your uploaded files, click the \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"blue\"}},\"\\\"View All/Other Uploaded File's\\\"\"),\" button to view all of your uploaded content.\"),/*#__PURE__*/React.createElement(\"h4\",{className:\"mb-3\"},\"Uploaded File(s) & Content\"),/*#__PURE__*/React.createElement(\"h6\",null,\"These are your \\\"Completed & already uploaded\\\" files \",/*#__PURE__*/React.createElement(\"em\",null,\"however\"),\" they will only be permanently saved upon completion and posting of this listing as a whole.\"),/*#__PURE__*/React.createElement(\"ul\",{className:\"files\"},previouslySavedSoftwareData.uploadedPublicFiles.slice(0,3).map((file,indexxxx)=>{return/*#__PURE__*/React.createElement(\"li\",{id:\"file-box-customized-software\",className:\"file-box\",key:indexxxx},/*#__PURE__*/React.createElement(\"div\",{className:\"file-top\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-file-text-o \".concat(renderColor(indexxxx))}),/*#__PURE__*/React.createElement(\"i\",{id:\"PopoverCustom-\".concat(indexxxx),onClick:()=>{setSelectedFileTwo(file);calculatePopoverStateToChange(indexxxx,true,false);},className:\"fa fa-ellipsis-v f-14 ellips apply-special-hover-effect-black-icon\"})),/*#__PURE__*/React.createElement(Popover,{placement:\"top\",isOpen:calculatePopoverOpenWhich(indexxxx),target:\"PopoverCustom-\".concat(indexxxx),toggle:()=>{calculatePopoverStateToChange(indexxxx,null,true);}},/*#__PURE__*/React.createElement(PopoverHeader,null,\"Want to delete this file? \",/*#__PURE__*/React.createElement(\"div\",{className:\"popover-cancel-container\",onClick:()=>{calculatePopoverStateToChange(indexxxx,false,false);}},/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../../../assets/icons/close-64.png\"),className:\"small-close-popover-icon\"}))),/*#__PURE__*/React.createElement(PopoverBody,null,\"Would you like to \",/*#__PURE__*/React.createElement(\"em\",{style:{color:\"blue\",textDecorationLine:\"underline\"}},\"permanently delete\"),\" this file from your selected/uploaded files? This will remove ONLY this file which will free up space (if you have 10 files already) and will allow you to select another file to replace it. This action \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"red\"}},\"cannot\"),\" be undone.\",/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Button,{style:{marginTop:\"7.5px\",width:\"100%\"},onClick:()=>{deleteCurrentlySelectedTwoFile(indexxxx);},className:\"btn-air-secondary\",color:\"secondary\",size:\"md\"},\"Delete file!\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"file-bottom\"},/*#__PURE__*/React.createElement(\"h6\",null,file.name,\" \"),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1\"},formatBytes(file.size)),/*#__PURE__*/React.createElement(\"p\",null,\" \",/*#__PURE__*/React.createElement(\"b\",null,\"Uploaded at\",\" : \"),file.date)));})),/*#__PURE__*/React.createElement(\"hr\",null),previouslySavedSoftwareData.uploadedPublicFiles.length>3?/*#__PURE__*/React.createElement(Button,{color:\"secondary\",style:{width:\"100%\"},onClick:()=>{setSelectedFile({...previouslySavedSoftwareData.uploadedPublicFiles[0],selectedFileIndex:0});// set delay to allow load before modal opening...\nsetTimeout(()=>{setFileModalOpenStatus(true);},500);}},\"View All/Other Uploaded File's\"):null)))));};const onError=e=>{console.log(e,'error in file-viewer');};const calculateFileType=type=>{switch(type){case\"video/mp4\":return\"mp4\";break;case\"image/png\":return\"png\";break;case\"image/jpeg\":return\"jpeg\";break;case\"image/jpg\":return\"jpg\";break;case\"image/gif\":return\"gif\";break;case\"image/bmp\":return\"bmp\";break;case\"application/pdf\":return\"pdf\";break;case\"text/csv\":return\"csv\";break;case\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":return\"xlsx\";break;case\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":return\"docx\";break;case\"video/webm\":return\"webm\";break;case\"audio/mpeg\":return\"mp3\";break;default:break;}};const renderCustomButtonDropzone=(data,e)=>{const{meta}=data.files[0];if(currentFileSelectedUpload===null){return null;}else{if(fileReady===true){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Button,{style:{marginTop:\"25px\"},onClick:e=>{e.preventDefault();// file meta data for next action\nsetMetaFileData(meta);// set file status as ready or prepared.\nsetFileReadyStatus(false);const runSubmit=data.onSubmit;handleSubmit(runSubmit);},className:\"btn-air-secondary\",color:\"secondary\",size:\"md\"},\"Submit & Upload New File!\"));}else{return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Button,{style:{marginTop:\"25px\"},onClick:()=>{NotificationManager.warning(\"File is NOT ready to upload yet! Please wait for the preparation steps to complete before submitting.\",'Still preparing!',4500);},className:\"btn-air-light\",color:\"light\",size:\"md\"},\"Submit & Upload New File!\"));}}};const renderPreviewOfFile=data=>{const file=data.fileWithMeta.file;// return preview data via FileViewer (to not exclude documents such as .docx and such...);\nif(fileReady===true){return/*#__PURE__*/React.createElement(\"div\",{className:\"filereader-preview-dropzone\"},/*#__PURE__*/React.createElement(FileViewer,{fileType:calculateFileType(file.type),filePath:filePathData,onError:onError,key:file.id}));}else{return null;}};const imageChangeAndConversion=file=>{return URL.createObjectURL(file);};const onSubmitHelper=(files,allFiles)=>{allFiles.forEach(file=>{file.remove();});};const getFilesFromEvent=events=>{// console.log(\"getFilesFromEvent : \", events);\n};const deleteCurrentlySelectedFile=index=>{const removedFileArray=previouslySavedSoftwareData.uploadedPublicFiles.filter((item,i)=>{if(fileAtPopoverInteraction.id!==item.id){return true;}});saveSoftwareListingInfo({...previouslySavedSoftwareData,uploadedPublicFiles:removedFileArray});// close popover\nsetDynamicPopoverStateOpen(index,null,true);// change file current focus \nsetFileAtPopoverInteractionState(null);// check if the current \"set to delete\" item is in focus or not (being viewed)\nif(selectedFile.selectedFileIndex===index){// check if last item in array and IF SO actually bump ONE BACK instead of forward.\nif(previouslySavedSoftwareData.uploadedPublicFiles.length-1===index){setSelectedFile({...previouslySavedSoftwareData.uploadedPublicFiles[index-1],selectedFileIndex:selectedFile.selectedFileIndex-1});}else{// set focus of current file to one forward as the list bumps and the item after deleted item comes into focus.\nsetSelectedFile({...previouslySavedSoftwareData.uploadedPublicFiles[index+1],selectedFileIndex:selectedFile.selectedFileIndex});}}};const setDynamicPopoverStateOpen=(index,bool,reverseBool)=>{// reverse the state or coorlated index popover status\nif(reverseBool===true){setPopoverGeneralStatus({...popoverGeneralStatus,[\"popover\".concat(index)]:!\"popover\".concat(index)});}else{// do NOT make reversal changes and do normal logic!\nsetPopoverGeneralStatus({...popoverGeneralStatus,[\"popover\".concat(index)]:bool});}};const handleFinalSubmissionOfForm=onClose=>{console.log(\"handleFinalSubmissionOfForm clicked!\");// close modal (confirmation NOT file modal).\nonClose();// go to page 3 (75%) or final page IF REDIRECT EXISTS\nif(typeof previouslySavedSoftwareData.redirected!==\"undefined\"&&previouslySavedSoftwareData.redirected===true){saveSoftwareListingInfo({...previouslySavedSoftwareData,currentPage:4});}else{saveSoftwareListingInfo({...previouslySavedSoftwareData,currentPage:3});}};const closeModalAndReviewFiles=onClose=>{onClose();// open back up file modal to review.\nsetSelectedFile({...previouslySavedSoftwareData.uploadedPublicFiles[0],selectedFileIndex:0});// set delay to allow load before modal opening...\nsetTimeout(()=>{setFileModalOpenStatus(true);},500);};const initiateConfirmationContinuationMessage=()=>{console.log(\"initiateConfirmationContinuationMessage ran.\");// activate confirmation alert!\nconfirmAlert({customUI:_ref3=>{let{onClose}=_ref3;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{className:\"b-l-primary border-3 specific-edit-border-right\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Continue onwards to next page or go back?\")),/*#__PURE__*/React.createElement(CardBody,{id:\"modal-button-showcase-cardbody\",className:\"btn-group-showcase\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"12\",xl:\"12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"button-group-text-above\"},\"Would you like to leave this part of the \\\"Create-a-listing\\\" form and proceed onwards to the next required data collection point? Please select one of the options below...\")),/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"12\",xl:\"12\"},/*#__PURE__*/React.createElement(\"hr\",{className:\"secondary-hr\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"centered-button-container\"},/*#__PURE__*/React.createElement(ButtonGroup,{id:\"button-group-custom-secondary\"},/*#__PURE__*/React.createElement(Button,{className:\"set-background-hover\",outline:true,color:\"secondary\",onClick:onClose},\"Cancel/Close\"),/*#__PURE__*/React.createElement(Button,{className:\"set-background-hover\",color:\"secondary\",onClick:()=>{handleFinalSubmissionOfForm(onClose);}},\"Submit & Continue!\"),/*#__PURE__*/React.createElement(Button,{className:\"set-background-hover\",outline:true,color:\"secondary\",onClick:()=>{closeModalAndReviewFiles(onClose);}},\"Review Uploaded File(s)\"))))))));}});};// check to make sure appropriate changes occur.\nconsole.log(\"popoverGeneralStatus\",popoverGeneralStatus);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(LoadingBar,{color:\"#51bb25\",height:4.25,progress:progress,onLoaderFinished:()=>{setProgress(0);}}),selectedFile!==null?/*#__PURE__*/React.createElement(Modal,{classNames:{overlay:'customFileModalOverlay',modal:'customFileModal'},open:fileModalOpen,onOverlayClick:()=>{console.log(\"onOverlayClicked clicked!\");},onClose:()=>{setFileModalOpenStatus(false);},center:true},/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"4\",lg:\"4\",xl:\"4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"file-content\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,{id:\"file-manager-override-scroll\",className:\"file-manager\"},/*#__PURE__*/React.createElement(\"div\",{className:\"left-tall-scroller-overflow\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"files\"},previouslySavedSoftwareData.uploadedPublicFiles.map((file,indexxxx)=>{return/*#__PURE__*/React.createElement(\"li\",{id:\"file-box-customized-software-fullw\",className:\"file-box \".concat(selectedFile.selectedFileIndex===indexxxx?\"active-pane-file\":\"\"),key:indexxxx},/*#__PURE__*/React.createElement(\"div\",{className:\"file-top\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-file-text-o \".concat(renderColor(indexxxx))}),/*#__PURE__*/React.createElement(\"i\",{id:\"popover\".concat(indexxxx),onClick:()=>{setFileAtPopoverInteractionState(file);// do set (hard coded) switch\nsetDynamicPopoverStateOpen(indexxxx,true,false);},className:\"fa fa-ellipsis-v f-14 ellips \".concat(selectedFile.selectedFileIndex===indexxxx?\"apply-special-hover-effect-black-icon\":\"apply-special-hover-effect\")}),/*#__PURE__*/React.createElement(Popover,{placement:\"bottom\",isOpen:popoverGeneralStatus[\"popover\".concat(indexxxx)],target:\"popover\".concat(indexxxx),toggle:()=>{// reverse dynamic popover state!\nsetDynamicPopoverStateOpen(indexxxx,null,true);}},/*#__PURE__*/React.createElement(PopoverHeader,null,\"Want to delete this file? \",/*#__PURE__*/React.createElement(\"div\",{className:\"popover-cancel-container\",onClick:()=>{// do set (hard coded) switch\nsetDynamicPopoverStateOpen(indexxxx,false,false);}},/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../../../assets/icons/close-64.png\"),className:\"small-close-popover-icon\"}))),/*#__PURE__*/React.createElement(PopoverBody,null,\"Would you like to \",/*#__PURE__*/React.createElement(\"em\",{style:{color:\"blue\",textDecorationLine:\"underline\"}},\"permanently delete\"),\" this file from your selected/uploaded files? This will remove ONLY this file which will free up space (if you have 10 files already) and will allow you to select another file to replace it. This action \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"red\"}},\"cannot\"),\" be undone.\",/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Button,{style:{marginTop:\"7.5px\",width:\"100%\"},onClick:()=>{deleteCurrentlySelectedFile(indexxxx);},className:\"btn-air-secondary\",color:\"secondary\",size:\"md\"},\"Delete file!\")))),/*#__PURE__*/React.createElement(\"div\",{className:\"file-bottom\"},/*#__PURE__*/React.createElement(\"h6\",null,file.name),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1\"},formatBytes(file.size)),/*#__PURE__*/React.createElement(\"p\",null,\" \",/*#__PURE__*/React.createElement(\"b\",null,\"Uploaded at\",\" : \"),file.date)),/*#__PURE__*/React.createElement(\"div\",{className:\"center-button-file\"},/*#__PURE__*/React.createElement(Button,{style:{width:\"100%\"},onClick:()=>{setSelectedFile({...file,selectedFileIndex:indexxxx});},className:\"btn-air-secondary\",color:\"secondary\",size:\"sm\"},\"View File\")));}))))))),/*#__PURE__*/React.createElement(Col,{md:\"8\",lg:\"8\",xl:\"8\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,{className:\"file-viewer-cardbody\"},/*#__PURE__*/React.createElement(\"div\",{className:\"height-100-wmaxed\"},/*#__PURE__*/React.createElement(FileViewer,{fileType:calculateFileType(selectedFile.type),filePath:\"\".concat(process.env.REACT_APP_ASSET_LINK,\"/\").concat(selectedFile.link),onError:onError,key:selectedFile.id})))))))):null,/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"h5\",null,\"Upload related files & attachments\"),/*#__PURE__*/React.createElement(\"p\",{style:{paddingTop:\"7.5px\"}},\"Content to be transfered to purchaser of your listing. Read bottom details if confused or if you require more information or guidance.\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(Label,null,\"Select a single supporting file or multiple (Up to 10 files \",/*#__PURE__*/React.createElement(\"strong\",null,\"total\"),\")\"),/*#__PURE__*/React.createElement(\"p\",{className:\"subtext-under-label-upload\"},/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"blue\"}},\"NOTE\"),\": These files will be transfered or \\\"handed over\\\" to the winner of your auction (the highest bidder) after the completion of your listing. Please be aware that these are essentially the files that your winner will be \",/*#__PURE__*/React.createElement(\"strong\",null,\"downloading\"),\" and viewing.\"),/*#__PURE__*/React.createElement(\"div\",{className:\"dz-message needsclick\"},/*#__PURE__*/React.createElement(Dropzone,{ref:dropzoneRef,PreviewComponent:data=>renderPreviewOfFile(data),maxFiles:1,autoUpload:true,onChangeStatus:functions=>{setChangeOptions(functions);},submitButtonDisabled:false,InputComponent:CustomInputHelper,getFilesFromEvent:getFilesFromEvent,onSubmit:onSubmitHelper,SubmitButtonComponent:(data,e)=>{return/*#__PURE__*/React.createElement(\"div\",{className:\"absolutely-position-submit-btn\"},renderCustomButtonDropzone(data,e));},multiple:false,canCancel:false,styles:{dropzone:{height:325},dropzoneActive:{borderColor:'green'}}})),fileReady===true?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"hr\",{className:\"secondary-hr\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(Button,{style:{marginTop:\"25px\"},onClick:e=>{setMetaFileData(null);setFileReadyStatus(false);setCurrentUploadFileStatus(null);changeOptions.remove();},className:\"btn-air-danger cancel-button-upload\",color:\"danger\",size:\"md\"},\"Cancel Current/Pending Upload\"))):null))))),_.has(previouslySavedSoftwareData,\"uploadedPublicFiles\")&&previouslySavedSoftwareData.uploadedPublicFiles.length>0?renderConditionalUponFileUploads():null,_.has(previouslySavedSoftwareData,\"uploadedPublicFiles\")&&previouslySavedSoftwareData.uploadedPublicFiles.length>0?/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Card,{className:\"card-absolute\"},/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"12\",xl:\"12\"},/*#__PURE__*/React.createElement(Label,null,\"Currently, you've \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"red\"}},\"successfully\"),\" uploaded \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"blue\",textDecorationLine:\"underline\",fontSize:\"20px\"}},previouslySavedSoftwareData.uploadedPublicFiles.length),\" files out of your ten (10) file limit. You have \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"blue\",textDecorationLine:\"underline\",fontSize:\"20px\"}},10-previouslySavedSoftwareData.uploadedPublicFiles.length),\" available slots left to upload additional files!\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Button,{color:\"primary\",style:{width:\"100%\"},onClick:()=>{initiateConfirmationContinuationMessage();}},\" ~ Submit form details and proceed to next page ~ \"))))):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"12\",xl:\"12\"},/*#__PURE__*/React.createElement(Card,{className:\"card-absolute\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"bg-secondary\"},/*#__PURE__*/React.createElement(\"h5\",{style:{color:\"white\"}},\"Upload at least three (3) files to proceed w/this form\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"p\",null,\"You \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"red\",textDecorationLine:\"underline\"}},\"MUST\"),\" upload related files & attachements that will be \",/*#__PURE__*/React.createElement(\"strong\",null,\"transfered/given\"),\" to the highest bidder OR person that purchases your listing via buy-it-now or best-offer (or any other methods available). Please keep in mind, \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"red\",textDecorationLine:\"underline\"}},\"ALL\"),\" of the files uploaded in this form page (40% aka page TWO ONLY) will be \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"red\",textDecorationLine:\"underline\"}},\"TRANSFERED\"),\" to the winner/purchaser of your listing. You should include the code and whatever related files/folders linked to what you're selling - IF you're NOT sure about what all needs to be uploaded, it's generally better to be safe and upload \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"red\",textDecorationLine:\"underline\"}},\"everything (even if you have to question whether a file is relevant)\"),\" than have to eventually \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"red\",textDecorationLine:\"underline\"}},\"partially/fully refund\"),\" the buyer due to illusions/deceit of what's actually included in this listing. Be honest, transparent and include everything that is supposedly for sale.\"))))))));};const mapStateToProps=state=>{return{userData:state.auth.data,previouslySavedSoftwareData:state.softwareListingSale.softwareListingSaleInfo};};export default connect(mapStateToProps,{saveSoftwareListingInfo})(PageTwoMainHelper);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/softwareHardwareExchanges/software/createListing/multiStepPages/pageTwo/pageTwoMain.js"],"names":["React","useState","useEffect","useRef","Fragment","Container","Row","Col","Card","CardHeader","CardBody","Form","Label","Button","Popover","PopoverBody","PopoverHeader","ButtonGroup","Dropzone","axios","connect","NotificationManager","LoadingBar","saveSoftwareListingInfo","_","Modal","FileViewer","confirmAlert","PageTwoMainHelper","userData","previouslySavedSoftwareData","dropzoneRef","progress","setProgress","fileModalOpen","setFileModalOpenStatus","selectedFile","setSelectedFile","selectedFileTwo","setSelectedFileTwo","fileReady","setFileReadyStatus","currentFileSelectedUpload","setCurrentUploadFileStatus","filePathData","setCurrentFilePathData","fileMetaData","setMetaFileData","popoverOpen","setPopoverState","fileAtPopoverInteraction","setFileAtPopoverInteractionState","popoverOne","setPopoverOneState","popoverTwo","setPopoverTwoState","popoverThree","setPopoverThreeState","changeOptions","setChangeOptions","popoverGeneralStatus","setPopoverGeneralStatus","popover0","popover1","popover2","popover3","popover4","popover5","popover6","popover7","popover8","popover9","CustomInputHelper","accept","onFiles","text","backgroundColor","color","cursor","padding","borderRadius","display","e","file","target","files","imageChangeAndConversion","handleSubmit","runSubmit","console","log","has","uploadedPublicFiles","length","data","FormData","append","config","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","total","headers","post","process","env","REACT_APP_BASE_URL","then","res","message","success","catch","err","error","renderColor","i","formatBytes","bytes","decimals","k","dm","sizes","floor","parseFloat","pow","toFixed","deleteCurrentlySelectedTwoFile","index","removedFileArray","filter","item","id","calculatePopoverStateToChange","calculatePopoverOpenWhich","bool","reverse","renderConditionalUponFileUploads","slice","map","indexxxx","require","textDecorationLine","marginTop","width","name","size","date","selectedFileIndex","setTimeout","onError","calculateFileType","type","renderCustomButtonDropzone","meta","preventDefault","onSubmit","warning","renderPreviewOfFile","fileWithMeta","URL","createObjectURL","onSubmitHelper","allFiles","forEach","remove","getFilesFromEvent","events","deleteCurrentlySelectedFile","setDynamicPopoverStateOpen","reverseBool","handleFinalSubmissionOfForm","onClose","redirected","currentPage","closeModalAndReviewFiles","initiateConfirmationContinuationMessage","customUI","overlay","modal","REACT_APP_ASSET_LINK","link","paddingTop","functions","dropzone","height","dropzoneActive","borderColor","fontSize","mapStateToProps","state","auth","softwareListingSale","softwareListingSaleInfo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useRef, Fragment } from 'react';\nimport \"./styles.css\";\nimport { Container, Row, Col, Card, CardHeader, CardBody, Form, Label, Button, Popover, PopoverBody, PopoverHeader, ButtonGroup } from 'reactstrap'\nimport Dropzone from 'react-dropzone-uploader';\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { NotificationManager } from 'react-notifications';\nimport LoadingBar from 'react-top-loading-bar';\nimport { saveSoftwareListingInfo } from \"../../../../../../../redux/actions/hackers/createSoftwareListing/createNewSoftwareListingSale.js\";\nimport _ from \"lodash\";\nimport { Modal } from 'react-responsive-modal';\nimport FileViewer from 'react-file-viewer';\nimport { confirmAlert } from 'react-confirm-alert';\n\nconst PageTwoMainHelper = ({ userData, saveSoftwareListingInfo, previouslySavedSoftwareData }) => {\n    // refs & such\n    const dropzoneRef = useRef(null);\n    // start of state logic...\n    const [progress, setProgress] = useState(0);\n    const [fileModalOpen, setFileModalOpenStatus] = useState(false);\n    const [selectedFile, setSelectedFile] = useState(null);\n    const [selectedFileTwo, setSelectedFileTwo] = useState(null);\n    const [fileReady, setFileReadyStatus] = useState(false);\n    const [currentFileSelectedUpload, setCurrentUploadFileStatus] = useState(null);\n    const [filePathData, setCurrentFilePathData] = useState(null);\n    const [fileMetaData, setMetaFileData] = useState(null);\n    const [popoverOpen, setPopoverState] = useState(false);\n    const [ fileAtPopoverInteraction, setFileAtPopoverInteractionState ] = useState(null);\n    const [ popoverOne, setPopoverOneState ] = useState(false);\n    const [ popoverTwo, setPopoverTwoState ] = useState(false);\n    const [ popoverThree, setPopoverThreeState ] = useState(false);\n    const [ changeOptions, setChangeOptions ] = useState(null);\n    // popover main logic (after clicking button - create state for each iteration/item);\n    const [ popoverGeneralStatus, setPopoverGeneralStatus ] = useState({\n        popover0: false,\n        popover1: false,\n        popover2: false,\n        popover3: false,\n        popover4: false,\n        popover5: false,\n        popover6: false,\n        popover7: false,\n        popover8: false,\n        popover9: false\n    })\n\n    const CustomInputHelper = ({ accept, onFiles }) => {\n\n        const text = \"Drop a file OR select to browse local data\";\n\n        return (\n            <label className=\"custom-input-dropzone-copy\" style={{ backgroundColor: '#007bff', color: '#fff', cursor: 'pointer', padding: 15, borderRadius: 3 }}>\n                {text}\n                <input\n                    style={{ display: 'none' }}\n                    type=\"file\"\n                    accept={accept}\n                    multiple={false}\n                    className={\"custom-dropzone-input-actual-input\"}\n                    onChange={e => {\n                        const file = e.target.files[0];\n                        // set current file path to convert to readable URL later\n                        setCurrentFilePathData(imageChangeAndConversion(file));\n                        // set status update for current file\n                        setCurrentUploadFileStatus(file);\n                        // mark file as READY \n                        setFileReadyStatus(true);\n                        // update \"Dropzone\" component state (NOT this react component state).\n                        onFiles([file])\n                    }}\n                />\n            </label>\n        );\n    }\n    const handleSubmit = (runSubmit) => {\n\n        console.log(\"submitted!\", currentFileSelectedUpload, fileMetaData);\n\n        if ((!_.has(previouslySavedSoftwareData, \"uploadedPublicFiles\")) || (previouslySavedSoftwareData.uploadedPublicFiles.length <= 10)) {\n            const data = new FormData();\n\n            data.append(\"file\", currentFileSelectedUpload);\n            data.append(\"meta\", fileMetaData);\n\n            const config = {\n                onUploadProgress: (progressEvent) => {\n                    let percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n                    setProgress(percentCompleted);\n                },\n                headers: {\n                    'Content-Type': 'multipart/form-data'\n                }\n            };\n\n            axios.post(`${process.env.REACT_APP_BASE_URL}/upload/misc/file/softare/listing/sale`, data, config).then((res) => {\n                if (res.data.message === \"Successfully uploaded file!\") {\n                    console.log(res.data);\n\n                    const { file } = res.data;\n\n                    saveSoftwareListingInfo({\n                        ...previouslySavedSoftwareData,\n                        uploadedPublicFiles: _.has(previouslySavedSoftwareData, \"uploadedPublicFiles\") ? [...previouslySavedSoftwareData.uploadedPublicFiles, file] : [file]\n                    })\n\n                    NotificationManager.success(`We've successfully uploaded your file! Please proceed filling out your information or add more files.`, 'Successfully uploaded file!', 4500);\n\n                    setMetaFileData(null);\n                    setFileReadyStatus(false);\n                    setCurrentUploadFileStatus(null);\n\n                    runSubmit();\n                } else {\n                    console.log(\"Err\", res.data);\n                }\n            }).catch((err) => {\n                console.log(err);\n            })\n        } else {\n            // here!\n            NotificationManager.error(`You're only allowed to upload 10 (TEN) files TOTAL. If you'd like to upload different files - remove/delete a previously uploaded file.`, \"Too many uploads!\", 4500);\n        }\n    };\n    useEffect(() => {\n        // probably end up putting something here?\n        console.log(\"re-rendered.\");\n    }, [])\n    const renderColor = (i) => {\n        switch (i) {\n            case 1:\n                return \"txt-success\";\n                break;\n            case 2:\n                return \"txt-info\";\n                break;\n            case 3:\n                return \"txt-danger\";\n                break;\n            case 4:\n                return \"txt-warning\";\n                break;\n            case 5:\n                return \"txt-dark\";\n                break;\n            case 6:\n                return \"txt-primary\";\n                break;\n            case 7:\n                return \"txt-secondary\";\n                break;\n            case 8:\n                return \"txt-pink\";\n                break;\n            case 9:\n                return \"txt-grey\";\n                break;\n            case 10:\n                return \"txt-success\";\n                break;\n            default:\n                return \"txt-warning\";\n                break;\n        }\n    }\n    const formatBytes = (bytes, decimals = 2) => {\n        if (bytes === 0) return '0 Bytes';\n        const k = 1024;\n        const dm = decimals < 0 ? 0 : decimals;\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];\n        const i = Math.floor(Math.log(bytes) / Math.log(k));\n        return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + sizes[i];\n    }\n    const deleteCurrentlySelectedTwoFile = (index) => {\n        console.log(\"deleteCurrentlySelectedTwoFile ran!\");\n        // remove file from redux state array\n        const removedFileArray = previouslySavedSoftwareData.uploadedPublicFiles.filter((item, i) => {\n            if (selectedFileTwo.id !== item.id) {\n                return true;\n            }\n        });\n        // change redux state\n        saveSoftwareListingInfo({\n            ...previouslySavedSoftwareData,\n            uploadedPublicFiles: removedFileArray\n        });\n\n        // // close popover\n        calculatePopoverStateToChange(index, null, true);\n        // set selected file popover state back to *default* === null\n        setSelectedFileTwo(null);\n    }\n    const calculatePopoverOpenWhich = (index) => {\n        switch (index) {\n            case 0:\n                return popoverOne;\n                break;\n            case 1: \n                return popoverTwo;\n                break;\n            case 2:\n                return popoverThree;\n                break;\n            default:\n                break;\n        }\n    }\n    const calculatePopoverStateToChange = (index, bool, reverse) => {\n        if (reverse === true) {\n            switch (index) {\n                case 0:\n                    setPopoverOneState(!popoverOne);\n                    break;\n                case 1: \n                    setPopoverTwoState(!popoverTwo);\n                    break;\n                case 2:\n                    setPopoverThreeState(!popoverThree);\n                    break;\n                default:\n                    break;\n            }\n        } else {\n            switch (index) {\n                case 0:\n                    setPopoverOneState(bool);\n                    break;\n                case 1: \n                    setPopoverTwoState(bool);\n                    break;\n                case 2:\n                    setPopoverThreeState(bool);\n                    break;\n                default:\n                    break;\n            }\n        }\n    }\n    const renderConditionalUponFileUploads = () => {\n        return (\n            <Row>\n                <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                    <div className=\"file-content\">\n                        <Card>\n                            <CardBody className=\"file-manager\">\n                                <Label>If you'd like to view your previously uploaded files (uploaded yet NOT public <em style={{ color: \"red\" }}>yet</em>) can be viewed below however we will only show the first three (3) files in the preview region. If you'd like to view the rest of your uploaded files, click the <strong style={{ color: \"blue\" }}>\"View All/Other Uploaded File's\"</strong> button to view all of your uploaded content.</Label>\n\n                                <h4 className=\"mb-3\">Uploaded File(s) & Content</h4>\n                                <h6>These are your \"Completed & already uploaded\" files <em>however</em> they will only be permanently saved upon completion and posting of this listing as a whole.</h6>\n                                <ul className=\"files\">\n                                    {previouslySavedSoftwareData.uploadedPublicFiles.slice(0, 3).map((file, indexxxx) => {\n                                        return (\n                                            <li id=\"file-box-customized-software\" className=\"file-box\" key={indexxxx}>\n                                                <div className=\"file-top\">\n                                                    <i className={`fa fa-file-text-o ${renderColor(indexxxx)}`}></i><i id={`PopoverCustom-${indexxxx}`} onClick={() => {\n                                                        setSelectedFileTwo(file);\n\n                                                        calculatePopoverStateToChange(indexxxx, true, false);\n                                                    }} className={`fa fa-ellipsis-v f-14 ellips apply-special-hover-effect-black-icon`}></i>\n                                                </div>\n                                                <Popover placement=\"top\" isOpen={calculatePopoverOpenWhich(indexxxx)} target={`PopoverCustom-${indexxxx}`} toggle={() => {\n                                                    calculatePopoverStateToChange(indexxxx, null, true);\n                                                }}>\n                                                    <PopoverHeader>Want to delete this file? <div className=\"popover-cancel-container\" onClick={() => {\n                                                        calculatePopoverStateToChange(indexxxx, false, false);\n                                                    }}><img src={require(\"../../../../../../../assets/icons/close-64.png\")} className=\"small-close-popover-icon\" /></div></PopoverHeader>\n                                                    <PopoverBody>Would you like to <em style={{ color: \"blue\", textDecorationLine: \"underline\" }}>permanently delete</em> this file from your selected/uploaded files? This will remove ONLY this file which will free up space (if you have 10 files already) and will allow you to select another file to replace it. This action <strong style={{ color: \"red\" }}>cannot</strong> be undone.\n                                                        <hr />\n                                                        <Button style={{ marginTop: \"7.5px\", width: \"100%\" }} onClick={() => {\n                                                            deleteCurrentlySelectedTwoFile(indexxxx);\n                                                        }} className=\"btn-air-secondary\" color=\"secondary\" size=\"md\">Delete file!</Button>\n                                                    </PopoverBody>\n                                                </Popover>\n                                                <div className=\"file-bottom\">\n                                                    <h6>{file.name} </h6>\n                                                    <p className=\"mb-1\">{formatBytes(file.size)}</p>\n                                                    <p> <b>{\"Uploaded at\"} : </b>{file.date}</p>\n                                                </div>\n                                            </li>\n                                        );\n                                    })}\n                                </ul>\n                                <hr />\n                                {previouslySavedSoftwareData.uploadedPublicFiles.length > 3 ? <Button color=\"secondary\" style={{ width: \"100%\" }} onClick={() => {\n                                    setSelectedFile({\n                                        ...previouslySavedSoftwareData.uploadedPublicFiles[0],\n                                        selectedFileIndex: 0\n                                    });\n                                    // set delay to allow load before modal opening...\n                                    setTimeout(() => {\n                                        setFileModalOpenStatus(true);\n                                    }, 500)\n                                }}>View All/Other Uploaded File's</Button> : null}\n                            </CardBody>\n                        </Card>\n                    </div>\n                </Col>\n            </Row>\n        );\n    }\n    const onError = (e) => {\n        console.log(e, 'error in file-viewer');\n    }\n    const calculateFileType = (type) => {\n        switch (type) {\n            case \"video/mp4\":\n                return \"mp4\";\n                break;\n            case \"image/png\":\n                return \"png\";\n                break;\n            case \"image/jpeg\":\n                return \"jpeg\";\n                break;\n            case \"image/jpg\":\n                return \"jpg\";\n                break;\n            case \"image/gif\":\n                return \"gif\";\n                break;\n            case \"image/bmp\":\n                return \"bmp\";\n                break;\n            case \"application/pdf\":\n                return \"pdf\";\n                break;\n            case \"text/csv\":\n                return \"csv\";\n                break;\n            case \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\n                return \"xlsx\";\n                break;\n            case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n                return \"docx\";\n                break;\n            case \"video/webm\":\n                return \"webm\";\n                break;\n            case \"audio/mpeg\":\n                return \"mp3\";\n                break;\n            default:\n                break;\n        }\n    }\n    const renderCustomButtonDropzone = (data, e) => {\n\n        const { meta } = data.files[0];\n\n        if (currentFileSelectedUpload === null) {\n            return null;\n        } else {\n            if (fileReady === true) {\n                return (\n                    <Fragment>\n                        <Button style={{ marginTop: \"25px\" }} onClick={(e) => {\n                            e.preventDefault();\n                            // file meta data for next action\n                            setMetaFileData(meta);\n                            // set file status as ready or prepared.\n                            setFileReadyStatus(false);\n\n                            const runSubmit = data.onSubmit;\n\n                            handleSubmit(runSubmit);\n                        }} className=\"btn-air-secondary\" color=\"secondary\" size=\"md\">Submit & Upload New File!</Button>\n                    </Fragment>\n                );\n            } else {\n                return (\n                    <Fragment>\n                        <Button style={{ marginTop: \"25px\" }} onClick={() => {\n                            NotificationManager.warning(`File is NOT ready to upload yet! Please wait for the preparation steps to complete before submitting.`, 'Still preparing!', 4500);\n                        }} className=\"btn-air-light\" color=\"light\" size=\"md\">Submit & Upload New File!</Button>\n                    </Fragment>\n                );\n            }\n        }\n    }\n    const renderPreviewOfFile = (data) => {\n\n        const file = data.fileWithMeta.file;\n        // return preview data via FileViewer (to not exclude documents such as .docx and such...);\n        if (fileReady === true) {\n            return (\n                <div className=\"filereader-preview-dropzone\">\n                    <FileViewer\n                        fileType={calculateFileType(file.type)}\n                        filePath={filePathData}\n                        onError={onError}\n                        key={file.id}\n                    />\n                </div>\n            );\n        } else {\n            return null;\n        }\n    }\n    const imageChangeAndConversion = (file) => {\n        return URL.createObjectURL(file);\n    }\n    const onSubmitHelper = (files, allFiles) => {\n        allFiles.forEach((file) => {\n            file.remove();\n        })\n    }\n    const getFilesFromEvent = (events) => {\n        // console.log(\"getFilesFromEvent : \", events);\n    }\n    const deleteCurrentlySelectedFile = (index) => {\n\n        const removedFileArray = previouslySavedSoftwareData.uploadedPublicFiles.filter((item, i) => {\n            if (fileAtPopoverInteraction.id !== item.id) {\n                return true;\n            }\n        });\n\n        saveSoftwareListingInfo({\n            ...previouslySavedSoftwareData,\n            uploadedPublicFiles: removedFileArray\n        });\n        // close popover\n        setDynamicPopoverStateOpen(index, null, true);\n        // change file current focus \n        setFileAtPopoverInteractionState(null);\n        // check if the current \"set to delete\" item is in focus or not (being viewed)\n        if (selectedFile.selectedFileIndex === index) {\n            // check if last item in array and IF SO actually bump ONE BACK instead of forward.\n            if ((previouslySavedSoftwareData.uploadedPublicFiles.length - 1) === index) {\n                setSelectedFile({\n                    ...previouslySavedSoftwareData.uploadedPublicFiles[index - 1],\n                    selectedFileIndex: selectedFile.selectedFileIndex - 1\n                });\n            } else {\n                // set focus of current file to one forward as the list bumps and the item after deleted item comes into focus.\n                setSelectedFile({\n                    ...previouslySavedSoftwareData.uploadedPublicFiles[index + 1],\n                    selectedFileIndex: selectedFile.selectedFileIndex\n                });\n            }\n        }\n    }\n    const setDynamicPopoverStateOpen = (index, bool, reverseBool) => {\n        // reverse the state or coorlated index popover status\n        if (reverseBool === true) {\n            setPopoverGeneralStatus({\n                ...popoverGeneralStatus,\n                [`popover${index}`]: !`popover${index}`\n            });\n        } else {\n            // do NOT make reversal changes and do normal logic!\n            setPopoverGeneralStatus({\n                ...popoverGeneralStatus,\n                [`popover${index}`]: bool\n            });\n        }\n    }\n    const handleFinalSubmissionOfForm = (onClose) => {\n        console.log(\"handleFinalSubmissionOfForm clicked!\");\n        // close modal (confirmation NOT file modal).\n        onClose();\n        // go to page 3 (75%) or final page IF REDIRECT EXISTS\n        if (typeof previouslySavedSoftwareData.redirected !== \"undefined\" && previouslySavedSoftwareData.redirected === true) {\n            saveSoftwareListingInfo({\n                ...previouslySavedSoftwareData,\n                currentPage: 4\n            });\n        } else {\n            saveSoftwareListingInfo({\n                ...previouslySavedSoftwareData,\n                currentPage: 3\n            });\n        }\n    }\n    const closeModalAndReviewFiles = (onClose) => {\n        onClose();\n        // open back up file modal to review.\n        setSelectedFile({\n            ...previouslySavedSoftwareData.uploadedPublicFiles[0],\n            selectedFileIndex: 0\n        });\n        // set delay to allow load before modal opening...\n        setTimeout(() => {\n            setFileModalOpenStatus(true);\n        }, 500)\n    }\n    const initiateConfirmationContinuationMessage = () => {\n        console.log(\"initiateConfirmationContinuationMessage ran.\");\n        // activate confirmation alert!\n\n        confirmAlert({\n            customUI: ({ onClose }) => {\n                return (\n                    <Fragment>\n                        <Card>\n                            <CardHeader className=\"b-l-primary border-3 specific-edit-border-right\">\n                                <h3>Continue onwards to next page or go back?</h3>\n                            </CardHeader>\n                            <CardBody id=\"modal-button-showcase-cardbody\" className=\"btn-group-showcase\">\n                                <Row>\n                                    <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                                        <p className=\"button-group-text-above\">Would you like to leave this part of the \"Create-a-listing\" form and proceed onwards to the next required data collection point? Please select one of the options below...</p>\n                                    </Col>\n                                    <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                                        <hr className=\"secondary-hr\" />\n                                        <div className=\"centered-button-container\">\n                                            <ButtonGroup id=\"button-group-custom-secondary\">\n                                                <Button className=\"set-background-hover\" outline color=\"secondary\" onClick={onClose}>Cancel/Close</Button>\n                                                <Button className=\"set-background-hover\" color=\"secondary\" onClick={() => {\n                                                    handleFinalSubmissionOfForm(onClose);   \n                                                }}>Submit & Continue!</Button>\n                                                <Button className=\"set-background-hover\" outline color=\"secondary\" onClick={() => {\n                                                    closeModalAndReviewFiles(onClose);\n                                                }}>Review Uploaded File(s)</Button>\n                                            </ButtonGroup>\n                                        </div>\n                                    </Col>\n                                </Row>\n                            </CardBody>\n                        </Card>\n                    </Fragment>\n              );\n            }\n        });\n    }\n    // check to make sure appropriate changes occur.\n    console.log(\"popoverGeneralStatus\", popoverGeneralStatus);\n    return (\n        <Fragment>\n            <LoadingBar\n                color='#51bb25'\n                height={4.25}\n                progress={progress}\n                onLoaderFinished={() => {\n                    setProgress(0);\n                }}\n            />\n            {selectedFile !== null ? <Modal classNames={{\n                overlay: 'customFileModalOverlay',\n                modal: 'customFileModal',\n            }} open={fileModalOpen} onOverlayClick={() => {\n                console.log(\"onOverlayClicked clicked!\");\n            }} onClose={() => {\n                setFileModalOpenStatus(false);\n            }} center>\n                <Container fluid={true}>\n                    <Row>\n                        <Col md=\"4\" lg=\"4\" xl=\"4\">\n                            <div className=\"file-content\">\n                                <Card>\n                                    <CardBody id=\"file-manager-override-scroll\" className=\"file-manager\">\n                                        <div className=\"left-tall-scroller-overflow\">\n                                            <ul className=\"files\">\n                                                {previouslySavedSoftwareData.uploadedPublicFiles.map((file, indexxxx) => {\n                                                    return (\n                                                        <li id={`file-box-customized-software-fullw`} className={`file-box ${selectedFile.selectedFileIndex === indexxxx ? \"active-pane-file\" : \"\"}`} key={indexxxx}>\n                                                            <div className=\"file-top\"><i className={`fa fa-file-text-o ${renderColor(indexxxx)}`}></i><i id={`popover${indexxxx}`} onClick={() => {\n                                                                setFileAtPopoverInteractionState(file);\n                                                                // do set (hard coded) switch\n                                                                setDynamicPopoverStateOpen(indexxxx, true, false);\n                                                            }} className={`fa fa-ellipsis-v f-14 ellips ${selectedFile.selectedFileIndex === indexxxx ? \"apply-special-hover-effect-black-icon\" : \"apply-special-hover-effect\"}`}></i>\n                                                                <Popover placement=\"bottom\" isOpen={popoverGeneralStatus[`popover${indexxxx}`]} target={`popover${indexxxx}`} toggle={() => {\n                                                                    // reverse dynamic popover state!\n                                                                    setDynamicPopoverStateOpen(indexxxx, null, true);\n                                                                }}>\n                                                                    <PopoverHeader>Want to delete this file? <div className=\"popover-cancel-container\" onClick={() => {\n                                                                        // do set (hard coded) switch\n                                                                        setDynamicPopoverStateOpen(indexxxx, false, false);\n                                                                    }}><img src={require(\"../../../../../../../assets/icons/close-64.png\")} className=\"small-close-popover-icon\" /></div></PopoverHeader>\n                                                                    <PopoverBody>Would you like to <em style={{ color: \"blue\", textDecorationLine: \"underline\" }}>permanently delete</em> this file from your selected/uploaded files? This will remove ONLY this file which will free up space (if you have 10 files already) and will allow you to select another file to replace it. This action <strong style={{ color: \"red\" }}>cannot</strong> be undone.\n                                                                        <hr />\n                                                                        <Button style={{ marginTop: \"7.5px\", width: \"100%\" }} onClick={() => {\n                                                                            deleteCurrentlySelectedFile(indexxxx);\n                                                                        }} className=\"btn-air-secondary\" color=\"secondary\" size=\"md\">Delete file!</Button>\n                                                                    </PopoverBody>\n                                                                </Popover>\n                                                            </div>\n                                                            <div className=\"file-bottom\">\n                                                                <h6>{file.name}</h6>\n                                                                <p className=\"mb-1\">{formatBytes(file.size)}</p>\n                                                                <p> <b>{\"Uploaded at\"} : </b>{file.date}</p>\n                                                            </div>\n                                                            <div className=\"center-button-file\">\n                                                                <Button style={{ width: \"100%\" }} onClick={() => {\n                                                                    setSelectedFile({\n                                                                        ...file,\n                                                                        selectedFileIndex: indexxxx\n                                                                    });\n                                                                }} className=\"btn-air-secondary\" color=\"secondary\" size=\"sm\">View File</Button>\n                                                            </div>\n                                                        </li>\n                                                    );\n                                                })}\n                                            </ul>\n                                        </div>\n                                    </CardBody>\n                                </Card>\n                            </div>\n                        </Col>\n                        <Col md=\"8\" lg=\"8\" xl=\"8\">\n                            <Card>\n                                <CardBody className=\"file-viewer-cardbody\">\n                                    <div className=\"height-100-wmaxed\">\n                                        <FileViewer\n                                            fileType={calculateFileType(selectedFile.type)}\n                                            filePath={`${process.env.REACT_APP_ASSET_LINK}/${selectedFile.link}`}\n                                            onError={onError}\n                                            key={selectedFile.id}\n                                        />\n                                    </div>\n                                </CardBody>\n                            </Card>\n                        </Col>\n                    </Row>\n                </Container>\n            </Modal> : null}\n            <Container fluid={true}>\n                <Row>\n                    <Col sm=\"12\">\n                        <Card>\n                            <CardHeader>\n                                <h5>Upload related files & attachments</h5>\n                                <p style={{ paddingTop: \"7.5px\" }}>Content to be transfered to purchaser of your listing. Read bottom details if confused or if you require more information or guidance.</p>\n                            </CardHeader>\n                            <CardBody>\n                                <Form>\n                                    <Label>Select a single supporting file or multiple (Up to 10 files <strong>total</strong>)</Label>\n                                    <p className=\"subtext-under-label-upload\"><strong style={{ color: \"blue\" }}>NOTE</strong>: These files will be transfered or \"handed over\" to the winner of your auction (the highest bidder) after the completion of your listing. Please be aware that these are essentially the files that your winner will be <strong>downloading</strong> and viewing.</p>\n                                    <div className=\"dz-message needsclick\">\n                                        <Dropzone\n                                            ref={dropzoneRef}\n                                            PreviewComponent={(data) => renderPreviewOfFile(data)}\n                                            maxFiles={1}\n                                            autoUpload={true}\n                                            onChangeStatus={(functions) => {\n                                                setChangeOptions(functions);\n                                            }}\n                                            submitButtonDisabled={false}\n                                            InputComponent={CustomInputHelper}\n                                            getFilesFromEvent={getFilesFromEvent}\n                                            onSubmit={onSubmitHelper}\n                                            SubmitButtonComponent={(data, e) => {\n                                                return (\n                                                    <div className=\"absolutely-position-submit-btn\">\n                                                        {renderCustomButtonDropzone(data, e)}\n                                                    </div>\n                                                );\n                                            }}\n                                            multiple={false}\n                                            canCancel={false}\n                                            styles={{\n                                                dropzone: { height: 325 },\n                                                dropzoneActive: { borderColor: 'green' },\n                                            }}\n                                        />\n                                    </div>\n                                    {fileReady === true ? <Fragment>\n                                        <hr className=\"secondary-hr\" />\n                                        <div className=\"centered-both-ways\">\n                                            <Button style={{ marginTop: \"25px\" }} onClick={(e) => {\n                                                setMetaFileData(null);\n                                                setFileReadyStatus(false);\n                                                setCurrentUploadFileStatus(null);\n\n                                                changeOptions.remove();\n                                            }} className=\"btn-air-danger cancel-button-upload\" color=\"danger\" size=\"md\">Cancel Current/Pending Upload</Button>\n                                        </div>\n                                    </Fragment> : null}\n                                </Form>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n                {_.has(previouslySavedSoftwareData, \"uploadedPublicFiles\") && previouslySavedSoftwareData.uploadedPublicFiles.length > 0 ? renderConditionalUponFileUploads() : null}\n                {_.has(previouslySavedSoftwareData, \"uploadedPublicFiles\") && previouslySavedSoftwareData.uploadedPublicFiles.length > 0 ? <Row>\n                    <Card className=\"card-absolute\">\n                        <CardBody>\n                            <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                                <Label>Currently, you've <strong style={{ color: \"red\" }}>successfully</strong> uploaded <strong style={{ color: \"blue\", textDecorationLine: \"underline\", fontSize: \"20px\" }}>{previouslySavedSoftwareData.uploadedPublicFiles.length}</strong> files out of your ten (10) file limit. You have <strong style={{ color: \"blue\", textDecorationLine: \"underline\", fontSize: \"20px\" }}>{(10 - previouslySavedSoftwareData.uploadedPublicFiles.length)}</strong> available slots left to upload additional files!</Label>\n                                <hr />\n                                <Button color=\"primary\" style={{ width: \"100%\" }} onClick={() => {\n                                    initiateConfirmationContinuationMessage();\n                                }}> ~ Submit form details and proceed to next page ~ </Button>\n                            </Col>\n                        </CardBody>\n                    </Card>\n                </Row> : <Fragment>\n                    <Row>\n                        <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                            <Card className=\"card-absolute\">\n                                <CardHeader className=\"bg-secondary\">\n                                    <h5 style={{ color: \"white\" }}>Upload at least three (3) files to proceed w/this form</h5>\n                                </CardHeader>\n                                <CardBody>\n                                    <p>You <strong style={{ color: \"red\", textDecorationLine: \"underline\" }}>MUST</strong> upload related files & attachements that will be <strong>transfered/given</strong> to the highest bidder OR person that purchases your listing via buy-it-now or best-offer (or any other methods available). Please keep in mind, <strong style={{ color: \"red\", textDecorationLine: \"underline\" }}>ALL</strong> of the files uploaded in this form page (40% aka page TWO ONLY) will be <strong style={{ color: \"red\", textDecorationLine: \"underline\" }}>TRANSFERED</strong> to the winner/purchaser of your listing. You should include the code and whatever related files/folders linked to what you're selling - IF you're NOT sure about what all needs to be uploaded, it's generally better to be safe and upload <strong style={{ color: \"red\", textDecorationLine: \"underline\" }}>everything (even if you have to question whether a file is relevant)</strong> than have to eventually <strong style={{ color: \"red\", textDecorationLine: \"underline\" }}>partially/fully refund</strong> the buyer due to illusions/deceit of what's actually included in this listing. Be honest, transparent and include everything that is supposedly for sale.</p>\n                                </CardBody>\n                            </Card>\n                        </Col>\n                    </Row>\n                </Fragment>}\n            </Container>\n        </Fragment>\n    );\n};\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data,\n        previouslySavedSoftwareData: state.softwareListingSale.softwareListingSaleInfo\n    }\n}\nexport default connect(mapStateToProps, { saveSoftwareListingInfo })(PageTwoMainHelper);"]},"metadata":{},"sourceType":"module"}