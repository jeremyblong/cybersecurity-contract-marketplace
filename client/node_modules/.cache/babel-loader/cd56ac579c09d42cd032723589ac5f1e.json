{"ast":null,"code":"import React,{Fragment,Component}from'react';import Loader from\"../layout/loader\";import Header from'../layout/header';import Sidebar from'../layout/sidebar';import Footer from'../layout/footer';import ThemeCustomize from\"../layout/theme-customizer\";import{ToastContainer}from'react-toastify';import{connect}from\"react-redux\";import _ from\"lodash\";import{shiftCoreStyles}from\"../redux/actions/universal/index.js\";import axios from\"axios\";class App extends Component{constructor(props){super(props);this.state={ready:false,balance:0};}componentDidMount(){console.log(\"MOUNTED IN APP.JS\");const{shiftCoreStyles}=this.props;shiftCoreStyles(false);}componentDidUpdate(prevProps,prevState){const{shiftCoreStyles,data}=this.props;if(typeof data!==\"undefined\"&&!_.isEmpty(data)&&this.state.balance===0){console.log(\"RAN!\");axios.get(\"\".concat(process.env.REACT_APP_BASE_URL,\"/gather/availiable/stripe/bal\"),{params:{uniqueId:data.uniqueId,accountType:data.accountType}}).then(res=>{if(res.data.message===\"Gathered balance!\"){console.log(\"BALANCE IS...:\",res.data);const{bal}=res.data;if(data.accountType===\"employers\"){this.setState({balance:(bal/100).toFixed(2),ready:true});}else{const{amount}=bal.available[0];this.setState({balance:(amount/100).toFixed(2),ready:true});}}else{console.log(\"err\",res.data);}}).catch(err=>{console.log(err);});}if(prevProps.paneActive===true){shiftCoreStyles(false);}}render(){const{children,paneActive}=this.props;const{ready,balance}=this.state;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Loader,null),/*#__PURE__*/React.createElement(\"div\",{className:paneActive===true?\"page-wrapper compact-wrapper enact-nonclick\":\"page-wrapper compact-wrapper\",id:\"pageWrapper\"},/*#__PURE__*/React.createElement(Header,{ready:ready,balance:balance}),/*#__PURE__*/React.createElement(\"div\",{className:\"page-body-wrapper sidebar-icon\"},/*#__PURE__*/React.createElement(Sidebar,null),/*#__PURE__*/React.createElement(\"div\",{className:\"page-body\"},children),/*#__PURE__*/React.createElement(Footer,null),/*#__PURE__*/React.createElement(ThemeCustomize,null))),/*#__PURE__*/React.createElement(ToastContainer,null));}}const mapStateToProps=state=>{console.log(\"state THE MF JACKPOT! : \",state);// changeGlobalStyles\nreturn{data:state.auth.data,paneActive:_.has(state.changeGlobalStyles,\"paneActive\")?state.changeGlobalStyles.paneActive:false};};export default connect(mapStateToProps,{shiftCoreStyles})(App);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/app.jsx"],"names":["React","Fragment","Component","Loader","Header","Sidebar","Footer","ThemeCustomize","ToastContainer","connect","_","shiftCoreStyles","axios","App","constructor","props","state","ready","balance","componentDidMount","console","log","componentDidUpdate","prevProps","prevState","data","isEmpty","get","process","env","REACT_APP_BASE_URL","params","uniqueId","accountType","then","res","message","bal","setState","toFixed","amount","available","catch","err","paneActive","render","children","mapStateToProps","auth","has","changeGlobalStyles"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from 'react';\nimport Loader from \"../layout/loader\";\nimport Header from '../layout/header'\nimport Sidebar from '../layout/sidebar'\nimport Footer from '../layout/footer'\nimport ThemeCustomize from \"../layout/theme-customizer\";\nimport {ToastContainer} from 'react-toastify';\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport { shiftCoreStyles } from \"../redux/actions/universal/index.js\";\nimport axios from \"axios\";\n\nclass App extends Component {\nconstructor(props) {\n  super(props);\n\n  this.state = {\n    ready: false,\n    balance: 0\n  }\n}\n  componentDidMount() {\n    console.log(\"MOUNTED IN APP.JS\");\n\n    const { shiftCoreStyles } = this.props;\n\n    shiftCoreStyles(false);\n  }\n  componentDidUpdate(prevProps, prevState) {\n    const { shiftCoreStyles, data } = this.props;\n\n    if (typeof data !== \"undefined\" && !_.isEmpty(data) && this.state.balance === 0) {\n      console.log(\"RAN!\");\n\n      axios.get(`${process.env.REACT_APP_BASE_URL}/gather/availiable/stripe/bal`, {\n        params: {\n          uniqueId: data.uniqueId,\n          accountType: data.accountType\n        }\n      }).then((res) => {\n          if (res.data.message === \"Gathered balance!\") {\n              console.log(\"BALANCE IS...:\", res.data);\n  \n              const { bal } = res.data;\n  \n              if (data.accountType === \"employers\") {\n\n                this.setState({\n                  balance: (bal / 100).toFixed(2),\n                  ready: true\n                })\n              } else {\n                const { amount } = bal.available[0];\n\n                this.setState({\n                  balance: (amount / 100).toFixed(2),\n                  ready: true\n                })\n              }\n          } else {\n              console.log(\"err\", res.data);\n          }\n      }).catch((err) => {\n          console.log(err);\n      });\n    }\n\n    if (prevProps.paneActive === true) {\n      shiftCoreStyles(false);\n    }\n  }\n  render () {\n    const { children, paneActive } = this.props;\n    const { ready, balance } = this.state;\n    return (\n      <Fragment>\n        <Loader/>\n        <div className={paneActive === true ? \"page-wrapper compact-wrapper enact-nonclick\" : \"page-wrapper compact-wrapper\"} id=\"pageWrapper\">\n        <Header ready={ready} balance={balance} />\n        <div className=\"page-body-wrapper sidebar-icon\">\n          <Sidebar/>\n          <div className=\"page-body\">\n            {children}\n          </div>\n          <Footer/>\n          <ThemeCustomize/>\n          </div>\n        </div>\n        <ToastContainer/>\n      </Fragment>\n    );\n  }\n}\nconst mapStateToProps = (state) => {\n  console.log(\"state THE MF JACKPOT! : \", state); // changeGlobalStyles\n  return {\n    data: state.auth.data,\n    paneActive: _.has(state.changeGlobalStyles, \"paneActive\") ? state.changeGlobalStyles.paneActive : false\n  }\n}\nexport default connect(mapStateToProps, { shiftCoreStyles })(App);"]},"metadata":{},"sourceType":"module"}