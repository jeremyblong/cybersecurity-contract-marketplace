{"ast":null,"code":"var _jsxFileName = \"/home/kali/Documents/cybersecurity/client/src/components/dashboard/forums/createNewForumPost/createNewForumPost.js\";\nimport React, { Fragment, useState, useEffect, useRef, memo } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { CardBody, CardHeader, Card, Col, Container, Label, Row, Button, Form, InputGroupAddon, Input, InputGroup, FormGroup, InputGroupText } from \"reactstrap\";\nimport \"./styles.css\";\nimport Select from \"react-dropdown-select\";\nimport SimpleMDE from \"react-simplemde-editor\";\nimport { useForm, Controller } from 'react-hook-form';\nimport formHelpers from \"./helpers/reduxFormHelpers/helperReduxForm.js\";\nimport helpers from \"./helpers/helperLogic.js\";\nimport Sheet from 'react-modal-sheet';\nimport LoadingBar from 'react-top-loading-bar';\nconst {\n  CreateACommunityForumRelatedHelper\n} = helpers;\nconst mainDescriptionChecker = formHelpers().mainDescriptionChecker;\n\nconst CreateNewForumPostingHelper = _ref => {\n  let {\n    userData\n  } = _ref;\n  const [selectedGroup, setSelectedGroup] = useState(null);\n  const [paneSheetOpen, openPaneSheet] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [options, setOptions] = useState([]);\n  const {\n    register,\n    handleSubmit,\n    control,\n    reset,\n    getValues,\n    setValue,\n    setError,\n    clearErrors,\n    formState: {\n      errors\n    }\n  } = useForm({\n    mode: \"onTouched\",\n    reValidateMode: \"onBlur\"\n  }); // get form-redux values\n\n  const currentValues = getValues();\n  console.log(\"errors\", errors);\n\n  const customDropdownRenderer = _ref2 => {\n    let {\n      props,\n      state,\n      methods\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"search-and-toggle\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h6\", {\n      className: \"h6-forum-option-header\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 15\n      }\n    }, \"Your Communities\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"items-items\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 13\n      }\n    }, selectedGroup === null ? options.slice(0, 6).map((option, index) => {\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"options-mapped-div\",\n        key: index,\n        onClick: () => {\n          console.log(\"clicked.\");\n          setSelectedGroup(option);\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require(`../../../../assets/icons/reddit-${index + 1}.png`),\n        className: \"community-icon-forum\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 25\n        }\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"option-list-item-wrapper-forum\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 29\n        }\n      }, option.label), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"membercount-forum-option\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 29\n        }\n      }, option.memberCount, \" Member's\")));\n    }) : null, selectedGroup !== null ? /*#__PURE__*/React.createElement(\"h4\", {\n      className: \"selected-forum-option\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 43\n      }\n    }, \"You've Selected The \", /*#__PURE__*/React.createElement(\"strong\", {\n      style: {\n        color: \"#f73164\",\n        textDecorationLine: \"underline\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 101\n      }\n    }, selectedGroup.label), \" community, \", /*#__PURE__*/React.createElement(\"a\", {\n      onClick: () => setSelectedGroup(null),\n      href: null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 213\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      style: {\n        color: \"#7366ff\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 267\n      }\n    }, \"Click here\"), \" to re-select another/different community\")) : null));\n  };\n\n  const renderFormError = (e, errors) => {\n    console.log(\"errrror form logic...:\", e, errors);\n  };\n\n  const handleForumSubmission = (data, other) => {\n    console.log(\"Success!\", data, other);\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LoadingBar, {\n    onLoaderFinished: () => setProgress(0),\n    progress: progress,\n    color: \"#51bb25\",\n    containerClassName: \"loader-container-classname-forum\",\n    height: 9,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Sheet, {\n    draggable: false,\n    isOpen: paneSheetOpen,\n    onClose: () => openPaneSheet(false),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Sheet.Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Sheet.Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      margin: \"12.5px\"\n    },\n    className: \"centered-both-ways\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => openPaneSheet(false),\n    className: \"btn-square-danger\",\n    outline: true,\n    color: \"danger-2x\",\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 29\n    }\n  }, \"Exit/Close This Pane\"))), /*#__PURE__*/React.createElement(Sheet.Content, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(CreateACommunityForumRelatedHelper, {\n    setOptions: setOptions,\n    setProgress: setProgress,\n    openPaneSheet: openPaneSheet,\n    userData: userData,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 25\n    }\n  }))), /*#__PURE__*/React.createElement(Sheet.Backdrop, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: \"12\",\n    md: \"12\",\n    lg: \"12\",\n    xl: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"card-forum-creation\",\n    style: {\n      marginTop: \"50px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"b-l-info b-r-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 33\n    }\n  }, \"Create a new forum post (Must be associated with a \", /*#__PURE__*/React.createElement(\"a\", {\n    className: \"create-forum-post-a\",\n    href: null,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 88\n    }\n  }, \"community\"), \")\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"position-right-create-group-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => openPaneSheet(true),\n    className: \"btn-square-secondary\",\n    color: \"secondary-2x\",\n    outline: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 37\n    }\n  }, \"Create a new community (sub-thread)\")), /*#__PURE__*/React.createElement(Form, {\n    className: \"needs-validation streaming-start-form-wrapper\",\n    noValidate: \"\",\n    onSubmit: handleSubmit(handleForumSubmission, (e, errors) => renderFormError(e, errors)),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    placeholder: \"Search for a related 'community' to post in...\",\n    dropdownRenderer: customDropdownRenderer,\n    options: options,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 37\n    }\n  }), selectedGroup !== null ? /*#__PURE__*/React.createElement(\"h6\", {\n    className: \"selected-forum-option-non-dropdown\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 63\n    }\n  }, \"You've selected to post in the \", /*#__PURE__*/React.createElement(\"strong\", {\n    style: {\n      color: \"#f73164\",\n      textDecorationLine: \"underline\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 145\n    }\n  }, selectedGroup.label), \" community/group!\") : null, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(FormGroup, {\n    className: \" m-form__group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 41\n    }\n  }, \"Post Title\"), /*#__PURE__*/React.createElement(InputGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(InputGroupAddon, {\n    addonType: \"prepend\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(InputGroupText, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 82\n    }\n  }, \"Title\")), /*#__PURE__*/React.createElement(Input, {\n    onChange: () => {},\n    value: currentValues.title,\n    name: \"title\",\n    placeholder: \"Enter your post's title here...\",\n    className: \"form-control\",\n    type: \"text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 45\n    }\n  }))), /*#__PURE__*/React.createElement(Label, {\n    className: \"create-forum-label\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 37\n    }\n  }, mainDescriptionChecker.label), /*#__PURE__*/React.createElement(SimpleMDE, Object.assign({}, mainDescriptionChecker.check(setError, register), {\n    id: \"Ref_container\",\n    onChange: value => mainDescriptionChecker.onChange(value, setValue),\n    value: currentValues.mainDescription,\n    placeholder: mainDescriptionChecker.placeholder,\n    options: {\n      autofocus: true,\n      spellChecker: false\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 37\n    }\n  })), errors.mainDescription ? /*#__PURE__*/React.createElement(\"span\", {\n    className: \"span-tooltip\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 63\n    }\n  }, errors.mainDescription.message) : null, /*#__PURE__*/React.createElement(Row, {\n    style: {\n      marginTop: \"27.5px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: \"12\",\n    md: \"12\",\n    lg: \"12\",\n    xl: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-square-info\",\n    color: \"info-2x\",\n    outline: true,\n    style: {\n      width: \"100%\"\n    },\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 45\n    }\n  }, \"Submit New Form Post Details\"))))))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    userData: state.auth.data\n  };\n};\n\nexport default connect(mapStateToProps, {})(CreateNewForumPostingHelper);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity/client/src/components/dashboard/forums/createNewForumPost/createNewForumPost.js"],"names":["React","Fragment","useState","useEffect","useRef","memo","axios","connect","CardBody","CardHeader","Card","Col","Container","Label","Row","Button","Form","InputGroupAddon","Input","InputGroup","FormGroup","InputGroupText","Select","SimpleMDE","useForm","Controller","formHelpers","helpers","Sheet","LoadingBar","CreateACommunityForumRelatedHelper","mainDescriptionChecker","CreateNewForumPostingHelper","userData","selectedGroup","setSelectedGroup","paneSheetOpen","openPaneSheet","progress","setProgress","options","setOptions","register","handleSubmit","control","reset","getValues","setValue","setError","clearErrors","formState","errors","mode","reValidateMode","currentValues","console","log","customDropdownRenderer","props","state","methods","slice","map","option","index","require","label","memberCount","color","textDecorationLine","renderFormError","e","handleForumSubmission","data","other","margin","width","marginTop","title","check","value","onChange","mainDescription","placeholder","autofocus","spellChecker","message","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect, useRef, memo } from \"react\";\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { CardBody, CardHeader, Card, Col, Container, Label, Row, Button, Form, InputGroupAddon, Input, InputGroup, FormGroup, InputGroupText } from \"reactstrap\";\nimport \"./styles.css\";\nimport Select from \"react-dropdown-select\";\nimport SimpleMDE from \"react-simplemde-editor\";\nimport { useForm, Controller } from 'react-hook-form';\nimport formHelpers from \"./helpers/reduxFormHelpers/helperReduxForm.js\";\nimport helpers from \"./helpers/helperLogic.js\";\nimport Sheet from 'react-modal-sheet';\nimport LoadingBar from 'react-top-loading-bar'\n\nconst { CreateACommunityForumRelatedHelper } = helpers;\n\nconst mainDescriptionChecker = formHelpers().mainDescriptionChecker;\n\nconst CreateNewForumPostingHelper = ({ userData }) => {\n\n    const [ selectedGroup, setSelectedGroup ] = useState(null);\n    const [ paneSheetOpen, openPaneSheet ] = useState(false);\n    const [ progress, setProgress ] = useState(0);\n    const [ options, setOptions ] = useState([]);\n\n    const { register, handleSubmit, control, reset, getValues, setValue, setError, clearErrors, formState: { errors }} = useForm({\n        mode: \"onTouched\",\n        reValidateMode: \"onBlur\"\n    });\n\n    // get form-redux values\n    const currentValues = getValues();\n\n    console.log(\"errors\", errors);\n\n    const customDropdownRenderer = ({ props, state, methods }) => {\n        return (\n          <div>\n            <div className=\"search-and-toggle\">\n              <h6 className=\"h6-forum-option-header\">Your Communities</h6>\n            </div>\n            <div className=\"items-items\">\n              {selectedGroup === null ? options.slice(0, 6).map((option, index) => {\n                  return (\n                    <div\n                        className={\"options-mapped-div\"}\n                        key={index}\n                        onClick={() => {\n                            console.log(\"clicked.\");\n\n                            setSelectedGroup(option);\n                        }}>\n                        <img src={require(`../../../../assets/icons/reddit-${index + 1}.png`)} className={\"community-icon-forum\"} />\n                        <div className=\"option-list-item-wrapper-forum\">\n                            <h5>{option.label}</h5>\n                            <p className=\"membercount-forum-option\">{option.memberCount} Member's</p>\n                        </div>\n                    </div>\n                  );\n                }) : null}\n                {selectedGroup !== null ? <h4 className=\"selected-forum-option\">You've Selected The <strong style={{ color: \"#f73164\", textDecorationLine: \"underline\" }}>{selectedGroup.label}</strong> community, <a onClick={() => setSelectedGroup(null)} href={null}><strong style={{ color: \"#7366ff\" }}>Click here</strong> to re-select another/different community</a></h4> : null}\n            </div>\n          </div>\n        );\n    };\n    const renderFormError = (e, errors) => {\n        console.log(\"errrror form logic...:\", e, errors);\n    }\n    const handleForumSubmission = (data, other) => {\n        console.log(\"Success!\", data, other);\n    }\n    return (\n        <Fragment>\n            <LoadingBar onLoaderFinished={() => setProgress(0)} progress={progress} color={\"#51bb25\"} containerClassName={\"loader-container-classname-forum\"} height={9} />\n            <Sheet draggable={false} isOpen={paneSheetOpen} onClose={() => openPaneSheet(false)}>\n                <Sheet.Container>\n                    <Sheet.Header>\n                        <div style={{ margin: \"12.5px\" }} className=\"centered-both-ways\">\n                            <Button onClick={() => openPaneSheet(false)} className={\"btn-square-danger\"} outline color={\"danger-2x\"} style={{ width: \"100%\" }}>Exit/Close This Pane</Button>\n                        </div>\n                    </Sheet.Header>\n                    <Sheet.Content>\n                        <CreateACommunityForumRelatedHelper setOptions={setOptions} setProgress={setProgress} openPaneSheet={openPaneSheet} userData={userData} />\n                    </Sheet.Content>\n                    </Sheet.Container>\n                <Sheet.Backdrop />\n            </Sheet>\n            <Container fluid={true}>\n                <Row>\n                    <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                        <Card className=\"card-forum-creation\" style={{ marginTop: \"50px\" }}>\n                            <CardHeader className=\"b-l-info b-r-info\">\n                                <h3>Create a new forum post (Must be associated with a <a className=\"create-forum-post-a\" href={null}>community</a>)</h3>\n                            </CardHeader>\n                            <CardBody>\n                                <div className=\"position-right-create-group-btn\">\n                                    <Button onClick={() => openPaneSheet(true)} className={\"btn-square-secondary\"} color={\"secondary-2x\"} outline>Create a new community (sub-thread)</Button>\n                                </div>\n                                <Form className=\"needs-validation streaming-start-form-wrapper\" noValidate=\"\" onSubmit={handleSubmit(handleForumSubmission, (e, errors) => renderFormError(e, errors))}>\n                                    <Select placeholder={\"Search for a related 'community' to post in...\"} dropdownRenderer={customDropdownRenderer} options={options} />\n                                    {selectedGroup !== null ? <h6 className=\"selected-forum-option-non-dropdown\">You've selected to post in the <strong style={{ color: \"#f73164\", textDecorationLine: \"underline\" }}>{selectedGroup.label}</strong> community/group!</h6> : null}\n                                    <hr />\n                                    <FormGroup className=\" m-form__group\">\n                                        <Label>Post Title</Label>\n                                        <InputGroup>\n                                            <InputGroupAddon addonType=\"prepend\"><InputGroupText>{\"Title\"}</InputGroupText></InputGroupAddon>\n                                            <Input onChange={() => {}} value={currentValues.title} name={\"title\"} placeholder={\"Enter your post's title here...\"} className=\"form-control\" type=\"text\" />\n                                        </InputGroup>\n                                    </FormGroup>\n                                    <Label className=\"create-forum-label\">{mainDescriptionChecker.label}</Label>\n                                    <SimpleMDE\n                                        {...mainDescriptionChecker.check(setError, register)} \n                                        id=\"Ref_container\"\n                                        onChange={(value) => mainDescriptionChecker.onChange(value, setValue)}\n                                        value={currentValues.mainDescription}\n                                        placeholder={mainDescriptionChecker.placeholder} \n                                        options={{\n                                            autofocus: true,\n                                            spellChecker: false\n                                        }}\n                                    />\n                                    {errors.mainDescription ? <span className=\"span-tooltip\">{errors.mainDescription.message}</span> : null}\n                                    <Row style={{ marginTop: \"27.5px\" }}>\n                                        <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                                            <Button className={\"btn-square-info\"} color={\"info-2x\"} outline style={{ width: \"100%\" }} type={\"submit\"}>Submit New Form Post Details</Button>\n                                        </Col>\n                                    </Row>\n                                </Form>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n        </Fragment>\n    );\n}\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data\n    }\n}\nexport default connect(mapStateToProps, {  })(CreateNewForumPostingHelper); "]},"metadata":{},"sourceType":"module"}