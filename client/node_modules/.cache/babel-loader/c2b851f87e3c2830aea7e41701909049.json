{"ast":null,"code":"import React,{Fragment,useState,useEffect}from'react';import{Card,Badge,Row,Col,TabContent,TabPane,Nav,NavItem,NavLink,CardBody,Button,Media,InputGroup,InputGroupAddon,Input,InputGroupText}from'reactstrap';import\"./styles.css\";import{Picker}from'emoji-mart';import PaginationEmployerListingHelper from\"../../../../universal/pagination/paginationHelper.js\";import{withRouter}from\"react-router-dom\";import{connect}from\"react-redux\";import axios from\"axios\";import helpers from\"./helpers/helperFunctions.js\";import moment from'moment';const{renderSignedinUserPicVideo,addNewComment,renderPicVideoComment,RenderModalSheetAddComment,ForumCommentAddHashtagsOptionHelper}=helpers;const itemsPerPage=10;const CustomTabsetBottomListingAuctionHelper=_ref=>{let{poster,setOpenState,id,userData,isOpen}=_ref;const[activeTab,setActiveTab]=useState('1');const[showEmojiPicker,setShowEmojiPicker]=useState(false);const[commentText,setCommentText]=useState(\"\");const[currentPage,setCurrentPage]=useState(0);const[pageCount,setPageCount]=useState(0);const[itemOffset,setItemOffset]=useState(0);const[permenantData,setPermenantDataState]=useState([]);const[comments,setComments]=useState([]);const[hashtags,setHashtags]=useState([]);const[ready,setReady]=useState(false);const[selectedComment,setSelectedComment]=useState(null);useEffect(()=>{const endOffset=itemOffset+itemsPerPage;setPageCount(Math.ceil(permenantData.length/itemsPerPage));setComments(permenantData.slice(itemOffset,endOffset));},[itemOffset,itemsPerPage]);useEffect(()=>{const configuration={params:{subthreadID:id,subthreadPosterID:poster}};axios.get(\"\".concat(process.env.REACT_APP_BASE_URL,\"/gather/forum/comments/subthread/individual\"),configuration).then(res=>{if(res.data.message===\"Successfully gathered subthread comments!\"){console.log(res.data);const{comments}=res.data;setPageCount(Math.ceil(comments.length/itemsPerPage));const endOffset=itemOffset+itemsPerPage;setPermenantDataState(comments);setComments(comments.slice(itemOffset,endOffset));setReady(true);}else{console.log(\"errr inside...:\",res.data);}}).catch(err=>{console.log(err);});},[]);const replyToCommentSub=comment=>{setSelectedComment(comment);setOpenState(true);};const addEmoji=emoji=>{setCommentText(prevState=>\"\".concat(prevState).concat(emoji.native));setShowEmojiPicker(false);};console.log(\"commentText\",commentText,isOpen);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(RenderModalSheetAddComment,{id:id,poster:poster,itemOffset:itemOffset,setComments:setComments,setPermenantDataState:setPermenantDataState,selectedComment:selectedComment,setSelectedComment:setSelectedComment,userData:userData,isOpen:isOpen,setOpenState:setOpenState}),/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(Row,{className:\"product-page-main m-0\"},/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(Nav,{tabs:true,className:\"border-tab\"},/*#__PURE__*/React.createElement(NavItem,{id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{href:null,className:activeTab==='1'?'active':''},\"Comments/Reply's\"),/*#__PURE__*/React.createElement(\"div\",{className:\"material-border\"}))),/*#__PURE__*/React.createElement(TabContent,{activeTab:activeTab},/*#__PURE__*/React.createElement(TabPane,{tabId:\"1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"timeline-content\"},/*#__PURE__*/React.createElement(\"div\",{className:\"like-content\"},/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-heart font-danger\"})),/*#__PURE__*/React.createElement(\"span\",{className:\"pull-right comment-number\"},/*#__PURE__*/React.createElement(\"span\",null,\"20\",\" \"),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-share-alt mr-0\"}))),/*#__PURE__*/React.createElement(\"span\",{className:\"pull-right comment-number\"},/*#__PURE__*/React.createElement(\"span\",null,\"10\",\" \"),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-comments-o\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"comments-box\"},/*#__PURE__*/React.createElement(Media,null,renderSignedinUserPicVideo(userData.profilePicsVideos[userData.profilePicsVideos.length-1]),/*#__PURE__*/React.createElement(Media,{body:true},/*#__PURE__*/React.createElement(InputGroup,{className:\"text-box\"},/*#__PURE__*/React.createElement(Input,{className:\"form-control custom-css-additions-input-response input-txt-bx\",type:\"text\",name:\"message-to-send\",placeholder:\"Post Your Comment(s) - Enter at least 25 characters...\",onChange:e=>setCommentText(e.target.value),value:commentText}),typeof commentText!==\"undefined\"&&commentText.length>=25?/*#__PURE__*/React.createElement(InputGroupAddon,{className:\"input-group-forum-addon-custom\",addonType:\"append\"},/*#__PURE__*/React.createElement(Button,{color:\"info-2x\",outline:true,className:\"btn-square-info\",onClick:()=>addNewComment(commentText,setCommentText,id,setComments,poster,userData,hashtags,setHashtags)},\"Submit\")):/*#__PURE__*/React.createElement(InputGroupAddon,{className:\"input-group-forum-addon-custom\",addonType:\"append\"},/*#__PURE__*/React.createElement(InputGroupText,null,25-commentText.length>0?\"\".concat(25-commentText.length,\" Min Char Left\"):\"Successful Entry!\")),/*#__PURE__*/React.createElement(InputGroupAddon,{addonType:\"append\"},/*#__PURE__*/React.createElement(Button,{color:\"transparent\"},/*#__PURE__*/React.createElement(\"i\",{onClick:()=>setShowEmojiPicker(!showEmojiPicker),className:\"fa fa-smile-o fa-2x restyle-emoji-activator-icon\",\"aria-hidden\":\"true\"}),showEmojiPicker===true?/*#__PURE__*/React.createElement(Picker,{style:{position:\"absolute\",right:\"40px\",top:\"-375px\"},set:\"apple\",emojiSize:30,onSelect:addEmoji}):null))),/*#__PURE__*/React.createElement(\"div\",{className:\"hashtag-forum-wrapper\"},/*#__PURE__*/React.createElement(ForumCommentAddHashtagsOptionHelper,{hashtags:hashtags,setHashtags:setHashtags})),/*#__PURE__*/React.createElement(\"hr\",null)))),/*#__PURE__*/React.createElement(\"div\",{className:\"social-chat\"},typeof comments!==\"undefined\"&&comments.length>0?comments.map((comment,index)=>{console.log(\"comment\",comment);return/*#__PURE__*/React.createElement(Fragment,{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"your-msg\"},/*#__PURE__*/React.createElement(Media,null,renderPicVideoComment(comment.posterPicOrVideo),/*#__PURE__*/React.createElement(Media,{className:\"shadowy-msg\",body:true},/*#__PURE__*/React.createElement(\"span\",{className:\"f-w-600\"},comment.posterName,\" \",/*#__PURE__*/React.createElement(\"span\",null,moment(comment.date).fromNow(),\" \",/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-reply font-primary hover-reply-forum-comment\",onClick:()=>replyToCommentSub(comment)}))),/*#__PURE__*/React.createElement(\"p\",null,comment.commentText),typeof comment.hashtags!==\"undefined\"&&comment.hashtags.length>0?/*#__PURE__*/React.createElement(\"hr\",null):null,typeof comment.hashtags!==\"undefined\"&&comment.hashtags.length>0?comment.hashtags.map((hashtag,idxxxx)=>{return/*#__PURE__*/React.createElement(Fragment,{key:idxxxx},/*#__PURE__*/React.createElement(Badge,{color:\"info tag-pills-sm-mb\"},hashtag.text));}):null))),typeof comment.subComments!==\"undefined\"&&comment.subComments.length>0?comment.subComments.map((subcomment,idx)=>{return/*#__PURE__*/React.createElement(Fragment,{key:idx},/*#__PURE__*/React.createElement(\"div\",{className:\"other-msg\"},/*#__PURE__*/React.createElement(Media,null,renderPicVideoComment(subcomment.posterPicOrVideo),/*#__PURE__*/React.createElement(Media,{className:\"shadowy-msg\",body:true},/*#__PURE__*/React.createElement(\"span\",{className:\"f-w-600\"},subcomment.posterName,\" \",/*#__PURE__*/React.createElement(\"span\",null,moment(subcomment.date).fromNow(),\" \")),/*#__PURE__*/React.createElement(\"p\",null,subcomment.commentText,\" \"),typeof subcomment.hashtags!==\"undefined\"&&subcomment.hashtags.length>0?/*#__PURE__*/React.createElement(\"hr\",null):null,typeof subcomment.hashtags!==\"undefined\"&&subcomment.hashtags.length>0?subcomment.hashtags.map((hashtag,idxxxx)=>{return/*#__PURE__*/React.createElement(Fragment,{key:idxxxx},/*#__PURE__*/React.createElement(Badge,{color:\"info tag-pills-sm-mb\"},hashtag.text));}):null))));}):null);}):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"no-comments-yet-wrapper-forum\"},/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../../assets/images/no-comments.png\"),className:\"forum-no-comments-img\"}))),/*#__PURE__*/React.createElement(Row,{style:{marginTop:\"50px\",marginBottom:\"75px\"}},/*#__PURE__*/React.createElement(\"div\",{className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(PaginationEmployerListingHelper,{itemsPerPage:itemsPerPage,setItemOffset:setItemOffset,loopingData:permenantData,setPageCount:setPageCount,pageCount:pageCount,currentPage:currentPage,setCurrentPage:setCurrentPage})))))))))));};const mapStateToProps=state=>{return{userData:state.auth.data};};export default connect(mapStateToProps,{})(withRouter(CustomTabsetBottomListingAuctionHelper));","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/forums/individualForum/helpers/bottomTabbed/bottomTabbedHelper.js"],"names":["React","Fragment","useState","useEffect","Card","Badge","Row","Col","TabContent","TabPane","Nav","NavItem","NavLink","CardBody","Button","Media","InputGroup","InputGroupAddon","Input","InputGroupText","Picker","PaginationEmployerListingHelper","withRouter","connect","axios","helpers","moment","renderSignedinUserPicVideo","addNewComment","renderPicVideoComment","RenderModalSheetAddComment","ForumCommentAddHashtagsOptionHelper","itemsPerPage","CustomTabsetBottomListingAuctionHelper","poster","setOpenState","id","userData","isOpen","activeTab","setActiveTab","showEmojiPicker","setShowEmojiPicker","commentText","setCommentText","currentPage","setCurrentPage","pageCount","setPageCount","itemOffset","setItemOffset","permenantData","setPermenantDataState","comments","setComments","hashtags","setHashtags","ready","setReady","selectedComment","setSelectedComment","endOffset","Math","ceil","length","slice","configuration","params","subthreadID","subthreadPosterID","get","process","env","REACT_APP_BASE_URL","then","res","data","message","console","log","catch","err","replyToCommentSub","comment","addEmoji","emoji","prevState","native","profilePicsVideos","e","target","value","position","right","top","map","index","posterPicOrVideo","posterName","date","fromNow","hashtag","idxxxx","text","subComments","subcomment","idx","require","marginTop","marginBottom","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport { Card, Badge, Row, Col, TabContent, TabPane, Nav, NavItem, NavLink, CardBody,Button,Media,InputGroup, InputGroupAddon,Input, InputGroupText } from 'reactstrap';\nimport \"./styles.css\";\nimport { Picker } from 'emoji-mart';\nimport PaginationEmployerListingHelper from \"../../../../universal/pagination/paginationHelper.js\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport axios from \"axios\";\nimport helpers from \"./helpers/helperFunctions.js\";\nimport moment from 'moment';\n\nconst { renderSignedinUserPicVideo, addNewComment, renderPicVideoComment, RenderModalSheetAddComment, ForumCommentAddHashtagsOptionHelper } = helpers;\n\nconst itemsPerPage = 10;\n\nconst CustomTabsetBottomListingAuctionHelper = ({ poster, setOpenState, id, userData, isOpen }) => {\n    const [ activeTab, setActiveTab ] = useState('1');\n    const [ showEmojiPicker, setShowEmojiPicker ] = useState(false);\n    const [ commentText, setCommentText ] = useState(\"\");\n    const [ currentPage, setCurrentPage ] = useState(0);\n    const [ pageCount, setPageCount ] = useState(0);\n    const [ itemOffset, setItemOffset ] = useState(0);\n    const [ permenantData, setPermenantDataState ] = useState([]);\n    const [ comments, setComments ] = useState([]);\n    const [ hashtags, setHashtags ] = useState([]);\n    const [ ready, setReady ] = useState(false);\n    const [ selectedComment, setSelectedComment ] = useState(null);\n\n    useEffect(() => {\n\n        const endOffset = itemOffset + itemsPerPage;\n\n        setPageCount(Math.ceil(permenantData.length / itemsPerPage));\n\n        setComments(permenantData.slice(itemOffset, endOffset));\n        \n    }, [itemOffset, itemsPerPage]);\n\n    useEffect(() => {\n        const configuration = {\n            params: {\n                subthreadID: id, \n                subthreadPosterID: poster\n            }\n        }\n        axios.get(`${process.env.REACT_APP_BASE_URL}/gather/forum/comments/subthread/individual`, configuration).then((res) => {\n            if (res.data.message === \"Successfully gathered subthread comments!\") {\n                console.log(res.data);\n\n                const { comments } = res.data;\n\n                setPageCount(Math.ceil(comments.length / itemsPerPage));\n\n                const endOffset = itemOffset + itemsPerPage;\n\n                setPermenantDataState(comments);\n                setComments(comments.slice(itemOffset, endOffset));\n                setReady(true);\n            } else {\n                console.log(\"errr inside...:\", res.data);\n            }\n        }).catch((err) => {\n            console.log(err);\n        })\n    }, [])\n\n    const replyToCommentSub = (comment) => {\n\n        setSelectedComment(comment);\n\n        setOpenState(true);\n    }\n    const addEmoji = (emoji) => {\n        setCommentText(prevState => `${prevState}${emoji.native}`);\n        setShowEmojiPicker(false);\n    }\n    console.log(\"commentText\", commentText, isOpen);\n    return (\n        <Fragment>\n            <RenderModalSheetAddComment id={id} poster={poster} itemOffset={itemOffset} setComments={setComments} setPermenantDataState={setPermenantDataState} selectedComment={selectedComment} setSelectedComment={setSelectedComment} userData={userData} isOpen={isOpen} setOpenState={setOpenState} />\n            <Card>\n                <Row className=\"product-page-main m-0\">\n                    <Col sm=\"12\">\n                    <Nav tabs className=\"border-tab\">\n                        <NavItem  id=\"myTab\" role=\"tablist\">\n                            <NavLink href={null} className={activeTab === '1' ? 'active' : ''}>\n                               {\"Comments/Reply's\"}\n                            </NavLink>\n                            <div className=\"material-border\"></div>\n                        </NavItem>\n                    </Nav>\n                    <TabContent activeTab={activeTab}>\n                        <TabPane tabId=\"1\">\n                            <div className='timeline-content'>\n                                <div className=\"like-content\"><span><i className=\"fa fa-heart font-danger\"></i></span><span className=\"pull-right comment-number\"><span>{\"20\"} </span><span><i className=\"fa fa-share-alt mr-0\"></i></span></span><span className=\"pull-right comment-number\"><span>{\"10\"} </span><span><i className=\"fa fa-comments-o\"></i></span></span></div>\n                                <div className=\"comments-box\">\n                                    <Media>\n                                        {renderSignedinUserPicVideo(userData.profilePicsVideos[userData.profilePicsVideos.length - 1])}\n                                        <Media body>\n                                            <InputGroup className=\"text-box\">\n                                                <Input className=\"form-control custom-css-additions-input-response input-txt-bx\" type=\"text\" name=\"message-to-send\" placeholder=\"Post Your Comment(s) - Enter at least 25 characters...\" onChange={(e) => setCommentText(e.target.value)} value={commentText} />\n                                                {typeof commentText !== \"undefined\" && commentText.length >= 25 ? <InputGroupAddon className='input-group-forum-addon-custom' addonType=\"append\">\n                                                    <Button color='info-2x' outline className='btn-square-info' onClick={() => addNewComment(commentText, setCommentText, id, setComments, poster, userData, hashtags, setHashtags)}>Submit</Button>\n                                                </InputGroupAddon> : <InputGroupAddon className='input-group-forum-addon-custom' addonType=\"append\">\n                                                    <InputGroupText>{25 - commentText.length > 0 ? `${25 - commentText.length} Min Char Left` : \"Successful Entry!\"}</InputGroupText>\n                                                </InputGroupAddon>}\n                                                <InputGroupAddon addonType=\"append\">\n                                                    <Button color=\"transparent\"><i onClick={() => setShowEmojiPicker(!showEmojiPicker)} className=\"fa fa-smile-o fa-2x restyle-emoji-activator-icon\" aria-hidden=\"true\"></i>\n                                                    {showEmojiPicker === true ? (\n                                                            <Picker style={{ position: \"absolute\", right: \"40px\", top: \"-375px\" }} set=\"apple\" emojiSize={30} onSelect={addEmoji} />\n                                                    ) : null}\n                                                    </Button>\n                                                </InputGroupAddon>\n                                            </InputGroup>\n                                            <div className='hashtag-forum-wrapper'>\n                                                <ForumCommentAddHashtagsOptionHelper hashtags={hashtags} setHashtags={setHashtags} />\n                                            </div>\n                                            <hr />\n                                        </Media>\n                                    </Media>\n                                </div>\n                                <div className=\"social-chat\">\n                                    {typeof comments !== \"undefined\" && comments.length > 0 ? comments.map((comment, index) => {\n                                        console.log(\"comment\", comment);\n                                        return (\n                                            <Fragment key={index}>\n                                                <div className=\"your-msg\">\n                                                    <Media>\n                                                        {renderPicVideoComment(comment.posterPicOrVideo)}\n                                                        <Media className='shadowy-msg' body><span className=\"f-w-600\">{comment.posterName} <span>{moment(comment.date).fromNow()} <i className=\"fa fa-reply font-primary hover-reply-forum-comment\" onClick={() => replyToCommentSub(comment)}></i></span></span>\n                                                            <p>{comment.commentText}</p>\n                                                            {typeof comment.hashtags !== \"undefined\" && comment.hashtags.length > 0 ? <hr /> : null}\n                                                            {typeof comment.hashtags !== \"undefined\" && comment.hashtags.length > 0 ? comment.hashtags.map((hashtag, idxxxx) => {\n                                                                return (\n                                                                    <Fragment key={idxxxx}>\n                                                                        <Badge color=\"info tag-pills-sm-mb\">{hashtag.text}</Badge>\n                                                                    </Fragment>\n                                                                );\n                                                            }) : null}\n                                                        </Media>\n                                                    </Media>\n                                                </div>\n                                                {typeof comment.subComments !== \"undefined\" && comment.subComments.length > 0 ? comment.subComments.map((subcomment, idx) => {\n                                                    return (\n                                                        <Fragment key={idx}>\n                                                            <div className=\"other-msg\">\n                                                                <Media>\n                                                                    {renderPicVideoComment(subcomment.posterPicOrVideo)}\n                                                                    <Media className='shadowy-msg' body><span className=\"f-w-600\">{subcomment.posterName} <span>{moment(subcomment.date).fromNow()} </span></span>\n                                                                        <p>{subcomment.commentText} </p>\n                                                                        {typeof subcomment.hashtags !== \"undefined\" && subcomment.hashtags.length > 0 ? <hr /> : null}\n                                                                        {typeof subcomment.hashtags !== \"undefined\" && subcomment.hashtags.length > 0 ? subcomment.hashtags.map((hashtag, idxxxx) => {\n                                                                            return (\n                                                                                <Fragment key={idxxxx}>\n                                                                                    <Badge color=\"info tag-pills-sm-mb\">{hashtag.text}</Badge>\n                                                                                </Fragment>\n                                                                            );\n                                                                        }) : null}\n                                                                    </Media>\n                                                                </Media>\n                                                            </div>\n                                                        </Fragment>\n                                                    );\n                                                }) : null}\n                                            </Fragment>\n                                        );\n                                    }) : <Fragment>\n                                        <div className='no-comments-yet-wrapper-forum'>\n                                            <img src={require(\"../../../../../../assets/images/no-comments.png\")} className={\"forum-no-comments-img\"} />\n                                        </div>\n                                    </Fragment>}\n                                    <Row style={{ marginTop: \"50px\", marginBottom: \"75px\" }}>\n                                        <div className=\"centered-both-ways\">\n                                            <PaginationEmployerListingHelper itemsPerPage={itemsPerPage} setItemOffset={setItemOffset} loopingData={permenantData} setPageCount={setPageCount} pageCount={pageCount} currentPage={currentPage} setCurrentPage={setCurrentPage} />\n                                        </div>\n                                    </Row>\n                                </div>\n                            </div>\n                        </TabPane>\n                    </TabContent>\n                    </Col>\n                </Row>\n            </Card>\n        </Fragment>\n    );\n}\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data\n    }\n}\nexport default connect(mapStateToProps, {})(withRouter(CustomTabsetBottomListingAuctionHelper));"]},"metadata":{},"sourceType":"module"}