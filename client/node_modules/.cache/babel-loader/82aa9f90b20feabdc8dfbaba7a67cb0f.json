{"ast":null,"code":"var _jsxFileName = \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/pages/forgot-password.js\";\nimport React, { Fragment, useState, useEffect } from 'react';\nimport Navbar from '../components/_App/Navbar';\nimport PageBanner from '../components/Common/PageBanner';\nimport Footer from '../components/_App/Footer';\nimport { Link } from 'react-router-dom';\nimport axios from \"axios\";\nimport { NotificationManager } from \"react-notifications\";\n\nconst ForgotPassword = () => {\n  const [providedEmail, setProvidedEmail] = useState(\"\");\n  const [returnedCode, setReturnedCode] = useState(null);\n  const [page, setPage] = useState(1);\n  const [seconds, setSeconds] = useState(0);\n  const [timerReady, setTimerReadiness] = useState(false);\n  const [code, setCode] = useState(\"\");\n\n  const submitPasswordRecoveryAttemptEmail = e => {\n    e.preventDefault();\n    console.log(\"submitPasswordRecoveryAttemptEmail clicked/ran..!\");\n\n    const validateEmail = email => {\n      return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n    };\n\n    if (validateEmail(providedEmail)) {\n      const configgg = {\n        providedEmail\n      };\n      axios.post(\"\".concat(process.env.REACT_APP_BASE_URL, \"/send/email/password/recovery/attempt\"), configgg).then(res => {\n        if (res.data.message === \"Successfully sent recovery email with code!\") {\n          console.log(\"Code matches!\", res.data);\n          const {\n            code\n          } = res.data;\n          NotificationManager.success('Successfully sent code to the email provided - please check your email and enter the provided code to gain access back to your account...', 'Successfully sent recovery email!', 4750);\n          setReturnedCode(code);\n          setPage(2);\n        } else {\n          console.log(\"err with code!\", res.data);\n          NotificationManager.warning(\"An error occurred while attempting to send the 'recovery email' and the request cannot be made properly, please try again or contact support if the problem persists!\", \"Could NOT send recovery email/code!\", 4750);\n        }\n      }).catch(errorCode => {\n        console.log(\"errorCode\", errorCode);\n        NotificationManager.warning(\"An error occurred while attempting to send the 'recovery email' and the request cannot be made properly, please try again or contact support if the problem persists!\", \"Could NOT send recovery email/code!\", 4750);\n      });\n    } else {\n      NotificationManager.warning(\"Please enter a proper/valid email before attempting to recover your account, the email provided seems to be incorrect or incomplete!\", \"Email doesn't appear to be in the correct format!\", 4750);\n    }\n  };\n\n  const handleCodeSubmission = e => {\n    e.preventDefault();\n    console.log(\"handleCodeSubmission clicked/ran..!\");\n\n    if (typeof code !== \"undefined\" && code.length >= 12) {\n      const configgg = {\n        code,\n        returnedCode\n      };\n      axios.post(\"\".concat(process.env.REACT_APP_BASE_URL, \"/check/code/recovery/password/reset\"), configgg).then(res => {\n        if (res.data.message === \"Successfully matched both codes!\") {\n          console.log(\"Code matches!\", res.data);\n          NotificationManager.success('Successfully recovered your account - you may now set your password! Please change your password & do NOT share it with ANYONE ever!', 'Code matches, successful account recovery! Enter a new password..', 4750);\n        } else if (res.data.message === \"Code does NOT match!\") {\n          console.log(\"err with code!\", res.data);\n          NotificationManager.warning(\"The code you've provided does NOT match our records, please try again with a correct code (case sensitive) or contact support if the problem persists!\", \"The code you entered does NOT match our records..\", 4750);\n        } else {\n          NotificationManager.warning(\"There was an error processing your request, please try again or contact support if the problem persists!\", \"An unknown error has occurred while processing your request!\", 4750);\n        }\n      }).catch(errorCode => {\n        console.log(\"errorCode\", errorCode);\n        NotificationManager.warning(\"There was an error processing your request, please try again or contact support if the problem persists!\", \"An unknown error has occurred while processing your request!\", 4750);\n      });\n    } else {\n      NotificationManager.warning(\"There was an error processing your request, please try again or contact support if the problem persists!\", \"An unknown error has occurred while processing your request!\", 4750);\n    }\n  };\n\n  useEffect(() => {\n    let myInterval = setInterval(() => {\n      if (seconds > 0) {\n        setSeconds(prevState => prevState - 1);\n      }\n\n      if (seconds === 0) {\n        clearInterval(myInterval);\n      }\n    }, 1000);\n    return () => {\n      clearInterval(myInterval);\n    };\n  });\n\n  const renderPageContent = () => {\n    if (page === 1) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: submitPasswordRecoveryAttemptEmail,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        value: providedEmail,\n        onChange: e => setProvidedEmail(e.target.value),\n        className: \"form-control\",\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Enter Email Address\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 37\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6 col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/sign-in\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"now-log-in font-q\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 37\n        }\n      }, \"Sign In your account\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6 col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"now-register\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 33\n        }\n      }, \"Not a member?\", /*#__PURE__*/React.createElement(Link, {\n        to: \"/sign-up\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"font-q\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 57\n        }\n      }, \"Sign Up\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"default-btn btn-two\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 33\n        }\n      }, \"Reset Password\")))));\n    } else {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: handleCodeSubmission,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        value: code,\n        onChange: e => setCode(e.target.value),\n        className: \"form-control\",\n        type: \"text\",\n        name: \"name\",\n        placeholder: \"Enter the 'recovery code' that was emailed to you..\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 37\n        }\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6 col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Link, {\n        to: \"/sign-in\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"now-log-in font-q\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 37\n        }\n      }, \"Sign In your account\"))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-lg-6 col-sm-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        className: \"now-register\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 33\n        }\n      }, \"Not a member?\", /*#__PURE__*/React.createElement(Link, {\n        to: \"/sign-up\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        className: \"font-q\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 57\n        }\n      }, \"Sign Up\")))), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: \"default-btn btn-two\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 33\n        }\n      }, \"Submit Recovery Code!\")))));\n    }\n  };\n\n  const timerHelper = () => {\n    if (seconds === 0) {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        onClick: () => setSeconds(30),\n        style: {\n          color: \"red\",\n          textDecorationLine: \"underline\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 16\n        }\n      }, \"resending the recovery code\");\n    } else {\n      return /*#__PURE__*/React.createElement(\"a\", {\n        style: {\n          color: \"red\",\n          textDecorationLine: \"underline\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 16\n        }\n      }, seconds, \" seconds until 'next-send' availability\");\n    }\n  };\n\n  const calculateDisplayText = () => {\n    if (page === 1) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        className: \"reset-desc\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 20\n        }\n      }, \"Enter the email of your account to reset the password. Then you will receive a link to email to reset the password. If you have any issue about reset password \", /*#__PURE__*/React.createElement(Link, {\n        to: \"/contact\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 205\n        }\n      }, /*#__PURE__*/React.createElement(\"a\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 225\n        }\n      }, \"contact us.\")));\n    } else if (page === 2) {\n      return /*#__PURE__*/React.createElement(\"p\", {\n        className: \"reset-desc\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 20\n        }\n      }, \"Please enter the \", /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 63\n        }\n      }, \"recovery code (CASE SENSITIVE)\"), \" that was emailed to you a second ago, if you did NOT recieve this code ~ try \", timerHelper());\n    } else {\n      return null;\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Navbar, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PageBanner, {\n    pageTitle: \"Forgot Password\",\n    homePageUrl: \"/\",\n    homePageText: \"Home\",\n    activePageText: \"Forgot Password\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-area-all-style recover-password-area ptb-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"contact-form-action\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-heading text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"form-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 29\n    }\n  }, \"Reset Password!\"), calculateDisplayText()), renderPageContent()))), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 13\n    }\n  }));\n};\n\nexport default ForgotPassword;","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/pages/forgot-password.js"],"names":["React","Fragment","useState","useEffect","Navbar","PageBanner","Footer","Link","axios","NotificationManager","ForgotPassword","providedEmail","setProvidedEmail","returnedCode","setReturnedCode","page","setPage","seconds","setSeconds","timerReady","setTimerReadiness","code","setCode","submitPasswordRecoveryAttemptEmail","e","preventDefault","console","log","validateEmail","email","String","toLowerCase","match","configgg","post","process","env","REACT_APP_BASE_URL","then","res","data","message","success","warning","catch","errorCode","handleCodeSubmission","length","myInterval","setInterval","prevState","clearInterval","renderPageContent","target","value","timerHelper","color","textDecorationLine","calculateDisplayText"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport Navbar from '../components/_App/Navbar';\nimport PageBanner from '../components/Common/PageBanner';\nimport Footer from '../components/_App/Footer';\nimport {Link} from 'react-router-dom'; \nimport axios from \"axios\";\nimport { NotificationManager } from \"react-notifications\";\n\n\nconst ForgotPassword = () => {\n\n\n    const [ providedEmail, setProvidedEmail ] = useState(\"\");\n    const [ returnedCode, setReturnedCode ] = useState(null);\n    const [ page, setPage ] = useState(1);\n    const [ seconds, setSeconds ] =  useState(0);\n    const [ timerReady, setTimerReadiness ] = useState(false);\n    const [ code, setCode ] = useState(\"\");\n\n\n    const submitPasswordRecoveryAttemptEmail = (e) => {\n        e.preventDefault();\n\n        console.log(\"submitPasswordRecoveryAttemptEmail clicked/ran..!\");\n\n        const validateEmail = (email) => {\n            return String(email).toLowerCase().match(/^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/);\n        };\n\n        if (validateEmail(providedEmail)) {\n            const configgg = {\n                providedEmail\n            }\n            axios.post(`${process.env.REACT_APP_BASE_URL}/send/email/password/recovery/attempt`, configgg).then((res) => {\n                if (res.data.message === \"Successfully sent recovery email with code!\") {\n                    console.log(\"Code matches!\", res.data);\n\n                    const { code } = res.data;\n    \n                    NotificationManager.success('Successfully sent code to the email provided - please check your email and enter the provided code to gain access back to your account...', 'Successfully sent recovery email!', 4750);\n\n                    setReturnedCode(code);\n                    setPage(2);\n\n                } else {\n                    console.log(\"err with code!\", res.data);\n    \n                    NotificationManager.warning(\"An error occurred while attempting to send the 'recovery email' and the request cannot be made properly, please try again or contact support if the problem persists!\", \"Could NOT send recovery email/code!\", 4750);\n                }\n            }).catch((errorCode) => {\n                console.log(\"errorCode\", errorCode);\n    \n                NotificationManager.warning(\"An error occurred while attempting to send the 'recovery email' and the request cannot be made properly, please try again or contact support if the problem persists!\", \"Could NOT send recovery email/code!\", 4750);\n            });\n        } else {\n            NotificationManager.warning(\"Please enter a proper/valid email before attempting to recover your account, the email provided seems to be incorrect or incomplete!\", \"Email doesn't appear to be in the correct format!\", 4750);\n        }\n    }\n\n    const handleCodeSubmission = (e) => {\n        e.preventDefault();\n\n        console.log(\"handleCodeSubmission clicked/ran..!\");\n\n        if (typeof code !== \"undefined\" && code.length >= 12) {\n            const configgg = {\n                code,\n                returnedCode\n            }\n            axios.post(`${process.env.REACT_APP_BASE_URL}/check/code/recovery/password/reset`, configgg).then((res) => {\n                if (res.data.message === \"Successfully matched both codes!\") {\n                    console.log(\"Code matches!\", res.data);\n    \n                    NotificationManager.success('Successfully recovered your account - you may now set your password! Please change your password & do NOT share it with ANYONE ever!', 'Code matches, successful account recovery! Enter a new password..', 4750);\n\n                } else if (res.data.message === \"Code does NOT match!\") {\n                    console.log(\"err with code!\", res.data);\n    \n                    NotificationManager.warning(\"The code you've provided does NOT match our records, please try again with a correct code (case sensitive) or contact support if the problem persists!\", \"The code you entered does NOT match our records..\", 4750);\n                } else {\n                    NotificationManager.warning(\"There was an error processing your request, please try again or contact support if the problem persists!\", \"An unknown error has occurred while processing your request!\", 4750);\n                }\n            }).catch((errorCode) => {\n                console.log(\"errorCode\", errorCode);\n    \n                NotificationManager.warning(\"There was an error processing your request, please try again or contact support if the problem persists!\", \"An unknown error has occurred while processing your request!\", 4750);\n            });\n        } else {\n            NotificationManager.warning(\"There was an error processing your request, please try again or contact support if the problem persists!\", \"An unknown error has occurred while processing your request!\", 4750);\n        }\n    }\n\n    useEffect(()=>{\n        let myInterval = setInterval(() => {\n            if (seconds > 0) {\n                setSeconds(prevState => prevState - 1);\n            }\n            if (seconds === 0) {\n                clearInterval(myInterval);\n            } \n        }, 1000)\n        return ()=> {\n            clearInterval(myInterval);\n        };\n    });\n    \n    const renderPageContent = () => {\n        if (page === 1) {\n            return (\n                <Fragment>\n                    <form onSubmit={submitPasswordRecoveryAttemptEmail}>\n                        <div className=\"row\">\n                            <div className=\"col-12\">\n                                <div className=\"form-group\">\n                                    <input value={providedEmail} onChange={(e) => setProvidedEmail(e.target.value)} className=\"form-control\" type=\"text\" name=\"name\" placeholder=\"Enter Email Address\" />\n                                </div>\n                            </div>\n                            \n                            <div className=\"col-lg-6 col-sm-6\">\n                                <Link to=\"/sign-in\">\n                                    <a className=\"now-log-in font-q\">Sign In your account</a>\n                                </Link>\n                            </div>\n                            <div className=\"col-lg-6 col-sm-6\">\n                                <p className=\"now-register\">\n                                    Not a member?\n                                    <Link to=\"/sign-up\"><a className=\"font-q\">Sign Up</a></Link>\n                                </p>\n                            </div>\n                            <div className=\"col-12\">\n                                <button className=\"default-btn btn-two\" type=\"submit\">\n                                    Reset Password\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                </Fragment>\n            );\n        } else {\n            return (\n                <Fragment>\n                    <form onSubmit={handleCodeSubmission}>\n                        <div className=\"row\">\n                            <div className=\"col-12\">\n                                <div className=\"form-group\">\n                                    <input value={code} onChange={(e) => setCode(e.target.value)} className=\"form-control\" type=\"text\" name=\"name\" placeholder=\"Enter the 'recovery code' that was emailed to you..\" />\n                                </div>\n                            </div>\n                            \n                            <div className=\"col-lg-6 col-sm-6\">\n                                <Link to=\"/sign-in\">\n                                    <a className=\"now-log-in font-q\">Sign In your account</a>\n                                </Link>\n                            </div>\n                            <div className=\"col-lg-6 col-sm-6\">\n                                <p className=\"now-register\">\n                                    Not a member?\n                                    <Link to=\"/sign-up\"><a className=\"font-q\">Sign Up</a></Link>\n                                </p>\n                            </div>\n                            <div className=\"col-12\">\n                                <button className=\"default-btn btn-two\" type=\"submit\">\n                                    Submit Recovery Code!\n                                </button>\n                            </div>\n                        </div>\n                    </form>\n                </Fragment>\n            );\n        }\n    }\n    const timerHelper = () => {\n       if (seconds === 0) {\n        return <a onClick={() => setSeconds(30)} style={{ color: \"red\", textDecorationLine: \"underline\" }}>resending the recovery code</a>;\n       } else {\n        return <a style={{ color: \"red\", textDecorationLine: \"underline\" }}>{seconds} seconds until 'next-send' availability</a>;\n       }\n    }\n    const calculateDisplayText = () => {\n        if (page === 1) {\n            return <p className=\"reset-desc\">Enter the email of your account to reset the password. Then you will receive a link to email to reset the password. If you have any issue about reset password <Link to=\"/contact\"><a>contact us.</a></Link></p>;\n        } else if (page === 2) {\n            return <p className=\"reset-desc\">Please enter the <strong>recovery code (CASE SENSITIVE)</strong> that was emailed to you a second ago, if you did NOT recieve this code ~ try {timerHelper()}</p>;\n        } else {\n            return null;\n        }\n    }\n    return (\n        <>\n            <Navbar />\n            \n            <PageBanner \n                pageTitle=\"Forgot Password\" \n                homePageUrl=\"/\" \n                homePageText=\"Home\" \n                activePageText=\"Forgot Password\" \n            /> \n\n            <div className=\"user-area-all-style recover-password-area ptb-100\">\n                <div className=\"container\">\n                    <div className=\"contact-form-action\">\n                        <div className=\"form-heading text-center\">\n                            <h3 className=\"form-title\">Reset Password!</h3>\n                            {calculateDisplayText()}\n                        </div>\n                        {renderPageContent()}\n                    </div>\n                </div>\n            </div>\n        \n            <Footer />\n        </>\n    )\n}\n\nexport default ForgotPassword;"]},"metadata":{},"sourceType":"module"}