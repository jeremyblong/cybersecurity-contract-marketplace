{"ast":null,"code":"import React,{useState,useEffect,Fragment}from'react';import Navbar from'../components/_App/Navbar';import PageBanner from'../components/Common/PageBanner';import Footer from'../components/_App/Footer';import{Link}from'react-router-dom';import axios from\"axios\";import PaginationEmployerListingHelper from\"../components/dashboard/universal/pagination/paginationHelper.js\";const itemsPerPage=6;const BlogGrid=()=>{const[blogs,setBlogsState]=useState([]);const[blogOpenMore,setBlogViewMoreOpen]=useState({});const[currentPage,setCurrentPage]=useState(0);const[pageCount,setPageCount]=useState(0);const[itemOffset,setItemOffset]=useState(0);const[permanentData,setPermenantData]=useState([]);// render EVERY CHANGE to pagination\nuseEffect(()=>{const endOffset=itemOffset+itemsPerPage;setPageCount(Math.ceil(permanentData.length/itemsPerPage));setBlogsState(permanentData.slice(itemOffset,endOffset));},[itemOffset,itemsPerPage]);useEffect(()=>{const configuration={params:{}};axios.get(\"\".concat(process.env.REACT_APP_BASE_URL,\"/gather/all/blogs/forward/facing\"),configuration).then(res=>{if(res.data.message===\"Gathered blogs!\"){console.log(res.data);const{blogs}=res.data;const newBlogOpenState={};for(let index=0;index<blogs.length;index++){newBlogOpenState[index]=false;}const endOffset=itemOffset+itemsPerPage;// set state logic after successful fetch from db\nsetPermenantData(blogs);setBlogViewMoreOpen(newBlogOpenState);setBlogsState(blogs.slice(itemOffset,endOffset));setPageCount(Math.ceil(blogs.length/itemsPerPage));}else{console.log(\"Err\",res.data);}}).catch(err=>{console.log(err);});},[]);console.log(\"logging...:\",blogOpenMore,blogs);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Navbar,null),/*#__PURE__*/React.createElement(PageBanner,{pageTitle:\"Blog's Posted By 'The Hacker Marketplace'\",homePageUrl:\"/\",homePageText:\"Home\",activePageText:\"Blog's Posted By 'The Hacker Marketplace'\"}),/*#__PURE__*/React.createElement(\"section\",{className:\"blog-area ptb-100\"},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"section-title\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Latest News From \\\"The Hacker Marketplace\\\"\"),/*#__PURE__*/React.createElement(\"p\",null,\"View our blogs, updates and \",/*#__PURE__*/React.createElement(\"strong\",null,\"any new content\"),\" availiable on \\\"The Hacker Marketplace\\\"! We post \",/*#__PURE__*/React.createElement(\"strong\",null,\"very frequently\"),\" so make sure to \",/*#__PURE__*/React.createElement(\"strong\",null,\"stay tuned\"),\" for breaking news, tutorials, updates on local cybersecurity \\\"best practices\\\" & much more..\")),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},typeof blogs!==\"undefined\"&&blogs.length>0?blogs.map((blog,index)=>{return/*#__PURE__*/React.createElement(Fragment,{key:index},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-4 col-sm-6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"single-blog\"},/*#__PURE__*/React.createElement(\"img\",{src:\"/img/blog/blog1.jpg\",alt:\"Image\"}),/*#__PURE__*/React.createElement(\"span\",null,blog.viewedBy.length,\" Total View(s)\"),/*#__PURE__*/React.createElement(\"div\",{className:\"blog-content\"},/*#__PURE__*/React.createElement(\"h3\",null,/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/blog-details/\".concat(blog.id)}},/*#__PURE__*/React.createElement(\"a\",null,blog.title.slice(0,55),typeof blog.title!==\"undefined\"&&blog.title.length>=55?\"...\":\"\"))),/*#__PURE__*/React.createElement(\"p\",null,blog.subtitle.slice(0,75),typeof blog.subtitle!==\"undefined\"&&blog.subtitle.length>=75?\"...\":\"\"),/*#__PURE__*/React.createElement(Link,{to:{pathname:\"/blog-details/\".concat(blog.id)}},/*#__PURE__*/React.createElement(\"a\",{className:\"read-more\"},\"Read More...\"))))));}):null,/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-12\"},/*#__PURE__*/React.createElement(PaginationEmployerListingHelper,{itemsPerPage:itemsPerPage,setItemOffset:setItemOffset,loopingData:permanentData,setPageCount:setPageCount,pageCount:pageCount,currentPage:currentPage,setCurrentPage:setCurrentPage}))))),/*#__PURE__*/React.createElement(Footer,null));};export default BlogGrid;","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/pages/blog-grid.js"],"names":["React","useState","useEffect","Fragment","Navbar","PageBanner","Footer","Link","axios","PaginationEmployerListingHelper","itemsPerPage","BlogGrid","blogs","setBlogsState","blogOpenMore","setBlogViewMoreOpen","currentPage","setCurrentPage","pageCount","setPageCount","itemOffset","setItemOffset","permanentData","setPermenantData","endOffset","Math","ceil","length","slice","configuration","params","get","process","env","REACT_APP_BASE_URL","then","res","data","message","console","log","newBlogOpenState","index","catch","err","map","blog","viewedBy","pathname","id","title","subtitle"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Fragment } from 'react';\nimport Navbar from '../components/_App/Navbar';\nimport PageBanner from '../components/Common/PageBanner';\nimport Footer from '../components/_App/Footer';\nimport { Link } from 'react-router-dom'; \nimport axios from \"axios\";\nimport PaginationEmployerListingHelper from \"../components/dashboard/universal/pagination/paginationHelper.js\";\n\n\nconst itemsPerPage = 6;\n\nconst BlogGrid = () => {\n\n    const [ blogs, setBlogsState ] = useState([]);\n    const [ blogOpenMore, setBlogViewMoreOpen ] = useState({});\n    const [ currentPage, setCurrentPage ] = useState(0);\n    const [ pageCount, setPageCount ] = useState(0);\n    const [ itemOffset, setItemOffset ] = useState(0);\n    const [ permanentData, setPermenantData ] = useState([]);\n\n    // render EVERY CHANGE to pagination\n    useEffect(() => {\n        const endOffset = itemOffset + itemsPerPage;\n\n        setPageCount(Math.ceil(permanentData.length / itemsPerPage));\n\n        setBlogsState(permanentData.slice(itemOffset, endOffset));\n        \n    }, [itemOffset, itemsPerPage]);\n\n    useEffect(() => {\n        const configuration = {\n            params: {\n\n            }\n        }\n        axios.get(`${process.env.REACT_APP_BASE_URL}/gather/all/blogs/forward/facing`, configuration).then((res) => {\n            if (res.data.message === \"Gathered blogs!\") {\n                console.log(res.data);\n\n                const { blogs } = res.data;\n\n                const newBlogOpenState = {};\n                \n                for (let index = 0; index < blogs.length; index++) {\n                    newBlogOpenState[index] = false;\n                }\n\n                const endOffset = itemOffset + itemsPerPage;\n\n                // set state logic after successful fetch from db\n                setPermenantData(blogs);\n                setBlogViewMoreOpen(newBlogOpenState);\n                setBlogsState(blogs.slice(itemOffset, endOffset));\n                setPageCount(Math.ceil(blogs.length / itemsPerPage));\n            } else {\n                console.log(\"Err\", res.data);\n            }\n        }).catch((err) => {\n            console.log(err);\n        })\n    }, []);\n\n    console.log(\"logging...:\", blogOpenMore, blogs);\n\n    return (\n        <>\n            <Navbar />\n\n            <PageBanner \n                pageTitle={`Blog's Posted By 'The Hacker Marketplace'`} \n                homePageUrl=\"/\" \n                homePageText=\"Home\" \n                activePageText={`Blog's Posted By 'The Hacker Marketplace'`} \n            /> \n\n            <section className=\"blog-area ptb-100\">\n                <div className=\"container\">\n                    <div className=\"section-title\">\n                        <h2>Latest News From \"The Hacker Marketplace\"</h2>\n                        <p>View our blogs, updates and <strong>any new content</strong> availiable on \"The Hacker Marketplace\"! We post <strong>very frequently</strong> so make sure to <strong>stay tuned</strong> for breaking news, tutorials, updates on local cybersecurity \"best practices\" & much more..</p>\n                    </div>\n\n                    <div className=\"row\">\n                        {typeof blogs !== \"undefined\" && blogs.length > 0 ? blogs.map((blog, index) => {\n                            return (\n                                <Fragment key={index}>\n                                    <div className=\"col-lg-4 col-sm-6\">\n                                        <div className=\"single-blog\">\n                                            <img src=\"/img/blog/blog1.jpg\" alt=\"Image\" />\n                                            <span>{blog.viewedBy.length} Total View(s)</span>\n                                            <div className=\"blog-content\">\n                                                <h3>\n                                                    <Link to={{ pathname: `/blog-details/${blog.id}` }}>\n                                                        <a>{blog.title.slice(0, 55)}{typeof blog.title !== \"undefined\" && blog.title.length >= 55 ? \"...\" : \"\"}</a>\n                                                    </Link>\n                                                </h3>\n                                                <p>{blog.subtitle.slice(0, 75)}{typeof blog.subtitle !== \"undefined\" && blog.subtitle.length >= 75 ? \"...\" : \"\"}</p>\n                                                <Link to={{ pathname: `/blog-details/${blog.id}` }}>\n                                                    <a className=\"read-more\">Read More...</a>\n                                                </Link>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </Fragment>\n                            );\n                        }) : null}\n                        {/* Pagination */}\n                        <div className=\"col-lg-12\">\n                            <PaginationEmployerListingHelper itemsPerPage={itemsPerPage} setItemOffset={setItemOffset} loopingData={permanentData} setPageCount={setPageCount} pageCount={pageCount} currentPage={currentPage} setCurrentPage={setCurrentPage} />\n                        </div>\n                    </div>\n                </div>\n            </section>\n\n            <Footer />\n        </>\n    )\n}\n\nexport default BlogGrid;"]},"metadata":{},"sourceType":"module"}