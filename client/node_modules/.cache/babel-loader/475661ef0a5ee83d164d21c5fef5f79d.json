{"ast":null,"code":"import React,{Fragment,useState}from'react';import\"./styles.css\";import Cards from'react-credit-cards';import{Row,Col,Button,Card,CardBody,Input,FormGroup,Form,CardHeader,TabContent,TabPane,Nav,NavItem,NavLink}from'reactstrap';import axios from\"axios\";import{connect}from\"react-redux\";import crypto from\"../../../../../../../utils/crypto.js\";const{encryptObject}=crypto;const BottomAddNewPaymentMethodTabbedEmployerHelper=_ref=>{let{setPaymentMethods,userData,handleInputChange,cardInfo,setCardInfo}=_ref;const[activeTab,setActiveTab]=useState('1');const[valid,setValidness]=useState(false);const calculateReadiness=()=>{const{number,name,expiry,cvc}=cardInfo;if(valid===true&&typeof name!==\"undefined\"&&name.length>0&&typeof expiry!==\"undefined\"&&expiry.length>=4&&typeof cvc!==\"undefined\"&&cvc.length>=3){return false;}else{return true;}};const addNewCardToAccount=()=>{const encryptedCardInfo=encryptObject(cardInfo);const config={encryptedCardInfo,employerID:userData.uniqueId};axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/add/new/payment/method/employer\"),config).then(res=>{if(res.data.message===\"Successfully added a new payment method!\"){console.log(res.data);const{newPaymentAddition}=res.data;setCardInfo({cvc:\"\",expiry:\"\",focus:\"\",name:\"\",number:\"\",cardType:\"\"});setPaymentMethods(prevState=>[...prevState,newPaymentAddition]);}else{console.log(\"err\",res.data);}}).catch(err=>{console.log(err);});};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Card,{className:\"card-shadow-card-add\"},/*#__PURE__*/React.createElement(Row,{className:\"product-page-main m-0\"},/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(Nav,{tabs:true,className:\"border-tab\"},/*#__PURE__*/React.createElement(NavItem,{id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{href:\"#\",className:activeTab==='1'?'active':'',onClick:()=>setActiveTab('1')},\"Add New Card Payment Method\"),/*#__PURE__*/React.createElement(\"div\",{className:\"material-border\"})),/*#__PURE__*/React.createElement(NavItem,{id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{href:\"#\",className:activeTab==='2'?'active':'',onClick:()=>setActiveTab('2')},\"Payment Related Overview\"),/*#__PURE__*/React.createElement(\"div\",{className:\"material-border\"})),/*#__PURE__*/React.createElement(NavItem,{id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{href:\"#\",className:activeTab==='3'?'active':'',onClick:()=>setActiveTab('3')},\"Other Payment Method's\"),/*#__PURE__*/React.createElement(\"div\",{className:\"material-border\"}))),/*#__PURE__*/React.createElement(TabContent,{activeTab:activeTab},/*#__PURE__*/React.createElement(TabPane,{tabId:\"1\"},/*#__PURE__*/React.createElement(Col,{lg:\"12\",sm:\"12\",md:\"12\",xl:\"12 xl-100\"},/*#__PURE__*/React.createElement(Card,{className:\"height-equal credit-form\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"py-4\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Add a Credit/Debit Card\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"7\"},/*#__PURE__*/React.createElement(Form,{className:\"theme-form mega-form\"},/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"text\",name:\"name\",value:cardInfo.name,placeholder:\"Name (Full Name - First/Last)\",onChange:e=>handleInputChange(e)})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"text\",name:\"number\",value:cardInfo.number,placeholder:\"Enter your card number..\",onChange:e=>handleInputChange(e)})),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(\"select\",{onChange:e=>{const value=e.target.value;if(value!==\"\"){cardInfo.expiry=value+cardInfo.expiry.substring(2,5);setCardInfo(prevState=>{return{...prevState,expiry:cardInfo.expiry};});}},style:{marginLeft:\"15px\"},className:\"form-control digits year-date-format\",name:\"expireMM\",id:\"expireMM\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select a month\"),/*#__PURE__*/React.createElement(\"option\",{value:\"01\"},\"January\"),/*#__PURE__*/React.createElement(\"option\",{value:\"02\"},\"February\"),/*#__PURE__*/React.createElement(\"option\",{value:\"03\"},\"March\"),/*#__PURE__*/React.createElement(\"option\",{value:\"04\"},\"April\"),/*#__PURE__*/React.createElement(\"option\",{value:\"05\"},\"May\"),/*#__PURE__*/React.createElement(\"option\",{value:\"06\"},\"June\"),/*#__PURE__*/React.createElement(\"option\",{value:\"07\"},\"July\"),/*#__PURE__*/React.createElement(\"option\",{value:\"08\"},\"August\"),/*#__PURE__*/React.createElement(\"option\",{value:\"09\"},\"September\"),/*#__PURE__*/React.createElement(\"option\",{value:\"10\"},\"October\"),/*#__PURE__*/React.createElement(\"option\",{value:\"11\"},\"November\"),/*#__PURE__*/React.createElement(\"option\",{value:\"12\"},\"December\")),/*#__PURE__*/React.createElement(\"select\",{onChange:e=>{const value=e.target.value;if(value!==\"\"){cardInfo.expiry=cardInfo.expiry.substring(0,2)+value;setCardInfo(prevState=>{return{...prevState,expiry:cardInfo.expiry};});}},className:\"form-control digits year-date-format\",name:\"expireYY\",id:\"expireYY\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\"},\"Select a year\"),/*#__PURE__*/React.createElement(\"option\",{value:\"20\"},\"2020\"),/*#__PURE__*/React.createElement(\"option\",{value:\"21\"},\"2021\"),/*#__PURE__*/React.createElement(\"option\",{value:\"22\"},\"2022\"),/*#__PURE__*/React.createElement(\"option\",{value:\"23\"},\"2023\"),/*#__PURE__*/React.createElement(\"option\",{value:\"24\"},\"2024\"),/*#__PURE__*/React.createElement(\"option\",{value:\"25\"},\"2025\"),/*#__PURE__*/React.createElement(\"option\",{value:\"26\"},\"2026\"),/*#__PURE__*/React.createElement(\"option\",{value:\"27\"},\"2027\"),/*#__PURE__*/React.createElement(\"option\",{value:\"28\"},\"2028\"),/*#__PURE__*/React.createElement(\"option\",{value:\"29\"},\"2029\"),/*#__PURE__*/React.createElement(\"option\",{value:\"30\"},\"2030\"),/*#__PURE__*/React.createElement(\"option\",{value:\"31\"},\"2031\"),/*#__PURE__*/React.createElement(\"option\",{value:\"32\"},\"2032\"),/*#__PURE__*/React.createElement(\"option\",{value:\"33\"},\"2033\"),/*#__PURE__*/React.createElement(\"option\",{value:\"34\"},\"2034\"),/*#__PURE__*/React.createElement(\"option\",{value:\"35\"},\"2035\"),/*#__PURE__*/React.createElement(\"option\",{value:\"36\"},\"2036\")))),/*#__PURE__*/React.createElement(FormGroup,null,/*#__PURE__*/React.createElement(Input,{className:\"form-control\",type:\"text\",name:\"cvc\",placeholder:\"CVC... (Security Code On Back)\",value:cardInfo.cvc,onChange:e=>handleInputChange(e)})))),/*#__PURE__*/React.createElement(Col,{md:\"5\",className:\"text-center\"},/*#__PURE__*/React.createElement(Cards,{callback:(type,isValid)=>{setCardInfo(prevState=>{return{...prevState,cardType:type.issuer};});setValidness(isValid);},cvc:cardInfo.cvc,expiry:cardInfo.expiry,focused:cardInfo.focus,name:cardInfo.name,number:cardInfo.number})))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"12\",xl:\"12\"},/*#__PURE__*/React.createElement(Button,{onClick:addNewCardToAccount,disabled:calculateReadiness(),style:{width:\"100%\"},color:\"success\",className:\"btn-square-success\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-submit mr-1\"}),\" Submit New Payment Method\")))))),/*#__PURE__*/React.createElement(TabPane,{tabId:\"2\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 m-t-20\"},\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum\")),/*#__PURE__*/React.createElement(TabPane,{tabId:\"3\"},/*#__PURE__*/React.createElement(\"p\",{className:\"mb-0 m-t-20\"},\" \",\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum\")))))));};const mapStateToProps=state=>{return{userData:state.auth.data};};export default connect(mapStateToProps,{})(BottomAddNewPaymentMethodTabbedEmployerHelper);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/paymentLogic/employers/mainPaymentLogic/helpers/bottomTabbed/bottomTabbedHelper.js"],"names":["React","Fragment","useState","Cards","Row","Col","Button","Card","CardBody","Input","FormGroup","Form","CardHeader","TabContent","TabPane","Nav","NavItem","NavLink","axios","connect","crypto","encryptObject","BottomAddNewPaymentMethodTabbedEmployerHelper","setPaymentMethods","userData","handleInputChange","cardInfo","setCardInfo","activeTab","setActiveTab","valid","setValidness","calculateReadiness","number","name","expiry","cvc","length","addNewCardToAccount","encryptedCardInfo","config","employerID","uniqueId","post","process","env","REACT_APP_BASE_URL","then","res","data","message","console","log","newPaymentAddition","focus","cardType","prevState","catch","err","e","value","target","substring","marginLeft","type","isValid","issuer","width","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useState } from 'react';\nimport \"./styles.css\";\nimport Cards from 'react-credit-cards';\nimport { Row, Col, Button, Card, CardBody, Input, FormGroup, Form, CardHeader, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport crypto from \"../../../../../../../utils/crypto.js\";\n\n\nconst { \n    encryptObject \n} = crypto;\n\n\nconst BottomAddNewPaymentMethodTabbedEmployerHelper = ({ setPaymentMethods, userData, handleInputChange, cardInfo, setCardInfo }) => {\n    const [activeTab, setActiveTab] = useState('1');\n    const [ valid, setValidness ] = useState(false);\n\n    const calculateReadiness = () => {\n        const { number, name, expiry, cvc } = cardInfo;\n\n        if (valid === true && typeof name !== \"undefined\" && name.length > 0 && typeof expiry !== \"undefined\" && expiry.length >= 4 && typeof cvc !== \"undefined\" && cvc.length >= 3) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n    const addNewCardToAccount = () => {\n\n        const encryptedCardInfo = encryptObject(cardInfo);\n\n        const config = {\n            encryptedCardInfo,\n            employerID: userData.uniqueId\n        }\n    \n        axios.post(`${process.env.REACT_APP_BASE_URL}/add/new/payment/method/employer`, config).then((res) => {\n            if (res.data.message === \"Successfully added a new payment method!\") {\n\n                console.log(res.data);\n\n                const { newPaymentAddition } = res.data;\n\n                setCardInfo({\n                    cvc: \"\",\n                    expiry: \"\",\n                    focus: \"\",\n                    name: \"\",\n                    number: \"\",\n                    cardType: \"\"\n                })\n\n                setPaymentMethods(prevState => [...prevState, newPaymentAddition]);\n            } else {\n                console.log(\"err\", res.data);\n            }\n        }).catch((err) => {\n            console.log(err);\n        })\n    }\n    return (\n        <Fragment>\n            <Card className=\"card-shadow-card-add\">\n                <Row className=\"product-page-main m-0\">\n                    <Col sm=\"12\">\n                    <Nav tabs className=\"border-tab\">\n                        <NavItem  id=\"myTab\" role=\"tablist\">\n                            <NavLink href=\"#\" className={activeTab === '1' ? 'active' : ''} onClick={() => setActiveTab('1')}>\n                                Add New Card Payment Method\n                            </NavLink>\n                            <div className=\"material-border\"></div>\n                        </NavItem>\n                        <NavItem  id=\"myTab\" role=\"tablist\">\n                            <NavLink href=\"#\"  className={activeTab === '2' ? 'active' : ''} onClick={() => setActiveTab('2')}>\n                                Payment Related Overview\n                            </NavLink>\n                            <div className=\"material-border\"></div>\n                        </NavItem>\n                        <NavItem  id=\"myTab\" role=\"tablist\">\n                            <NavLink href=\"#\"  className={activeTab === '3' ? 'active' : ''} onClick={() => setActiveTab('3')}>\n                                Other Payment Method's\n                            </NavLink>\n                            <div className=\"material-border\"></div>\n                        </NavItem>\n                    </Nav>\n                    <TabContent activeTab={activeTab}>\n                        <TabPane tabId=\"1\">\n                            <Col lg=\"12\" sm=\"12\" md=\"12\" xl=\"12 xl-100\">\n                                <Card className=\"height-equal credit-form\">\n                                    <CardHeader className=\"py-4\">\n                                        <h5>Add a Credit/Debit Card</h5>\n                                    </CardHeader>\n                                    <CardBody>\n                                        <Row>\n                                            <Col md=\"7\">\n                                                <Form className=\"theme-form mega-form\">\n                                                    <FormGroup>\n                                                        <Input\n                                                            className=\"form-control\"\n                                                            type=\"text\"\n                                                            name=\"name\"\n                                                            value={cardInfo.name}\n                                                            placeholder=\"Name (Full Name - First/Last)\"\n                                                            onChange={(e) => handleInputChange(e)}\n                                                        />\n                                                    </FormGroup>\n                                                    <FormGroup>\n                                                        <Input\n                                                            className=\"form-control\"\n                                                            type=\"text\"\n                                                            name=\"number\"\n                                                            value={cardInfo.number}\n                                                            placeholder=\"Enter your card number..\"\n                                                            onChange={(e) => handleInputChange(e)}\n                                                        />\n                                                    </FormGroup>\n                                                    <FormGroup>\n                                                        <Row>\n                                                            <select onChange={(e) => {\n                                                                const value = e.target.value;\n\n                                                                if (value !== \"\") {\n                                                            \n                                                                    cardInfo.expiry = value + cardInfo.expiry.substring(2, 5);\n\n                                                                    setCardInfo(prevState => {\n                                                                        return {\n                                                                            ...prevState,\n                                                                            expiry: cardInfo.expiry\n                                                                        }\n                                                                    })\n                                                                }\n                                                            }} style={{ marginLeft: \"15px\" }} className=\"form-control digits year-date-format\" name='expireMM' id='expireMM'>\n                                                                <option value=''>Select a month</option>\n                                                                <option value='01'>January</option>\n                                                                <option value='02'>February</option>\n                                                                <option value='03'>March</option>\n                                                                <option value='04'>April</option>\n                                                                <option value='05'>May</option>\n                                                                <option value='06'>June</option>\n                                                                <option value='07'>July</option>\n                                                                <option value='08'>August</option>\n                                                                <option value='09'>September</option>\n                                                                <option value='10'>October</option>\n                                                                <option value='11'>November</option>\n                                                                <option value='12'>December</option>\n                                                            </select> \n                                                            <select onChange={(e) => {\n                                                                const value = e.target.value;\n\n                                                                if (value !== \"\") {\n                                                                    \n                                                                    cardInfo.expiry = cardInfo.expiry.substring(0, 2) + value;\n\n                                                                    setCardInfo(prevState => {\n                                                                        return {\n                                                                            ...prevState,\n                                                                            expiry: cardInfo.expiry\n                                                                        }\n                                                                    })\n                                                                }\n                                                            }} className=\"form-control digits year-date-format\" name='expireYY' id='expireYY'>\n                                                                <option value=''>Select a year</option>\n                                                                <option value='20'>2020</option>\n                                                                <option value='21'>2021</option>\n                                                                <option value='22'>2022</option>\n                                                                <option value='23'>2023</option>\n                                                                <option value='24'>2024</option>\n                                                                <option value='25'>2025</option>\n                                                                <option value='26'>2026</option>\n                                                                <option value='27'>2027</option>\n                                                                <option value='28'>2028</option>\n                                                                <option value='29'>2029</option>\n                                                                <option value='30'>2030</option>\n                                                                <option value='31'>2031</option>\n                                                                <option value='32'>2032</option>\n                                                                <option value='33'>2033</option>\n                                                                <option value='34'>2034</option>\n                                                                <option value='35'>2035</option>\n                                                                <option value='36'>2036</option>\n                                                            </select> \n                                                        </Row>\n                                                    </FormGroup>\n                                                    <FormGroup>\n                                                        <Input\n                                                            className=\"form-control\"\n                                                            type=\"text\"\n                                                            name=\"cvc\"\n                                                            placeholder=\"CVC... (Security Code On Back)\"\n                                                            value={cardInfo.cvc}\n                                                            onChange={(e) => handleInputChange(e)}\n                                                        />\n                                                    </FormGroup>\n                                                </Form>\n                                            </Col>\n                                            <Col md=\"5\" className=\"text-center\">\n                                                <Cards\n                                                    callback={(type, isValid) => {\n                                                        setCardInfo(prevState => {\n                                                            return {\n                                                                ...prevState,\n                                                                cardType: type.issuer\n                                                            }\n                                                        })\n                                                        setValidness(isValid);\n                                                    }}\n                                                    cvc={cardInfo.cvc}\n                                                    expiry={cardInfo.expiry}\n                                                    focused={cardInfo.focus}\n                                                    name={cardInfo.name}\n                                                    number={cardInfo.number}\n                                                />\n                                            </Col>\n                                        </Row>\n                                    </CardBody>\n                                    <Row>\n                                        <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                                            <Button onClick={addNewCardToAccount} disabled={calculateReadiness()} style={{ width: \"100%\" }} color=\"success\" className=\"btn-square-success\">\n                                                <i className=\"fa fa-submit mr-1\"></i> Submit New Payment Method\n                                            </Button>\n                                        </Col>\n                                    </Row>\n                                </Card>\n                            </Col>\n                        </TabPane>\n                        <TabPane tabId=\"2\">\n                            <p className=\"mb-0 m-t-20\">{\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum\"}</p>\n                        </TabPane>\n                        <TabPane tabId=\"3\">\n                            <p className=\"mb-0 m-t-20\"> {\"Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500s, when an unknown printer took a galley of type and scrambled it to make a type specimen book. It has survived not only five centuries, but also the leap into electronic typesetting, remaining essentially unchanged. It was popularised in the 1960s with the release of Letraset sheets containing Lorem Ipsum passages, and more recently with desktop publishing software like Aldus PageMaker including versions of Lorem Ipsum\"}</p>\n                        </TabPane>\n                    </TabContent>\n                    </Col>\n                </Row>\n            </Card>\n        </Fragment>\n    );\n}\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data\n    }\n}\nexport default connect(mapStateToProps, {  })(BottomAddNewPaymentMethodTabbedEmployerHelper);"]},"metadata":{},"sourceType":"module"}