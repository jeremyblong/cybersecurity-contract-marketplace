{"ast":null,"code":"import React,{useRef,useState,useEffect,Fragment}from'react';import PageOneMainHelper from\"./multiStepPages/pageOne/pageOneMain.js\";import{Container,Col,Row,CardHeader,CardBody,Card,Progress,Button,ButtonGroup}from\"reactstrap\";import Breadcrumb from'../../../../../layout/breadcrumb';import LoadingBar from'react-top-loading-bar';import{connect}from\"react-redux\";import _ from'lodash';import PageTwoMainHelper from\"./multiStepPages/pageTwo/pageTwoMain.js\";import\"./styles.css\";import PageThreeHelper from\"./multiStepPages/pageThree/pageThreeMain.js\";import PageFourMainHelper from\"./multiStepPages/pageFour/pageFourMain.js\";import useWindowSize from'react-use/lib/useWindowSize';import Confetti from'react-confetti';import{NotificationManager}from'react-notifications';import{confirmAlert}from'react-confirm-alert';import{saveSoftwareListingInfo}from\"../../../../../redux/actions/hackers/createSoftwareListing/createNewSoftwareListingSale.js\";import ConfirmationSuccessfullyPostedHelper from\"./multiStepPages/pageFive/successConfirmationHelper.js\";const CreateNewSoftwareListingHelper=_ref=>{let{currentPage,saveSoftwareListingInfo}=_ref;// state for this component ONLY - PROGRESS\nconst[progress,setProgress]=useState(0);const[runConfettiState,changeSetRunConfettiState]=useState(true);const[showConfetti,setShowConfettiStatus]=useState(false);// refs for this component ONLY\nconst isFirstRender=useRef(true);// run this REF only ONCE\nconst renderOnlyOnce=useRef(false);const renderConditionalPageContent=()=>{switch(currentPage){case 1:return/*#__PURE__*/React.createElement(PageOneMainHelper,null);break;case 2:return/*#__PURE__*/React.createElement(PageTwoMainHelper,null);break;case 3:return/*#__PURE__*/React.createElement(PageThreeHelper,null);break;case 4:return/*#__PURE__*/React.createElement(PageFourMainHelper,null);break;case 5:return/*#__PURE__*/React.createElement(ConfirmationSuccessfullyPostedHelper,null);break;default:break;}};const calculateProgressPercentage=page=>{switch(page){case 1:return 20;break;case 2:return 40;break;case 3:return 60;break;case 4:return 80;break;case 5:return 100;break;default:break;}};// confetti on END helper function\nconst handleConfettiCompletion=e=>{// log for change...\nconsole.log(\"handleConfettiCompletion ended...\",e);// hide confetti after successful show/deploy\nsetShowConfettiStatus(false);};useEffect(()=>{console.log(\"logged!!!! useEffect ran...!\");// run conditional to check for 'first render' then alter ref data\nif(isFirstRender.current){console.log(\"isFirstRender conditional FIRST TIME.\");// change data to false in preperation for next check upon next change\nisFirstRender.current=false;// change progress to represent appropriate current state\nsetProgress(calculateProgressPercentage(currentPage));if(currentPage===5){// START DISPLAYING confetti component\nsetShowConfettiStatus(true);// notify user of confetti and how long it'll stay displaying\nNotificationManager.info(\"You've SUCCESSFULLY created & posted a new 'software for sale' listing - it is now live! We know that form was lengthy and time consuming and we appreciate your patience - here's some confetti for 20 SECONDS!\",'Ready to REVIEW & POST!',7000);setTimeout(()=>{changeSetRunConfettiState(false);setShowConfettiStatus(false);},20000);}}else{console.log(\"isFirstRender conditional SUBSEQUENT RUN.\");// change progress to represent appropriate current state\nsetProgress(calculateProgressPercentage(currentPage));if(currentPage===5){// START DISPLAYING confetti component\nsetShowConfettiStatus(true);// notify user of confetti and how long it'll stay displaying\nNotificationManager.info(\"You've SUCCESSFULLY created & posted a new 'software for sale' listing - it is now live! We know that form was lengthy and time consuming and we appreciate your patience - here's some confetti for 20 SECONDS!\",'Ready to REVIEW & POST!',7000);setTimeout(()=>{changeSetRunConfettiState(false);setShowConfettiStatus(false);},20000);}}},[currentPage]);// create window height/width sizes for confetti component\nconst{width,height}=useWindowSize();const closeModalAndRestartForm=onClose=>{console.log(\"closeModalAndRestartForm ran.\");onClose();saveSoftwareListingInfo({currentPage:1});};const promptConfirmationWindowSelection=()=>{confirmAlert({customUI:_ref2=>{let{onClose}=_ref2;return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{className:\"b-l-primary border-3 specific-edit-border-right\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Are you sure you'd like to CANCEL & RESTART this form?\")),/*#__PURE__*/React.createElement(CardBody,{id:\"modal-button-showcase-cardbody\",className:\"btn-group-showcase\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"12\",xl:\"12\"},/*#__PURE__*/React.createElement(\"p\",{className:\"button-group-text-above\"},\"Are you sure you'd like to restart this form? You will lose ALL previous entries & and logic previously entered. You will be returned to PAGE ONE (20%) so you can continue with your re-entries...\")),/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"12\",xl:\"12\"},/*#__PURE__*/React.createElement(\"hr\",{className:\"secondary-hr\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"centered-button-container\"},/*#__PURE__*/React.createElement(ButtonGroup,{id:\"button-group-custom-secondary\"},/*#__PURE__*/React.createElement(Button,{outline:true,color:\"danger\",onClick:onClose},\"Cancel/Close\"),/*#__PURE__*/React.createElement(Button,{outline:true,color:\"success\",onClick:()=>{closeModalAndRestartForm(onClose);}},\"RESTART\"))))))));}});};const restartFormStatusProcess=()=>{console.log(\"restartFormStatusProcess ran...!\");saveSoftwareListingInfo({currentPage:1});};const renderTopBar=()=>{if(currentPage!==5){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"h5\",null,\"Create a \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"blue\"}},\"software\"),\" listing - post a code snippet, malware, viruses, etc...\"),/*#__PURE__*/React.createElement(\"p\",null,\"We are \",/*#__PURE__*/React.createElement(\"em\",{style:{color:\"red\",textDecorationLine:\"underline\"}},\"NOT\"),\" in any shape or form responsible if you use these codes/programs in a malicious manner AND any suspicious activity or reports \",/*#__PURE__*/React.createElement(\"strong\",{style:{textDecorationLine:\"underline\",color:\"red\"}},\"WILL\"),\" be throughly investigated & reported to the appropriate authorities.\"),/*#__PURE__*/React.createElement(\"hr\",null),currentPage!==1?/*#__PURE__*/React.createElement(\"div\",{className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-air-danger\",color:\"danger\",style:{width:\"65%\"},onClick:()=>{// cancel & restart\npromptConfirmationWindowSelection();}},\"~ Cancel & Restart Form Entries ~\")):null,/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",{className:\"spacer-paragraph\"},\"In order to post a listing to sell or trade digital software related content, you will need to complete the following \",/*#__PURE__*/React.createElement(\"strong\",null,\"multi-page\"),\" form to completion & your listing/item will be immediately posted shortly thereafter!\"),/*#__PURE__*/React.createElement(\"div\",{className:\"push-bottom-progress-bar\"},/*#__PURE__*/React.createElement(\"div\",{className:\"position-middle-bar-div\"},/*#__PURE__*/React.createElement(\"h4\",{id:\"progress-text-centered\"},\"\".concat(progress,\"% Completed (Create-listing flow \").concat(progress===80?\"- last page - review\":\"\",\")\"))),/*#__PURE__*/React.createElement(Progress,{className:\"reactstrap-progress-bar-custom\",animated:true,color:\"secondary\",value:progress})));}else if(currentPage===5){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Button,{className:\"btn-air-success\",color:\"success\",style:{width:\"100%\"},onClick:()=>{// cancel & restart\nrestartFormStatusProcess();}},\"~ Post another listing & restart process! ~\"));}};// MAIN logic below... (returning majority of data)\nreturn/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(LoadingBar,{color:\"#f73164\",height:8,className:\"create-listing-software-loadbar\",progress:progress,containerClassName:\"container-create-listing-software-loadbar\",loaderSpeed:3500,onLoaderFinished:()=>{setProgress(0);}}),showConfetti===true?/*#__PURE__*/React.createElement(Confetti,{width:width,height:height,className:\"confetti-custom-styles\",wind:0.0125,gravity:0.075,numberOfPieces:500,run:runConfettiState,onConfettiComplete:handleConfettiCompletion,recycle:true}):null,/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Software (digital assets) Marketplace\",title:\"Create a listing to sell software/code\"}),/*#__PURE__*/React.createElement(Container,{style:{marginBottom:\"225px\"},className:\"full-height-container\",fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"12\",xl:\"12\"},/*#__PURE__*/React.createElement(Card,{id:\"over-extend-height-main-container\",className:\"full-height-container\"},/*#__PURE__*/React.createElement(CardHeader,null,renderTopBar()),/*#__PURE__*/React.createElement(CardBody,{className:\"full-height-cardbody-extra\"},renderConditionalPageContent()))))));};const mapStateToProps=state=>{console.log(\"State in 'createNewListing.js'\",state);return{currentPage:_.has(state.softwareListingSale,\"softwareListingSaleInfo\")&&Object.keys(state.softwareListingSale.softwareListingSaleInfo).length>0?state.softwareListingSale.softwareListingSaleInfo.currentPage:1};};export default connect(mapStateToProps,{saveSoftwareListingInfo})(CreateNewSoftwareListingHelper);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/softwareHardwareExchanges/software/createListing/createNewListing.js"],"names":["React","useRef","useState","useEffect","Fragment","PageOneMainHelper","Container","Col","Row","CardHeader","CardBody","Card","Progress","Button","ButtonGroup","Breadcrumb","LoadingBar","connect","_","PageTwoMainHelper","PageThreeHelper","PageFourMainHelper","useWindowSize","Confetti","NotificationManager","confirmAlert","saveSoftwareListingInfo","ConfirmationSuccessfullyPostedHelper","CreateNewSoftwareListingHelper","currentPage","progress","setProgress","runConfettiState","changeSetRunConfettiState","showConfetti","setShowConfettiStatus","isFirstRender","renderOnlyOnce","renderConditionalPageContent","calculateProgressPercentage","page","handleConfettiCompletion","e","console","log","current","info","setTimeout","width","height","closeModalAndRestartForm","onClose","promptConfirmationWindowSelection","customUI","restartFormStatusProcess","renderTopBar","color","textDecorationLine","marginBottom","mapStateToProps","state","has","softwareListingSale","Object","keys","softwareListingSaleInfo","length"],"mappings":"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","sourcesContent":["import React, { useRef, useState, useEffect, Fragment } from 'react';\nimport PageOneMainHelper from \"./multiStepPages/pageOne/pageOneMain.js\";\nimport { Container, Col, Row, CardHeader, CardBody, Card, Progress, Button, ButtonGroup } from \"reactstrap\";\nimport Breadcrumb from '../../../../../layout/breadcrumb';\nimport LoadingBar from 'react-top-loading-bar';\nimport { connect } from \"react-redux\";\nimport _ from 'lodash';\nimport PageTwoMainHelper from \"./multiStepPages/pageTwo/pageTwoMain.js\";\nimport \"./styles.css\";\nimport PageThreeHelper from \"./multiStepPages/pageThree/pageThreeMain.js\";\nimport PageFourMainHelper from \"./multiStepPages/pageFour/pageFourMain.js\";\nimport useWindowSize from 'react-use/lib/useWindowSize';\nimport Confetti from 'react-confetti';\nimport { NotificationManager } from 'react-notifications';\nimport { confirmAlert } from 'react-confirm-alert';\nimport { saveSoftwareListingInfo } from \"../../../../../redux/actions/hackers/createSoftwareListing/createNewSoftwareListingSale.js\";\nimport ConfirmationSuccessfullyPostedHelper from \"./multiStepPages/pageFive/successConfirmationHelper.js\";\n\nconst CreateNewSoftwareListingHelper = ({ currentPage, saveSoftwareListingInfo }) => {\n    // state for this component ONLY - PROGRESS\n    const [ progress, setProgress ] = useState(0);\n    const [ runConfettiState, changeSetRunConfettiState ] = useState(true);\n    const [ showConfetti, setShowConfettiStatus ] = useState(false);\n\n    // refs for this component ONLY\n    const isFirstRender = useRef(true);\n    // run this REF only ONCE\n    const renderOnlyOnce = useRef(false);\n\n    const renderConditionalPageContent = () => {\n\n        switch (currentPage) {\n            case 1:\n                return <PageOneMainHelper />;\n                break;\n            case 2: \n                return <PageTwoMainHelper />;\n                break;\n            case 3: \n                return <PageThreeHelper />;\n                break;\n            case 4: \n                return <PageFourMainHelper />\n                break;\n            case 5:\n                return <ConfirmationSuccessfullyPostedHelper />;\n                break;\n            default:\n                break;\n        }\n    }\n    const calculateProgressPercentage = (page) => {\n        switch (page) {\n            case 1:\n                return 20;\n                break;\n            case 2:\n                return 40;\n                break;\n            case 3: \n                return 60;\n                break;\n            case 4: \n                return 80;\n                break;\n            case 5:\n                return 100;\n                break\n            default:\n                break;\n        }\n    }\n    // confetti on END helper function\n    const handleConfettiCompletion = (e) => {\n        // log for change...\n        console.log(\"handleConfettiCompletion ended...\", e);\n        // hide confetti after successful show/deploy\n        setShowConfettiStatus(false);\n    }\n    useEffect(() => {\n        console.log(\"logged!!!! useEffect ran...!\");\n\n        // run conditional to check for 'first render' then alter ref data\n        if (isFirstRender.current) {\n            console.log(\"isFirstRender conditional FIRST TIME.\");\n            // change data to false in preperation for next check upon next change\n            isFirstRender.current = false;\n            // change progress to represent appropriate current state\n            setProgress(calculateProgressPercentage(currentPage));\n\n            if (currentPage === 5) {\n                // START DISPLAYING confetti component\n                setShowConfettiStatus(true);\n                // notify user of confetti and how long it'll stay displaying\n                NotificationManager.info(`You've SUCCESSFULLY created & posted a new 'software for sale' listing - it is now live! We know that form was lengthy and time consuming and we appreciate your patience - here's some confetti for 20 SECONDS!`, 'Ready to REVIEW & POST!', 7000);\n\n                setTimeout(() => {\n                    changeSetRunConfettiState(false);\n                    setShowConfettiStatus(false);\n                },  20000);\n            }\n        } else {\n            console.log(\"isFirstRender conditional SUBSEQUENT RUN.\");\n            // change progress to represent appropriate current state\n            setProgress(calculateProgressPercentage(currentPage));\n\n            if (currentPage === 5) {\n                // START DISPLAYING confetti component\n                setShowConfettiStatus(true);\n                // notify user of confetti and how long it'll stay displaying\n                NotificationManager.info(`You've SUCCESSFULLY created & posted a new 'software for sale' listing - it is now live! We know that form was lengthy and time consuming and we appreciate your patience - here's some confetti for 20 SECONDS!`, 'Ready to REVIEW & POST!', 7000);\n\n                setTimeout(() => {\n                    changeSetRunConfettiState(false);\n                    setShowConfettiStatus(false);\n                },  20000);\n            }\n        }\n    }, [currentPage]);\n    \n    // create window height/width sizes for confetti component\n    const { width, height } = useWindowSize();\n\n    const closeModalAndRestartForm = (onClose) => {\n        console.log(\"closeModalAndRestartForm ran.\");\n\n        onClose();\n\n        saveSoftwareListingInfo({\n            currentPage: 1\n        })\n    }\n    const promptConfirmationWindowSelection = () => {\n        confirmAlert({\n            customUI: ({ onClose }) => {\n                return (\n                    <Fragment>\n                        <Card>\n                            <CardHeader className=\"b-l-primary border-3 specific-edit-border-right\">\n                                <h3>Are you sure you'd like to CANCEL & RESTART this form?</h3>\n                            </CardHeader>\n                            <CardBody id=\"modal-button-showcase-cardbody\" className=\"btn-group-showcase\">\n                                <Row>\n                                    <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                                        <p className=\"button-group-text-above\">Are you sure you'd like to restart this form? You will lose ALL previous entries & and logic previously entered. You will be returned to PAGE ONE (20%) so you can continue with your re-entries...</p>\n                                    </Col>\n                                    <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                                        <hr className=\"secondary-hr\" />\n                                        <div className=\"centered-button-container\">\n                                            <ButtonGroup id=\"button-group-custom-secondary\">\n                                                <Button outline color=\"danger\" onClick={onClose}>Cancel/Close</Button>\n                                                <Button outline color=\"success\" onClick={() => {\n                                                    closeModalAndRestartForm(onClose);\n                                                }}>RESTART</Button>\n                                            </ButtonGroup>\n                                        </div>\n                                    </Col>\n                                </Row>\n                            </CardBody>\n                        </Card>\n                    </Fragment>\n              );\n            }\n        });\n    }\n    const restartFormStatusProcess = () => {\n        console.log(\"restartFormStatusProcess ran...!\");\n\n        saveSoftwareListingInfo({\n            currentPage: 1\n        })\n    }\n    const renderTopBar = () => {\n        if (currentPage !== 5) {\n            return (\n                <Fragment>\n                    <h5>Create a <strong style={{ color: \"blue\" }}>software</strong> listing - post a code snippet, malware, viruses, etc...</h5>\n                    <p>We are <em style={{ color: \"red\", textDecorationLine: \"underline\" }}>NOT</em> in any shape or form responsible if you use these codes/programs in a malicious manner AND any suspicious activity or reports <strong style={{ textDecorationLine: \"underline\", color: \"red\" }}>WILL</strong> be throughly investigated & reported to the appropriate authorities.</p>\n                    <hr />\n                        {currentPage !== 1 ? <div className=\"centered-both-ways\">\n                            <Button className=\"btn-air-danger\" color=\"danger\" style={{ width: \"65%\" }} onClick={() => {\n                                // cancel & restart\n                                promptConfirmationWindowSelection();\n                            }}>~ Cancel & Restart Form Entries ~</Button>\n                        </div> : null}\n                    <hr />\n                    <p className=\"spacer-paragraph\">In order to post a listing to sell or trade digital software related content, you will need to complete the following <strong>multi-page</strong> form to completion & your listing/item will be immediately posted shortly thereafter!</p>\n                    <div className=\"push-bottom-progress-bar\">\n                        <div className=\"position-middle-bar-div\">\n                            <h4 id=\"progress-text-centered\">{`${progress}% Completed (Create-listing flow ${progress === 80 ? \"- last page - review\" : \"\"})`}</h4>\n                        </div>\n                        <Progress className=\"reactstrap-progress-bar-custom\" animated color=\"secondary\" value={progress} />\n                    </div>\n                </Fragment>\n            );\n        } else if (currentPage === 5) {\n            return (\n                <Fragment>\n                    <Button className=\"btn-air-success\" color=\"success\" style={{ width: \"100%\" }} onClick={() => {\n                        // cancel & restart\n                        restartFormStatusProcess();\n                    }}>~ Post another listing & restart process! ~</Button>\n                </Fragment>\n            );\n        }\n    }\n    // MAIN logic below... (returning majority of data)\n    return (\n        <div>\n            <LoadingBar\n                color='#f73164'\n                height={8}\n                className={\"create-listing-software-loadbar\"}\n                progress={progress}\n                containerClassName={\"container-create-listing-software-loadbar\"}\n                loaderSpeed={3500}\n                onLoaderFinished={() => {\n                    setProgress(0);\n                }}\n            />\n            {showConfetti === true ? <Confetti\n                width={width}\n                height={height}\n                className={\"confetti-custom-styles\"}\n                wind={0.0125}\n                gravity={0.075}\n                numberOfPieces={500}\n                run={runConfettiState}\n                onConfettiComplete={handleConfettiCompletion}\n                recycle={true}\n            /> : null}\n            <Breadcrumb parent=\"Software (digital assets) Marketplace\" title=\"Create a listing to sell software/code\"/>\n            <Container style={{ marginBottom: \"225px\" }} className=\"full-height-container\" fluid={true}>\n                <Row>\n                    <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                        <Card id=\"over-extend-height-main-container\" className=\"full-height-container\">\n                            <CardHeader>\n                                {renderTopBar()}\n                            </CardHeader>\n                            <CardBody className=\"full-height-cardbody-extra\">\n                                {renderConditionalPageContent()}\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n        </div>\n    )\n}\nconst mapStateToProps = (state) => {\n    console.log(\"State in 'createNewListing.js'\", state);\n\n    return {\n        currentPage: _.has(state.softwareListingSale, \"softwareListingSaleInfo\") && Object.keys(state.softwareListingSale.softwareListingSaleInfo).length > 0 ? state.softwareListingSale.softwareListingSaleInfo.currentPage : 1\n    }\n}\nexport default connect(mapStateToProps, { saveSoftwareListingInfo })(CreateNewSoftwareListingHelper);"]},"metadata":{},"sourceType":"module"}