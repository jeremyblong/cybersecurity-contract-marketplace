{"ast":null,"code":"var _jsxFileName = \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/people/hackers/individualProfile/timelineTab.jsx\";\nimport React, { Fragment, useState, useEffect } from 'react';\nimport { Row, Col, Card, CardBody, Button } from 'reactstrap';\nimport LeftBar from './bars/leftBar.jsx';\nimport RightBar from './bars/rightBar.jsx';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\nimport { connect } from \"react-redux\";\nimport { useHistory } from 'react-router-dom';\nimport helpers from \"./helpers/misc/index.js\";\nimport ViewPostFileContentHelper from \"./helpers/viewPostFileContents/viewContent.js\";\nimport _ from \"lodash\";\nimport uuid from 'react-uuid';\nimport VideoInvitePaneInviteHackerHelper from \"./helpers/sheets/videoInvite/videoInvitePane.js\";\nconst {\n  TimelinePostsMappedHelper\n} = helpers;\n\nconst TimelineTab = _ref => {\n  let {\n    user,\n    onCloseModal,\n    isOpen,\n    onOpenModal,\n    setSelectedCurrently,\n    setSelectedModalIndex,\n    modalIndexSelected,\n    userData\n  } = _ref;\n  const history = useHistory(); // console.log(\"MY USER:\", user);\n\n  const [popover, setPopoverState] = useState({});\n  const [isPostPaneOpen, setPostPaneOpenState] = useState(false);\n  const [selectedPost, setSelectedPost] = useState(null);\n  const [videoInterviewPane, setVideoInterviewStartPane] = useState(false);\n  const [selectedIndex, setSelectedIndex] = useState(0);\n  const [comments, setCommentsState] = useState([]);\n  const [profilePosts, setProfilePosts] = useState([]); // render ONLY ONCE\n\n  useEffect(() => {\n    setPopoverState(() => {\n      const newObjCount = {};\n      const posts = user.profilePosts; // reassign state items in preperation for future state changes...\n\n      for (const keyyy in posts) {\n        newObjCount[`post${keyyy}`] = false;\n      }\n\n      return newObjCount;\n    });\n    setProfilePosts(user.profilePosts);\n  }, []);\n\n  const postNewContentStart = () => {\n    console.log(\"postNewContentStart clicked/ran.\");\n    history.push(\"/create/new/post/hacker/profile/main/data\");\n  };\n\n  const countReactions = reactions => {\n    let count = 0;\n\n    for (const key in reactions) {\n      const el = reactions[key];\n      count += el;\n    }\n\n    return count;\n  };\n\n  const renderConditionalContent = () => {\n    if (user !== null) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 17\n        }\n      }, selectedPost !== null ? /*#__PURE__*/React.createElement(ViewPostFileContentHelper, {\n        setProfilePosts: setProfilePosts,\n        comments: selectedPost.comments,\n        setCommentsState: setCommentsState,\n        setSelectedPost: setSelectedPost,\n        setSelectedIndex: setSelectedIndex,\n        selectedIndex: selectedIndex,\n        userData: userData,\n        user: user,\n        selectedPost: selectedPost,\n        isPostPaneOpen: isPostPaneOpen,\n        setPostPaneOpenState: setPostPaneOpenState,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 46\n        }\n      }) : null, /*#__PURE__*/React.createElement(Col, {\n        xl: \"3 xl-40 box-col-4\",\n        lg: \"12\",\n        md: \"5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"default-according style-1 faq-accordion job-accordion\",\n        id: \"accordionoc4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(LeftBar, {\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 33\n        }\n      })))), /*#__PURE__*/React.createElement(Col, {\n        xl: \"6 xl-60 box-col-8\",\n        lg: \"12\",\n        md: \"7\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }\n      }, user.uniqueId === userData.uniqueId ? /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 64\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(CardBody, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"h4\", {\n        className: \"poster-image-video-content-header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 37\n        }\n      }, \"Upload a new post and/or content to your main feed!\"), /*#__PURE__*/React.createElement(\"p\", {\n        className: \"posting-sub-header-new-content\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 37\n        }\n      }, \"This can be \", /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 97\n        }\n      }, \"ANYTHING\"), \" from images to videos to educational content to general updates (ONLY you can see this portion of content)...\"), /*#__PURE__*/React.createElement(\"hr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 37\n        }\n      }), /*#__PURE__*/React.createElement(Button, {\n        onClick: postNewContentStart,\n        style: {\n          width: \"100%\"\n        },\n        outline: true,\n        color: \"info\",\n        className: \"btn-square-info text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"fa fa-follow m-r-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 164\n        }\n      }), \"Post New Content!\")))) : null, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 25\n        }\n      }, typeof profilePosts !== \"undefined\" && profilePosts.length > 0 ? profilePosts.map((post, index) => {\n        const popoverIDTarget = `post${index}`;\n        return /*#__PURE__*/React.createElement(TimelinePostsMappedHelper, {\n          key: `${post.uniqueId}-${countReactions(post.reactions)}-${post.comments.length}`,\n          setProfilePosts: setProfilePosts,\n          comments: post.comments,\n          setCommentsState: setCommentsState,\n          setSelectedIndex: setSelectedIndex,\n          selectedIndex: selectedIndex,\n          isPostPaneOpen: isPostPaneOpen,\n          setPostPaneOpenState: setPostPaneOpenState,\n          setSelectedPost: setSelectedPost,\n          user: user,\n          setPopoverState: setPopoverState,\n          popoverIDTarget: popoverIDTarget,\n          popover: popover,\n          userData: userData,\n          index: `${post.uniqueId}-${countReactions(post.reactions)}-${post.comments.length}`,\n          post: post,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 40\n          }\n        });\n      }) : /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 34\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        style: {\n          marginBottom: \"17.5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require(\"../../../../../assets/images/boxbg.jpg\"),\n        className: \"maxed-both-ways-not-found\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 73\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        style: {\n          marginBottom: \"17.5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require(\"../../../../../assets/images/boxbg.jpg\"),\n        className: \"maxed-both-ways-not-found\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 73\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        style: {\n          marginBottom: \"17.5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require(\"../../../../../assets/images/boxbg.jpg\"),\n        className: \"maxed-both-ways-not-found\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 73\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        style: {\n          marginBottom: \"17.5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require(\"../../../../../assets/images/boxbg.jpg\"),\n        className: \"maxed-both-ways-not-found\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 73\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        style: {\n          marginBottom: \"17.5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require(\"../../../../../assets/images/boxbg.jpg\"),\n        className: \"maxed-both-ways-not-found\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 73\n        }\n      })), /*#__PURE__*/React.createElement(Row, {\n        style: {\n          marginBottom: \"17.5px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(\"img\", {\n        src: require(\"../../../../../assets/images/boxbg.jpg\"),\n        className: \"maxed-both-ways-not-found\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 73\n        }\n      }))))), /*#__PURE__*/React.createElement(Col, {\n        xl: \"3 xl-100 box-col-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"default-according style-1 faq-accordion job-accordion\",\n        id: \"accordionoc1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Row, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(RightBar, {\n        modalIndexSelected: modalIndexSelected,\n        setSelectedModalIndex: setSelectedModalIndex,\n        setSelectedCurrently: setSelectedCurrently,\n        onOpenModal: onOpenModal,\n        isOpen: isOpen,\n        onCloseModal: onCloseModal,\n        user: user,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 33\n        }\n      })))));\n    } else {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(SkeletonTheme, {\n        baseColor: \"#c9c9c9\",\n        highlightColor: \"#444\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        count: 60,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 29\n        }\n      }))));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(VideoInvitePaneInviteHackerHelper, {\n    videoInterviewPane: videoInterviewPane,\n    setVideoInterviewStartPane: setVideoInterviewStartPane,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }), renderConditionalContent()));\n};\n\nconst mapStateToProps = state => {\n  return {\n    userData: state.auth.data\n  };\n};\n\nexport default connect(mapStateToProps, {})(TimelineTab);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/people/hackers/individualProfile/timelineTab.jsx"],"names":["React","Fragment","useState","useEffect","Row","Col","Card","CardBody","Button","LeftBar","RightBar","Skeleton","SkeletonTheme","connect","useHistory","helpers","ViewPostFileContentHelper","_","uuid","VideoInvitePaneInviteHackerHelper","TimelinePostsMappedHelper","TimelineTab","user","onCloseModal","isOpen","onOpenModal","setSelectedCurrently","setSelectedModalIndex","modalIndexSelected","userData","history","popover","setPopoverState","isPostPaneOpen","setPostPaneOpenState","selectedPost","setSelectedPost","videoInterviewPane","setVideoInterviewStartPane","selectedIndex","setSelectedIndex","comments","setCommentsState","profilePosts","setProfilePosts","newObjCount","posts","keyyy","postNewContentStart","console","log","push","countReactions","reactions","count","key","el","renderConditionalContent","uniqueId","width","length","map","post","index","popoverIDTarget","marginBottom","require","mapStateToProps","state","auth","data"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect } from 'react';\nimport { Row, Col, Card, CardBody, Button } from 'reactstrap';\nimport LeftBar from './bars/leftBar.jsx';\nimport RightBar from './bars/rightBar.jsx';\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\nimport { connect } from \"react-redux\";\nimport { useHistory } from 'react-router-dom';\nimport helpers from \"./helpers/misc/index.js\";\nimport ViewPostFileContentHelper from \"./helpers/viewPostFileContents/viewContent.js\";\nimport _ from \"lodash\";\nimport uuid from 'react-uuid';\nimport VideoInvitePaneInviteHackerHelper from \"./helpers/sheets/videoInvite/videoInvitePane.js\";\n\nconst { TimelinePostsMappedHelper } = helpers;\n\nconst TimelineTab = ({ user, onCloseModal, isOpen, onOpenModal, setSelectedCurrently, setSelectedModalIndex, modalIndexSelected, userData }) => {\n\n    const history = useHistory();\n\n    // console.log(\"MY USER:\", user);\n\n    const [ popover, setPopoverState ] = useState({}); \n    const [ isPostPaneOpen, setPostPaneOpenState ] = useState(false);\n    const [ selectedPost, setSelectedPost ] = useState(null);\n    const [ videoInterviewPane, setVideoInterviewStartPane ] = useState(false);\n    const [ selectedIndex, setSelectedIndex ] = useState(0);\n    const [ comments, setCommentsState ] = useState([]);\n    const [ profilePosts, setProfilePosts ] = useState([]);\n\n    // render ONLY ONCE\n    useEffect(() => {\n        setPopoverState(() => {\n            const newObjCount = {};\n            const posts = user.profilePosts;\n            // reassign state items in preperation for future state changes...\n            for (const keyyy in posts) {\n                newObjCount[`post${keyyy}`] = false;\n            }\n            return newObjCount;\n        })\n        setProfilePosts(user.profilePosts);\n    }, []);\n\n    const postNewContentStart = () => {\n        console.log(\"postNewContentStart clicked/ran.\");\n\n        history.push(\"/create/new/post/hacker/profile/main/data\");\n    }\n    const countReactions = (reactions) => {\n        let count = 0;\n        for (const key in reactions) {\n            const el = reactions[key];\n            count += el;\n        }\n        return count;\n    }\n    const renderConditionalContent = () => {\n        if (user !== null) {\n            return (\n                <Fragment>\n                    {selectedPost !== null ? <ViewPostFileContentHelper setProfilePosts={setProfilePosts} comments={selectedPost.comments} setCommentsState={setCommentsState} setSelectedPost={setSelectedPost} setSelectedIndex={setSelectedIndex} selectedIndex={selectedIndex} userData={userData} user={user} selectedPost={selectedPost} isPostPaneOpen={isPostPaneOpen} setPostPaneOpenState={setPostPaneOpenState} /> : null}\n                    <Col xl=\"3 xl-40 box-col-4\" lg=\"12\" md=\"5\">\n                        <div className=\"default-according style-1 faq-accordion job-accordion\" id=\"accordionoc4\">\n                            <Row>\n                                <LeftBar user={user} />\n                            </Row>\n                        </div>\n                    </Col>\n                    <Col xl=\"6 xl-60 box-col-8\" lg=\"12\" md=\"7\">\n                        {user.uniqueId === userData.uniqueId ? <Row>\n                            <Card>\n                                <CardBody>\n                                    <h4 className={\"poster-image-video-content-header\"}>Upload a new post and/or content to your main feed!</h4>\n                                    <p className={\"posting-sub-header-new-content\"}>This can be <strong>ANYTHING</strong> from images to videos to educational content to general updates (ONLY you can see this portion of content)...</p>\n                                    <hr />\n                                    <Button onClick={postNewContentStart} style={{ width: \"100%\" }} outline color={\"info\"} className=\"btn-square-info text-center\"><i className=\"fa fa-follow m-r-5\"></i>Post New Content!</Button>\n                                </CardBody>\n                            </Card>\n                        </Row> : null}\n                        <Row>\n                            {typeof profilePosts !== \"undefined\" && profilePosts.length > 0 ? profilePosts.map((post, index) => {\n                                const popoverIDTarget = `post${index}`;\n                                return <TimelinePostsMappedHelper key={`${post.uniqueId}-${countReactions(post.reactions)}-${post.comments.length}`} setProfilePosts={setProfilePosts} comments={post.comments} setCommentsState={setCommentsState} setSelectedIndex={setSelectedIndex} selectedIndex={selectedIndex} isPostPaneOpen={isPostPaneOpen} setPostPaneOpenState={setPostPaneOpenState} setSelectedPost={setSelectedPost} user={user} setPopoverState={setPopoverState} popoverIDTarget={popoverIDTarget} popover={popover} userData={userData} index={`${post.uniqueId}-${countReactions(post.reactions)}-${post.comments.length}`} post={post} />;\n                            }) : <Fragment>\n                                <Row style={{ marginBottom: \"17.5px\" }}><img src={require(\"../../../../../assets/images/boxbg.jpg\")} className={\"maxed-both-ways-not-found\"} /></Row>\n                                <Row style={{ marginBottom: \"17.5px\" }}><img src={require(\"../../../../../assets/images/boxbg.jpg\")} className={\"maxed-both-ways-not-found\"} /></Row>\n                                <Row style={{ marginBottom: \"17.5px\" }}><img src={require(\"../../../../../assets/images/boxbg.jpg\")} className={\"maxed-both-ways-not-found\"} /></Row>\n                                <Row style={{ marginBottom: \"17.5px\" }}><img src={require(\"../../../../../assets/images/boxbg.jpg\")} className={\"maxed-both-ways-not-found\"} /></Row>\n                                <Row style={{ marginBottom: \"17.5px\" }}><img src={require(\"../../../../../assets/images/boxbg.jpg\")} className={\"maxed-both-ways-not-found\"} /></Row>\n                                <Row style={{ marginBottom: \"17.5px\" }}><img src={require(\"../../../../../assets/images/boxbg.jpg\")} className={\"maxed-both-ways-not-found\"} /></Row>\n                            </Fragment>}\n                        </Row>\n                    </Col>\n                    <Col xl=\"3 xl-100 box-col-12\">\n                        <div className=\"default-according style-1 faq-accordion job-accordion\" id=\"accordionoc1\">\n                            <Row>\n                                <RightBar modalIndexSelected={modalIndexSelected} setSelectedModalIndex={setSelectedModalIndex} setSelectedCurrently={setSelectedCurrently} onOpenModal={onOpenModal} isOpen={isOpen} onCloseModal={onCloseModal} user={user} />\n                            </Row>\n                        </div>\n                    </Col>\n                </Fragment>\n            );\n        } else {\n            return (\n                <Fragment>\n                    <SkeletonTheme baseColor=\"#c9c9c9\" highlightColor=\"#444\">\n                        <p>\n                            <Skeleton count={60} />\n                        </p>\n                    </SkeletonTheme>\n                </Fragment>\n            );\n        }\n    }\n    return (\n        <Fragment>\n            <Row>\n                <VideoInvitePaneInviteHackerHelper videoInterviewPane={videoInterviewPane} setVideoInterviewStartPane={setVideoInterviewStartPane} />\n                {renderConditionalContent()}\n            </Row>\n        </Fragment>\n    );\n};\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data\n    }\n}\nexport default connect(mapStateToProps, {})(TimelineTab);"]},"metadata":{},"sourceType":"module"}