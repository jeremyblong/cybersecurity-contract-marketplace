{"ast":null,"code":"import React,{Fragment,Component}from'react';import Breadcrumb from'../../../../../../layout/breadcrumb';import{Container,Row,Col,Card,CardHeader,Media,CardBody,Button,Form,Popover,PopoverBody,PopoverHeader}from'reactstrap';import{withRouter}from\"react-router-dom\";import{renderProfilePicVideo}from\"./helpers/miscFunctions/index.js\";import axios from\"axios\";import{NotificationManager}from'react-notifications';import Sheet from'react-modal-sheet';import Dropzone from'react-dropzone-uploader';import\"./styles.css\";import ReactCrop from'react-image-crop';import{confirmAlert}from'react-confirm-alert';import{getCroppedImg}from\"./helpers/croppingBannerImage/getCroppedImage.js\";import{connect}from\"react-redux\";import _ from\"lodash\";import Skeleton,{SkeletonTheme}from'react-loading-skeleton';import moment from'moment';class PersonalProfileDetailsMainHelper extends Component{constructor(props){super(props);this.handleVerificationRedirect=e=>{e.preventDefault();console.log(\"handle redirect verification link\");this.props.history.push(\"/start/verification/flow\");};this.getUploadParams=_ref=>{let{meta}=_ref;return{url:'https://httpbin.org/post'};};this.handleChangeStatus=(_ref2,status)=>{let{meta,file}=_ref2;console.log(\"collected - : \",meta,file,status);if(status===\"done\"){if(meta.height>=2500&&meta.width>=3000){this.setState({file:URL.createObjectURL(file),unmodifiedFile:file,errorUpload:\"\"});}else{this.setState({errorUpload:\"Please select another photo that meets the minimum dimension requirements. Remove the pending 'preview' image previously uploaded to select another more appropriate file for a better quality final image.\"},()=>{NotificationManager.warning(\"Error ~ Your photo/image MUST be at least 3000px by 2500px (width by height) - please select a file that meets these conditions...\",'Image size is too small!',4500);});}}else if(status===\"removed\"){this.setState({file:null,unmodifiedFile:null,errorUpload:\"\"});}};this.getBase64=(file,cb)=>{let reader=new FileReader();reader.readAsDataURL(file);reader.onload=()=>{cb(reader.result);};reader.onerror=error=>{console.log('Error: ',error);};};this.handleBannerFinalSelectionUpload=async()=>{console.log(\"handleBannerFinalSelectionUpload ran!\");const{aspect,unmodifiedFile,file}=this.state;const handleCompletionChunk=croppedImg=>{axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/upload/banner/photo/hacker/profile\"),{base64:croppedImg,uniqueId:this.props.userData.uniqueId,contentType:unmodifiedFile.type,filename:unmodifiedFile.name}).then(res=>{if(res.data.message===\"Successfully uploaded content!\"){console.log(res.data);const{generatedID,file}=res.data;this.setState({data:{...this.state.data,profileBannerImage:file},isOpen:false},()=>{NotificationManager.success(\"We've successfully uploaded & updated your profile banner photo - it is now live/public!\",'Banner photo uploaded!',4500);});}else{console.log(\"err\",res.data);NotificationManager.danger(\"An error occurred while attempting to upload your banner photo - please try again or contact support if the problem persists...\",'Failure occurred uploading banner!',4500);}}).catch(err=>{console.log(err);});};const img=new Image();img.onload=()=>{console.log(\"loaded :) !\");const croppedImg=getCroppedImg(img,aspect,unmodifiedFile.type);console.log(\"croppedImg : \",croppedImg);handleCompletionChunk(croppedImg);};img.onerror=err=>{console.log(\"err\",err);};this.getBase64(unmodifiedFile,result=>{console.log(\"getBase64 ran...\");img.src=result;});};this.initializeConfirmation=()=>{confirmAlert({title:'Confirm cropped area/region',message:'Are you happy with the selected region/area that was cropped or would you like to make an edit?',buttons:[{label:\"Yes, it's fine!\",onClick:()=>{console.log(\"yes.\");this.handleBannerFinalSelectionUpload();}},{label:'No, Re-crop!',onClick:()=>{console.log(\"No.\");}}],overlayClassName:\"overlay-superiority\"});};this.onImageLoaded=image=>{this.setState({aspect:{width:this.state.currentWidth,height:this.state.currentHeight},submissionButton:true});return false;};this.handleBasicInfoModificationRedirect=()=>{console.log(\"handleBasicInfoModificationRedirect ran!\");this.setState({popoverOpen:false},()=>{this.props.history.push(\"/profile/settings/edit\");});};this.state={aspect:16/9,file:null,unmodifiedFile:null,submissionButton:false,currentHeight:550,currentWidth:800,progress:0,data:null,isOpen:false,errorUpload:\"\",popoverOpen:false,location:null};}componentDidMount(){axios.get(\"\".concat(process.env.REACT_APP_BASE_URL,\"/gather/general/user/data\"),{params:{id:this.props.userData.uniqueId,accountType:\"hackers\"}}).then(res=>{if(res.data.message===\"Gathered user!\"){console.log(res.data);const{user}=res.data;if(_.has(user,\"userLatestLocation\")){axios.get(\"https://api.tomtom.com/search/2/reverseGeocode/\".concat(encodeURIComponent(user.userLatestLocation.latitude),\",\").concat(encodeURIComponent(user.userLatestLocation.longitude),\".json?key=\").concat(process.env.REACT_APP_TOMTOM_API_KEY,\"&countrySet=US\")).then(res=>{if(res.data){console.log(\"res.data\",res.data);const{addresses}=res.data;this.setState({location:addresses[0].address.municipality,data:user});}}).catch(err=>{console.log(err);});}else{this.setState({data:user});}}else{console.log(\"err\",res.data);}}).catch(err=>{console.log(err);});}render(){const{aspect,file,submissionButton,data,errorUpload}=this.state;console.log(\"user data!\",data);return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Profile data\",title:\"Hacker Profile\"}),/*#__PURE__*/React.createElement(Sheet,{disableDrag:true,isOpen:this.state.isOpen,onClose:()=>{this.setState({isOpen:false});}},/*#__PURE__*/React.createElement(Sheet.Container,null,/*#__PURE__*/React.createElement(Sheet.Header,null,/*#__PURE__*/React.createElement(\"div\",{className:\"header-space-edges\"},/*#__PURE__*/React.createElement(Button,{onClick:()=>{this.setState({file:null,isOpen:false});},style:{width:\"100%\"},color:\"secondary\"},\"Close/Exit Pane\"))),/*#__PURE__*/React.createElement(Sheet.Content,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\",lg:\"12\",xl:\"12\",sm:\"12\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"h5\",null,\"Upload New Banner Photo (Single-File)\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(Form,null,/*#__PURE__*/React.createElement(\"div\",{className:\"dz-message needsclick\"},typeof errorUpload!==\"undefined\"&&errorUpload.length>0?/*#__PURE__*/React.createElement(\"p\",{className:\"lead text-left\",style:{color:\"darkred\"}},errorUpload):null,/*#__PURE__*/React.createElement(Dropzone,{getUploadParams:this.getUploadParams,onChangeStatus:this.handleChangeStatus,maxFiles:1,multiple:false,canCancel:false,accept:\"image/*\",inputContent:\"Drop A File (ONLY Images Accepted)\",styles:{dropzone:{height:325},dropzoneActive:{borderColor:'green'}}}))),file!==null?/*#__PURE__*/React.createElement(\"div\",{className:\"lower-crop-container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"lower-crop-container-inner\"},/*#__PURE__*/React.createElement(\"p\",{className:\"crop-helper-text\"},\"Please crop your image before continuing with the upload process. Note: The minimum dimensions for cropped images are \",this.state.currentWidth,\"px by \",this.state.currentHeight,\"px (Width/Height) - crops will only work when the selected region has enough room to span the entire width (left to right) of the \\\"default crop box\\\"\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"center-selected-content\"},submissionButton===true?/*#__PURE__*/React.createElement(Button,{onClick:()=>{this.initializeConfirmation();},style:{width:\"100%\"},color:\"primary\"},\"Confirm Cropped Image & Upload\"):null,/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(ReactCrop,{onImageLoaded:this.onImageLoaded,imageStyle:{border:\"2px solid black\"},minWidth:this.state.currentWidth,minHeight:this.state.currentHeight,src:file,crop:aspect,onChange:newCrop=>{this.setState({aspect:newCrop});}})))):null)))))),/*#__PURE__*/React.createElement(Sheet.Backdrop,null)),/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(Card,{className:\"card hovercard text-center\"},/*#__PURE__*/React.createElement(CardHeader,{id:\"override-cardheader\"},_.has(data,\"profileBannerImage\")?/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(process.env.REACT_APP_ASSET_LINK,\"/\").concat(data.profileBannerImage.link),id:\"banner-photo-cover-all\"}):/*#__PURE__*/React.createElement(\"img\",{src:require('../../../../../../assets/images/banner/2.jpg'),id:\"banner-photo-cover-all\"}),/*#__PURE__*/React.createElement(\"img\",{src:require('../../../../../../assets/icons/edit-image.png'),onClick:()=>{this.setState({isOpen:true});},className:\"absolute-img-top-right\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"user-image\"},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar\"},renderProfilePicVideo(data!==null&&typeof data.profilePicsVideos!==\"undefined\"&&data.profilePicsVideos.length>0?data.profilePicsVideos:null)),/*#__PURE__*/React.createElement(\"div\",{id:\"Popover1\",onClick:()=>{this.setState({popoverOpen:true});},className:\"icon-wrapper\",\"data-intro\":\"Change Profile image here\"},/*#__PURE__*/React.createElement(\"i\",{className:\"icofont icofont-pencil-alt-5\"},/*#__PURE__*/React.createElement(Popover,{placement:\"bottom\",isOpen:this.state.popoverOpen,target:\"Popover1\",toggle:()=>{this.setState({popoverOpen:!this.state.popoverOpen});}},/*#__PURE__*/React.createElement(PopoverHeader,null,\"Update Profile Picture?\"),/*#__PURE__*/React.createElement(PopoverBody,null,\"Would you like to update your profile pic and/or basic profile information? The button below will redirect you appropriately if choose to.\",/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Button,{style:{width:\"100%\"},onClick:this.handleBasicInfoModificationRedirect,color:\"secondary\"},\"Redirect Me!\")))))),/*#__PURE__*/React.createElement(\"div\",{className:\"info\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"6\",lg:\"4\",className:\"order-sm-1 order-xl-0\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ttl-info text-left\"},/*#__PURE__*/React.createElement(\"h6\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-envelope mr-2\"}),\" Email Address\"),/*#__PURE__*/React.createElement(\"span\",null,data!==null?data.email:\"Loading/Not-Available\"))),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ttl-info text-left ttl-sm-mb-0\"},/*#__PURE__*/React.createElement(\"h6\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-calendar\"}),\"  Date Of Birth\"),/*#__PURE__*/React.createElement(\"span\",null,_.has(data,\"birthdate\")?moment(data.birthdate).format(\"MM/DD/YYYY\"):\"Loading/Not-Available\"))))),/*#__PURE__*/React.createElement(Col,{sm:\"12\",lg:\"4\",className:\"order-sm-0 order-xl-1\"},/*#__PURE__*/React.createElement(\"div\",{className:\"user-designation\"},/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},/*#__PURE__*/React.createElement(\"a\",{target:\"_blank\",href:null},data!==null?\"\".concat(data.firstName,\" \").concat(data.lastName):\"Loading/Not-Available\")),/*#__PURE__*/React.createElement(\"div\",{className:\"desc mt-2\"},data!==null?data.accountType===\"hackers\"?\"Hacker Account\":\"Employer Account\":\"Loading/Not-Available\"))),/*#__PURE__*/React.createElement(Col,{sm:\"6\",lg:\"4\",className:\"order-sm-2 order-xl-2\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ttl-info text-left ttl-xs-mt\"},/*#__PURE__*/React.createElement(\"h6\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-phone\"}),\"  Contact Number (*Private*)\"),/*#__PURE__*/React.createElement(\"span\",null,data!==null?data.phoneNumber:\"Loading/Not-Available\"))),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"ttl-info text-left ttl-sm-mb-0\"},/*#__PURE__*/React.createElement(\"h6\",null,/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-location-arrow\"}),\"  Approx. Location\"),/*#__PURE__*/React.createElement(\"span\",null,this.state.location!==null?this.state.location:\"Loading/Not-Available\")))))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",{className:\"social-media step4\",\"data-intro\":\"This is your Social details\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"list-inline\"},/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:null},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-facebook\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:null},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-google-plus\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:null},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-twitter\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:null},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-instagram\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"list-inline-item\"},/*#__PURE__*/React.createElement(\"a\",{href:null},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-rss\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"follow\"},/*#__PURE__*/React.createElement(Row,null,data!==null?/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Col,{col:\"6\",className:\"text-md-right border-right\"},/*#__PURE__*/React.createElement(\"div\",{className:\"follow-num counter\"},data.followingHackers.length+data.followingCompanies.length),/*#__PURE__*/React.createElement(\"span\",null,\"Total Follow(ing)\")),/*#__PURE__*/React.createElement(Col,{col:\"6\",className:\"text-md-left\"},/*#__PURE__*/React.createElement(\"div\",{className:\"follow-num counter\"},data.currentlyFollowedBy.length),/*#__PURE__*/React.createElement(\"span\",null,\"Total Follower(s)\"))):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(SkeletonTheme,{baseColor:\"#c9c9c9\",highlightColor:\"#444\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(Skeleton,{count:20}))))))))))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"6\",xl:\"6\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{className:\"b-l-primary border-3\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Account Verification\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"p\",null,\"Verify your account to show employer's you're safe to hire & serious about your duties/responsibilities on this platform. We recommend employer's to \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"blue\"}},\"NOT\"),\" hire hacker's with accounts that are in primarily an \",/*#__PURE__*/React.createElement(\"em\",{style:{color:\"blue\"}},\"\\\"un-verified\\\"\"),\" state.\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Button,{style:{width:\"100%\"},onClick:this.handleVerificationRedirect,color:\"secondary\"},\"Start Verification!\")))),/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"12\",lg:\"6\",xl:\"6\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,{className:\"b-l-primary border-3\"},/*#__PURE__*/React.createElement(\"h5\",null,\"Would you like to 'modify' your \",/*#__PURE__*/React.createElement(\"strong\",null,\"core\"),\" account data/information?\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"p\",null,\"You will need to select the button below to 'redirect' to the appropriate page to make the required/preferred changes to your own personal account..\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Button,{style:{width:\"100%\"},onClick:()=>{this.props.history.push(\"/profile/settings/edit\");},className:\"btn-square-success\",outline:true,color:\"success-2x\"},\"Redirect & Modify 'Core' Profile Information\")))))));}}const mapStateToProps=state=>{return{userData:state.auth.data};};export default connect(mapStateToProps,{})(withRouter(PersonalProfileDetailsMainHelper));","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/profile/hacker/view/generalDetails/personalProfileDetails.js"],"names":["React","Fragment","Component","Breadcrumb","Container","Row","Col","Card","CardHeader","Media","CardBody","Button","Form","Popover","PopoverBody","PopoverHeader","withRouter","renderProfilePicVideo","axios","NotificationManager","Sheet","Dropzone","ReactCrop","confirmAlert","getCroppedImg","connect","_","Skeleton","SkeletonTheme","moment","PersonalProfileDetailsMainHelper","constructor","props","handleVerificationRedirect","e","preventDefault","console","log","history","push","getUploadParams","meta","url","handleChangeStatus","status","file","height","width","setState","URL","createObjectURL","unmodifiedFile","errorUpload","warning","getBase64","cb","reader","FileReader","readAsDataURL","onload","result","onerror","error","handleBannerFinalSelectionUpload","aspect","state","handleCompletionChunk","croppedImg","post","process","env","REACT_APP_BASE_URL","base64","uniqueId","userData","contentType","type","filename","name","then","res","data","message","generatedID","profileBannerImage","isOpen","success","danger","catch","err","img","Image","src","initializeConfirmation","title","buttons","label","onClick","overlayClassName","onImageLoaded","image","currentWidth","currentHeight","submissionButton","handleBasicInfoModificationRedirect","popoverOpen","progress","location","componentDidMount","get","params","id","accountType","user","has","encodeURIComponent","userLatestLocation","latitude","longitude","REACT_APP_TOMTOM_API_KEY","addresses","address","municipality","render","length","color","dropzone","dropzoneActive","borderColor","border","newCrop","REACT_APP_ASSET_LINK","link","require","profilePicsVideos","email","birthdate","format","firstName","lastName","phoneNumber","followingHackers","followingCompanies","currentlyFollowedBy","mapStateToProps","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, Component } from 'react';\nimport Breadcrumb from '../../../../../../layout/breadcrumb';\nimport { Container, Row, Col, Card, CardHeader, Media, CardBody, Button, Form, Popover, PopoverBody, PopoverHeader } from 'reactstrap';\nimport { withRouter } from \"react-router-dom\";\nimport { renderProfilePicVideo } from \"./helpers/miscFunctions/index.js\";\nimport axios from \"axios\";\nimport { NotificationManager } from 'react-notifications';\nimport Sheet from 'react-modal-sheet';\nimport Dropzone from 'react-dropzone-uploader';\nimport \"./styles.css\";\nimport ReactCrop from 'react-image-crop';\nimport { confirmAlert } from 'react-confirm-alert';\nimport { getCroppedImg } from \"./helpers/croppingBannerImage/getCroppedImage.js\";\nimport { connect } from \"react-redux\";\nimport _ from \"lodash\";\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\nimport moment from 'moment';\n\n\nclass PersonalProfileDetailsMainHelper extends Component {\nconstructor(props) {\n    super(props);\n\n\n    this.state = {\n        aspect: 16 / 9,\n        file: null,\n        unmodifiedFile: null,\n        submissionButton: false,\n        currentHeight: 550,\n        currentWidth: 800,\n        progress: 0,\n        data: null,\n        isOpen: false,\n        errorUpload: \"\",\n        popoverOpen: false,\n        location: null\n    }\n}\n    handleVerificationRedirect = (e) => {\n        e.preventDefault();\n\n        console.log(\"handle redirect verification link\");\n\n        this.props.history.push(\"/start/verification/flow\");\n    }\n    componentDidMount() {\n        axios.get(`${process.env.REACT_APP_BASE_URL}/gather/general/user/data`, {\n            params: {\n                id: this.props.userData.uniqueId,\n                accountType: \"hackers\"\n            }\n        }).then((res) => {\n            if (res.data.message === \"Gathered user!\") {\n                console.log(res.data);\n\n                const { user } = res.data;\n\n                if (_.has(user, \"userLatestLocation\")) {\n                    axios.get(`https://api.tomtom.com/search/2/reverseGeocode/${encodeURIComponent(user.userLatestLocation.latitude)},${encodeURIComponent(user.userLatestLocation.longitude)}.json?key=${process.env.REACT_APP_TOMTOM_API_KEY}&countrySet=US`).then((res) => {\n                        if (res.data) {\n                            console.log(\"res.data\", res.data);\n                            \n                            const { addresses } = res.data;\n\n                            this.setState({\n                                location: addresses[0].address.municipality,\n                                data: user\n                            })\n                        }\n                    }).catch((err) => {\n                        console.log(err);\n                    })\n                } else {\n                    this.setState({\n                        data: user\n                    })\n                }\n            } else {\n                console.log(\"err\", res.data);\n            }\n        }).catch((err) => {\n            console.log(err);\n        })\n    }\n    getUploadParams = ({ meta }) => { \n        return { url: 'https://httpbin.org/post' } \n    };\n    handleChangeStatus = ({ meta, file }, status) => {\n        console.log(\"collected - : \", meta, file, status);\n\n        if (status === \"done\") {\n            if (meta.height >= 2500 && meta.width >= 3000) {\n                this.setState({\n                    file: URL.createObjectURL(file),\n                    unmodifiedFile: file,\n                    errorUpload: \"\"\n                })\n            } else {\n                this.setState({\n                    errorUpload: \"Please select another photo that meets the minimum dimension requirements. Remove the pending 'preview' image previously uploaded to select another more appropriate file for a better quality final image.\"\n                }, () => {\n                    NotificationManager.warning(`Error ~ Your photo/image MUST be at least 3000px by 2500px (width by height) - please select a file that meets these conditions...`, 'Image size is too small!', 4500);\n                })\n            }\n        } else if (status === \"removed\") {\n            this.setState({\n                file: null,\n                unmodifiedFile: null,\n                errorUpload: \"\"\n            })\n        }\n    }\n    getBase64 = (file, cb) => {\n        let reader = new FileReader();\n        reader.readAsDataURL(file);\n        reader.onload = () => {\n            cb(reader.result)\n        };\n        reader.onerror = (error) => {\n            console.log('Error: ', error);\n        };\n    }\n    handleBannerFinalSelectionUpload = async () => {\n        console.log(\"handleBannerFinalSelectionUpload ran!\");\n\n        const { aspect, unmodifiedFile, file } = this.state;\n\n        const handleCompletionChunk = (croppedImg) => {\n            axios.post(`${process.env.REACT_APP_BASE_URL}/upload/banner/photo/hacker/profile`, {\n                base64: croppedImg,\n                uniqueId: this.props.userData.uniqueId,\n                contentType: unmodifiedFile.type,\n                filename: unmodifiedFile.name\n            }).then((res) => {\n                if (res.data.message === \"Successfully uploaded content!\") {\n                    console.log(res.data);\n    \n                    const { generatedID, file } = res.data;\n    \n                    this.setState({\n                        data: {\n                            ...this.state.data,\n                            profileBannerImage: file\n                        },\n                        isOpen: false\n                    }, () => {\n                        NotificationManager.success(`We've successfully uploaded & updated your profile banner photo - it is now live/public!`, 'Banner photo uploaded!', 4500);\n                    })\n                } else {\n                    console.log(\"err\", res.data);\n    \n                    NotificationManager.danger(`An error occurred while attempting to upload your banner photo - please try again or contact support if the problem persists...`, 'Failure occurred uploading banner!', 4500);\n                }\n            }).catch((err) => {\n                console.log(err);\n            })\n        }\n\n        const img = new Image();\n\n        img.onload = () => {\n            console.log(\"loaded :) !\");\n\n            const croppedImg = getCroppedImg(img, aspect, unmodifiedFile.type);\n\n            console.log(\"croppedImg : \", croppedImg);\n\n            handleCompletionChunk(croppedImg);\n        }\n        img.onerror = (err) => {\n          console.log(\"err\", err);\n        }\n\n        this.getBase64(unmodifiedFile, (result) => {\n            console.log(\"getBase64 ran...\");\n            img.src = result;\n        });\n    }\n    initializeConfirmation = () => {\n        confirmAlert({\n            title: 'Confirm cropped area/region',\n            message: 'Are you happy with the selected region/area that was cropped or would you like to make an edit?',\n            buttons: [\n              {\n                label: `Yes, it's fine!`,\n                onClick: () => {\n                    console.log(\"yes.\");\n\n                    this.handleBannerFinalSelectionUpload();\n                }\n              },\n              {\n                label: 'No, Re-crop!',\n                onClick: () => {\n                    console.log(\"No.\");\n                }\n              }\n            ],\n            overlayClassName: \"overlay-superiority\"\n        });\n    }\n    onImageLoaded = image => {\n        this.setState({ \n            aspect: { width: this.state.currentWidth, height: this.state.currentHeight },\n            submissionButton: true\n        });\n\n        return false; \n    };\n    handleBasicInfoModificationRedirect = () => {\n        console.log(\"handleBasicInfoModificationRedirect ran!\");\n\n        this.setState({\n            popoverOpen: false\n        }, () => {\n            this.props.history.push(\"/profile/settings/edit\");\n        })\n    }\n    render() {\n        const { aspect, file, submissionButton, data, errorUpload } = this.state;\n\n        console.log(\"user data!\", data);\n\n        return (\n            <Fragment>\n                <Breadcrumb parent=\"Profile data\" title=\"Hacker Profile\" />\n                <Sheet disableDrag={true} isOpen={this.state.isOpen} onClose={() => {\n                    this.setState({\n                        isOpen: false\n                    })\n                }}>\n                    <Sheet.Container>\n                    <Sheet.Header>\n                        <div className=\"header-space-edges\">\n                            <Button onClick={() => {\n                                this.setState({\n                                    file: null,\n                                    isOpen: false\n                                })\n                            }} style={{ width: \"100%\" }} color=\"secondary\">Close/Exit Pane</Button>\n                        </div>\n                    </Sheet.Header>\n                    <Sheet.Content>\n                        <Row>\n                            <Col md=\"12\" lg=\"12\" xl=\"12\" sm=\"12\">\n                                <Card>\n                                    <CardHeader>\n                                        <h5>Upload New Banner Photo (Single-File)</h5>\n                                    </CardHeader>\n                                    <CardBody>\n                                        <Form>\n                                            <div className=\"dz-message needsclick\">\n                                                {typeof errorUpload !== \"undefined\" && errorUpload.length > 0 ? <p className=\"lead text-left\" style={{ color: \"darkred\" }}>{errorUpload}</p> : null}\n                                                <Dropzone\n                                                    getUploadParams={this.getUploadParams}\n                                                    onChangeStatus={this.handleChangeStatus}\n                                                    maxFiles={1}\n                                                    multiple={false}\n                                                    canCancel={false}\n                                                    accept=\"image/*\"\n                                                    inputContent=\"Drop A File (ONLY Images Accepted)\"\n                                                    styles={{\n                                                        dropzone: { height: 325 },\n                                                        dropzoneActive: { borderColor: 'green' },\n                                                    }}\n                                                />\n                                            </div>\n                                        </Form>\n                                        {file !== null ? <div className=\"lower-crop-container\">\n                                            <div className=\"lower-crop-container-inner\">\n                                                <p className=\"crop-helper-text\">Please crop your image before continuing with the upload process. Note: The minimum dimensions for cropped images are {this.state.currentWidth}px by {this.state.currentHeight}px (Width/Height) - crops will only work when the selected region has enough room to span the entire width (left to right) of the \"default crop box\"</p>\n                                                <hr />\n                                                <div className=\"center-selected-content\">\n                                                    {submissionButton === true ? <Button onClick={() => {\n                                                        this.initializeConfirmation();\n                                                    }} style={{ width: \"100%\" }} color=\"primary\">Confirm Cropped Image & Upload</Button> : null}\n                                                    <hr />\n                                                    <ReactCrop onImageLoaded={this.onImageLoaded} imageStyle={{ border: \"2px solid black\" }} minWidth={this.state.currentWidth} minHeight={this.state.currentHeight} src={file} crop={aspect} onChange={newCrop => {\n                                                        this.setState({\n                                                            aspect: newCrop\n                                                        })\n                                                    }} />\n                                                </div>\n                                            </div>\n                                        </div> : null}\n                                    </CardBody>\n                                </Card>\n                            </Col>\n                        </Row>\n                    </Sheet.Content>\n                    </Sheet.Container>\n\n                    <Sheet.Backdrop />\n                </Sheet>\n                <Container fluid={true}>\n                    <div className=\"user-profile\">\n                    <Row>\n                        <Col sm=\"12\">\n                        <Card className=\"card hovercard text-center\">\n                            <CardHeader id=\"override-cardheader\">\n                                {_.has(data, \"profileBannerImage\") ? <img src={`${process.env.REACT_APP_ASSET_LINK}/${data.profileBannerImage.link}`} id=\"banner-photo-cover-all\" /> : <img src={require('../../../../../../assets/images/banner/2.jpg')} id=\"banner-photo-cover-all\" />}\n                                <img src={require('../../../../../../assets/icons/edit-image.png')} onClick={() => {\n                                    this.setState({\n                                        isOpen: true\n                                    })\n                                }} className=\"absolute-img-top-right\" />\n                            </CardHeader>\n                            <div className=\"user-image\">\n                            <div className=\"avatar\">\n                                {renderProfilePicVideo(data !== null && typeof data.profilePicsVideos !== \"undefined\" && data.profilePicsVideos.length > 0 ? data.profilePicsVideos : null)}\n                            </div>\n                                <div id=\"Popover1\" onClick={() => {\n                                    this.setState({\n                                        popoverOpen: true\n                                    })\n                                }} className=\"icon-wrapper\" data-intro=\"Change Profile image here\">\n                                    <i className=\"icofont icofont-pencil-alt-5\">\n                                        <Popover placement=\"bottom\" isOpen={this.state.popoverOpen} target=\"Popover1\" toggle={() => {\n                                            this.setState({\n                                                popoverOpen: !this.state.popoverOpen\n                                            })\n                                        }}>\n                                            <PopoverHeader>Update Profile Picture?</PopoverHeader>\n                                            <PopoverBody>\n                                            Would you like to update your profile pic and/or basic profile information? The button below will redirect you appropriately if choose to.\n                                            <hr />\n                                            <Button style={{ width: \"100%\" }} onClick={this.handleBasicInfoModificationRedirect} color=\"secondary\">Redirect Me!</Button>\n                                            </PopoverBody>\n                                        </Popover>\n                                    </i>\n                                </div>\n                            </div>\n                            <div className=\"info\">\n                            <Row>\n                                <Col sm=\"6\" lg=\"4\" className=\"order-sm-1 order-xl-0\">\n                                <Row >\n                                    <Col md=\"6\">\n                                    <div className=\"ttl-info text-left\">\n                                        <h6><i className=\"fa fa-envelope mr-2\"></i> Email Address</h6><span>{data !== null ? data.email : \"Loading/Not-Available\"}</span>\n                                    </div>\n                                    </Col>\n                                    <Col md=\"6\">\n                                    <div className=\"ttl-info text-left ttl-sm-mb-0\">\n                                        <h6><i className=\"fa fa-calendar\"></i>  Date Of Birth</h6><span>{_.has(data, \"birthdate\") ? moment(data.birthdate).format(\"MM/DD/YYYY\") : \"Loading/Not-Available\"}</span>\n                                    </div>\n                                    </Col>\n                                </Row>\n                                </Col>\n                                <Col sm=\"12\" lg=\"4\" className=\"order-sm-0 order-xl-1\">\n                                <div className=\"user-designation\">\n                                    <div className=\"title\"><a target=\"_blank\" href={null}>{data !== null ? `${data.firstName} ${data.lastName}` : \"Loading/Not-Available\"}</a></div>\n                                    <div className=\"desc mt-2\">{data !== null ? data.accountType === \"hackers\" ? \"Hacker Account\" : \"Employer Account\" : \"Loading/Not-Available\"}</div>\n                                </div>\n                                </Col>\n                                <Col sm=\"6\" lg=\"4\" className=\"order-sm-2 order-xl-2\">\n                                <Row>\n                                    <Col md=\"6\">\n                                    <div className=\"ttl-info text-left ttl-xs-mt\">\n                                        <h6><i className=\"fa fa-phone\"></i>  Contact Number (*Private*)</h6><span>{data !== null ? data.phoneNumber : \"Loading/Not-Available\"}</span>\n                                    </div>\n                                    </Col>\n                                    <Col md=\"6\">\n                                    <div className=\"ttl-info text-left ttl-sm-mb-0\">\n                                        <h6><i className=\"fa fa-location-arrow\"></i>  Approx. Location</h6><span>{this.state.location !== null ? this.state.location : \"Loading/Not-Available\"}</span>\n                                    </div>\n                                    </Col>\n                                </Row>\n                                </Col>\n                            </Row>\n                            <hr />\n                            <div className=\"social-media step4\" data-intro=\"This is your Social details\">\n                                <ul className=\"list-inline\">\n                                <li className=\"list-inline-item\"><a href={null}><i className=\"fa fa-facebook\"></i></a></li>\n                                <li className=\"list-inline-item\"><a href={null}><i className=\"fa fa-google-plus\"></i></a></li>\n                                <li className=\"list-inline-item\"><a href={null}><i className=\"fa fa-twitter\"></i></a></li>\n                                <li className=\"list-inline-item\"><a href={null}><i className=\"fa fa-instagram\"></i></a></li>\n                                <li className=\"list-inline-item\"><a href={null}><i className=\"fa fa-rss\"></i></a></li>\n                                </ul>\n                            </div>\n                            <div className=\"follow\">\n                                <Row>\n                                    {data !== null ? <Fragment>\n                                        <Col col=\"6\" className=\"text-md-right border-right\">\n                                            <div className=\"follow-num counter\">{data.followingHackers.length + data.followingCompanies.length}</div><span>Total Follow(ing)</span>\n                                        </Col>\n                                        <Col col=\"6\" className=\"text-md-left\">\n                                            <div className=\"follow-num counter\">{data.currentlyFollowedBy.length}</div><span>Total Follower(s)</span>\n                                        </Col>\n                                    </Fragment> : <Fragment>\n                                    <SkeletonTheme baseColor=\"#c9c9c9\" highlightColor=\"#444\">\n                                        <p>\n                                            <Skeleton count={20} />\n                                        </p>\n                                    </SkeletonTheme>\n                                    </Fragment>}\n                                </Row>\n                            </div>\n                            </div>\n                        </Card>\n                        </Col>\n                    </Row>\n                </div>\n                <Row>\n                    <Col sm=\"12\" md=\"12\" lg=\"6\" xl=\"6\">\n                        <Card>\n                            <CardHeader className=\"b-l-primary border-3\">\n                                <h5>Account Verification</h5>\n                            </CardHeader>\n                            <CardBody>\n                                <p>Verify your account to show employer's you're safe to hire & serious about your duties/responsibilities on this platform. We recommend employer's to <strong style={{ color: \"blue\" }}>NOT</strong> hire hacker's with accounts that are in primarily an <em style={{ color: \"blue\" }}>\"un-verified\"</em> state.</p>\n                                <hr />\n                                <Button style={{ width: \"100%\" }} onClick={this.handleVerificationRedirect} color=\"secondary\">Start Verification!</Button>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                    <Col sm=\"12\" md=\"12\" lg=\"6\" xl=\"6\">\n                        <Card>\n                            <CardHeader className=\"b-l-primary border-3\">\n                                <h5>Would you like to 'modify' your <strong>core</strong> account data/information?</h5>\n                            </CardHeader>\n                            <CardBody>\n                                <p>You will need to select the button below to 'redirect' to the appropriate page to make the required/preferred changes to your own personal account..</p>\n                                <hr />\n                                <Button style={{ width: \"100%\" }} onClick={() => {\n                                    this.props.history.push(\"/profile/settings/edit\")\n                                }} className={\"btn-square-success\"} outline color=\"success-2x\">Redirect & Modify 'Core' Profile Information</Button>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n        </Fragment>\n        )\n    }\n}\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data\n    }\n}\nexport default connect(mapStateToProps, {  })(withRouter(PersonalProfileDetailsMainHelper));\n"]},"metadata":{},"sourceType":"module"}