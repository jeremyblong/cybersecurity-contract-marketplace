{"ast":null,"code":"import React,{Component,useEffect}from'react';import{WithContext as ReactTags}from'react-tag-input';import\"./styles.css\";import{connect}from\"react-redux\";import{saveListingData}from\"../../../../../../../../redux/actions/employer/listings/listingData.js\";import _ from\"lodash\";const KeyCodes={comma:188,enter:[10,13]};const delimiters=[...KeyCodes.enter,KeyCodes.comma];class CreateHashtagsListingComponent extends Component{constructor(props){super(props);this.state={tags:[],suggestions:[]};this.handleDelete=this.handleDelete.bind(this);this.handleAddition=this.handleAddition.bind(this);this.handleDrag=this.handleDrag.bind(this);}handleDelete(i){const{tags}=this.state;this.setState({tags:tags.filter((tag,index)=>index!==i)},()=>{this.props.saveListingData({...this.props.previousData,hashtags:this.state.tags});});}handleAddition(tag){this.setState(state=>{return{tags:[...state.tags,tag]};},()=>{this.props.saveListingData({...this.props.previousData,hashtags:this.state.tags});});}handleDrag(tag,currPos,newPos){const tags=[...this.state.tags];const newTags=tags.slice();newTags.splice(currPos,1);newTags.splice(newPos,0,tag);// re-render\nthis.setState({tags:newTags},()=>{this.props.saveListingData({...this.props.previousData,hashtags:newTags});});}componentDidMount(){const{hashtags}=this.props.previousData;this.setState({tags:typeof hashtags!==\"undefined\"&&hashtags.length>0?hashtags:[]});}render(){const{tags,suggestions}=this.state;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(ReactTags,{tags:tags,classNames:{tags:'tagsClass',tagInput:'tagInputClass',tagInputField:'form-control',selected:'selectedClass',tag:'badge badge-primary',remove:'removeClass',suggestions:'suggestionsClass',activeSuggestion:'activeSuggestionClass'},maxLength:10,suggestions:suggestions,handleDelete:this.handleDelete,handleAddition:this.handleAddition,handleDrag:this.handleDrag,delimiters:delimiters}));}};const mapStateToProps=state=>{return{previousData:_.has(state.listingData,\"listingData\")?state.listingData.listingData:{}};};export default connect(mapStateToProps,{saveListingData})(CreateHashtagsListingComponent);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/opportunities/employers/createListing/create/helpers/hashtags/createHashtagsListing.js"],"names":["React","Component","useEffect","WithContext","ReactTags","connect","saveListingData","_","KeyCodes","comma","enter","delimiters","CreateHashtagsListingComponent","constructor","props","state","tags","suggestions","handleDelete","bind","handleAddition","handleDrag","i","setState","filter","tag","index","previousData","hashtags","currPos","newPos","newTags","slice","splice","componentDidMount","length","render","tagInput","tagInputField","selected","remove","activeSuggestion","mapStateToProps","has","listingData"],"mappings":"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","sourcesContent":["import React, { Component, useEffect } from 'react';\nimport { WithContext as ReactTags } from 'react-tag-input';\nimport \"./styles.css\";\nimport { connect } from \"react-redux\";\nimport { saveListingData } from \"../../../../../../../../redux/actions/employer/listings/listingData.js\";\nimport _ from \"lodash\";\n\nconst KeyCodes = {\n  comma: 188,\n  enter: [10, 13],\n};\n\nconst delimiters = [...KeyCodes.enter, KeyCodes.comma];\n\nclass CreateHashtagsListingComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            tags: [],\n            suggestions: []\n        };\n        this.handleDelete = this.handleDelete.bind(this);\n        this.handleAddition = this.handleAddition.bind(this);\n        this.handleDrag = this.handleDrag.bind(this);\n    }\n\n    handleDelete(i) {\n        const { tags } = this.state;\n\n        this.setState({\n            tags: tags.filter((tag, index) => index !== i),\n        }, () => {\n            this.props.saveListingData({\n                ...this.props.previousData,\n                hashtags: this.state.tags\n            })\n        });\n    }\n    handleAddition(tag) {\n        this.setState(state => {\n            return { tags: [...state.tags, tag] }\n        }, () => {\n            this.props.saveListingData({\n                ...this.props.previousData,\n                hashtags: this.state.tags\n            })\n        });\n    }\n\n    handleDrag(tag, currPos, newPos) {\n        const tags = [...this.state.tags];\n        const newTags = tags.slice();\n\n        newTags.splice(currPos, 1);\n        newTags.splice(newPos, 0, tag);\n\n        // re-render\n        this.setState({ tags: newTags }, () => {\n            this.props.saveListingData({\n                ...this.props.previousData,\n                hashtags: newTags\n            })\n        });\n    }\n    componentDidMount() {\n        const { hashtags } = this.props.previousData;\n        this.setState({\n            tags: typeof hashtags !== \"undefined\" && hashtags.length > 0 ? hashtags : []\n        })\n    }\n    render() {\n        const { tags, suggestions } = this.state;\n        return (\n            <div>\n                <ReactTags \n                    tags={tags}\n                    classNames={{\n                        tags: 'tagsClass',\n                        tagInput: 'tagInputClass',\n                        tagInputField: 'form-control',\n                        selected: 'selectedClass',\n                        tag: 'badge badge-primary',\n                        remove: 'removeClass',\n                        suggestions: 'suggestionsClass',\n                        activeSuggestion: 'activeSuggestionClass'\n                    }}\n                    maxLength={10}\n                    suggestions={suggestions}\n                    handleDelete={this.handleDelete}\n                    handleAddition={this.handleAddition}\n                    handleDrag={this.handleDrag}\n                    delimiters={delimiters} />\n            </div>\n        )\n    }\n};\n\nconst mapStateToProps = (state) => {\n    return {\n        previousData: _.has(state.listingData, \"listingData\") ? state.listingData.listingData : {}\n    }\n}\nexport default connect(mapStateToProps, { saveListingData })(CreateHashtagsListingComponent);"]},"metadata":{},"sourceType":"module"}