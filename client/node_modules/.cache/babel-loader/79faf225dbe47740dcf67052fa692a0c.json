{"ast":null,"code":"import _toConsumableArray from \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { Fragment } from 'react';\nimport axios from \"axios\";\nimport { NotificationManager } from \"react-notifications\";\nimport { Row, Col, Card, CardBody, Button, CardHeader, ButtonGroup } from 'reactstrap';\n\nvar handleFileDeletionUploadedFiles = function handleFileDeletionUploadedFiles(i, setMyFile, setPopoverStates, selected) {\n  // set files state\n  setMyFile(function (prevState) {\n    console.log(\"prev\", prevState);\n    return prevState.filter(function (item, idx) {\n      if (item.link !== selected.link) {\n        return true;\n      }\n    });\n  }); // close popover\n\n  setPopoverStates(function (prevState) {\n    return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, \"popover\".concat(i), false));\n  });\n};\n\nvar handleDotsClickExpansion = function handleDotsClickExpansion(file, index, setPopoverStates) {\n  setPopoverStates(function (prevState) {\n    return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, \"popover\".concat(index), true));\n  });\n};\n\nvar bytesToSize = function bytesToSize(bytes) {\n  var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n  if (bytes == 0) return '0 Byte';\n  var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n  return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n};\n\nvar calculateFileType = function calculateFileType(type) {\n  switch (type) {\n    case \"video/mp4\":\n      return \"mp4\";\n      break;\n\n    case \"image/png\":\n      return \"png\";\n      break;\n\n    case \"image/jpeg\":\n      return \"jpeg\";\n      break;\n\n    case \"image/jpg\":\n      return \"jpg\";\n      break;\n\n    case \"image/gif\":\n      return \"gif\";\n      break;\n\n    case \"image/bmp\":\n      return \"bmp\";\n      break;\n\n    case \"application/pdf\":\n      return \"pdf\";\n      break;\n\n    case \"text/csv\":\n      return \"csv\";\n      break;\n\n    case \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\n      return \"xlsx\";\n      break;\n\n    case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n      return \"docx\";\n      break;\n\n    case \"video/webm\":\n      return \"webm\";\n      break;\n\n    case \"audio/mpeg\":\n      return \"mp3\";\n      break;\n\n    default:\n      break;\n  }\n};\n\nvar calculateFileTypeSavedUploadedAlready = function calculateFileTypeSavedUploadedAlready(type) {\n  switch (type) {\n    case \"video/mp4\":\n      return \"videos-only\";\n      break;\n\n    case \"image/png\":\n      return \"images-only\";\n      break;\n\n    case \"image/jpeg\":\n      return \"images-only\";\n      break;\n\n    case \"image/jpg\":\n      return \"images-only\";\n      break;\n\n    case \"image/gif\":\n      return \"images-only\";\n      break;\n\n    case \"image/bmp\":\n      return \"images-only\";\n      break;\n\n    case \"application/pdf\":\n      return \"misc-others\";\n      break;\n\n    case \"text/csv\":\n      return \"misc-others\";\n      break;\n\n    case \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\n      return \"misc-others\";\n      break;\n\n    case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n      return \"misc-others\";\n      break;\n\n    case \"video/webm\":\n      return \"videos-only\";\n      break;\n\n    case \"audio/mpeg\":\n      return \"videos-only\";\n      break;\n\n    default:\n      return \"allfiles\";\n      break;\n  }\n};\n\nvar closePopoverDynamic = function closePopoverDynamic(i, setPopoverStates) {\n  setPopoverStates(function (prevState) {\n    return _objectSpread(_objectSpread({}, prevState), {}, _defineProperty({}, \"popover\".concat(i), false));\n  });\n}; // UPLOAD file via api-call to AWS-S3\n\n\nvar handleFileUploadAnyType = function handleFileUploadAnyType(onSubmit, setMetaFileData, setFileReadyStatus, setCurrentUploadFileStatus, setMyFile, currentFileSelectedUpload, metaFileData, setProgress, setChecked, checked, saveApplicationDetailsProgress, previousFiles) {\n  // upload file to aws S3\n  var data = new FormData();\n  data.append(\"file\", currentFileSelectedUpload);\n  data.append(\"meta\", metaFileData);\n  var config = {\n    onUploadProgress: function onUploadProgress(progressEvent) {\n      var percentCompleted = Math.round(progressEvent.loaded * 100 / progressEvent.total);\n      setProgress(percentCompleted);\n    },\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    }\n  };\n  console.log(\"previousFiles API-REQUEST : \", previousFiles);\n  var previouslySubmitted = previousFiles.applicationDetails.applicationDetails.files;\n  axios.post(\"\".concat(process.env.REACT_APP_BASE_URL, \"/upload/misc/file/softare/listing/sale\"), data, config).then(function (res) {\n    if (res.data.message === \"Successfully uploaded file!\") {\n      console.log(res.data);\n      var file = res.data.file; // update local file array state\n\n      saveApplicationDetailsProgress({\n        files: [].concat(_toConsumableArray(previouslySubmitted), [_objectSpread(_objectSpread({}, file), {}, {\n          icon: \"fa fa-file\",\n          customType: checked === true ? \"allfiles\" : calculateFileTypeSavedUploadedAlready(file.type)\n        })])\n      });\n      setChecked(false);\n      NotificationManager.success(\"We've successfully uploaded your file! Please proceed filling out the remaining form data in order to move onto the final page!\", 'Successfully uploaded file!', 4500);\n      setMetaFileData(null);\n      setFileReadyStatus(false);\n      setCurrentUploadFileStatus(null);\n      onSubmit();\n    } else {\n      console.log(\"Err\", res.data);\n      NotificationManager.error(res.data.message, 'An error occurred while uploading file!', 4500);\n      onSubmit();\n    }\n  }).catch(function (err) {\n    console.log(err);\n    NotificationManager.error(\"An unknown error has occurred while uploading your file - please try again or contact support if the issue persists...\", 'An error occurred while uploading file!', 4500);\n    onSubmit();\n  });\n};\n\nvar handleFilesFinalSubmission = function handleFilesFinalSubmission(files, previous, saveApplicationDetailsProgress, setSubmissionPopoverState, shiftCoreStyles, clearAllBodyScrollLocks, setFileSheetOpenState) {\n  // clear locks related to pane\n  shiftCoreStyles(false); // clear body locks from open pane\n\n  clearAllBodyScrollLocks(); // notifiy of success\n\n  NotificationManager.success(\"You've successfully 'saved' your uploaded files/folders - continue onwards with your application and good luck!\", 'Successfully uupdated/uploaded files & folders.', 4500); // close popover then MAIN pane\n\n  setSubmissionPopoverState(false); // close MAIN PANE FINALLY\n\n  setFileSheetOpenState(false);\n};\n\nexport default {\n  handleFileDeletionUploadedFiles: handleFileDeletionUploadedFiles,\n  handleDotsClickExpansion: handleDotsClickExpansion,\n  handleFilesFinalSubmission: handleFilesFinalSubmission,\n  calculateFileType: calculateFileType,\n  bytesToSize: bytesToSize,\n  handleFileUploadAnyType: handleFileUploadAnyType,\n  closePopoverDynamic: closePopoverDynamic\n};","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/opportunities/employers/applyToListingHacker/helpers/fileManagerHelperFunctions.js"],"names":["React","Fragment","axios","NotificationManager","Row","Col","Card","CardBody","Button","CardHeader","ButtonGroup","handleFileDeletionUploadedFiles","i","setMyFile","setPopoverStates","selected","prevState","console","log","filter","item","idx","link","handleDotsClickExpansion","file","index","bytesToSize","bytes","sizes","parseInt","Math","floor","round","pow","calculateFileType","type","calculateFileTypeSavedUploadedAlready","closePopoverDynamic","handleFileUploadAnyType","onSubmit","setMetaFileData","setFileReadyStatus","setCurrentUploadFileStatus","currentFileSelectedUpload","metaFileData","setProgress","setChecked","checked","saveApplicationDetailsProgress","previousFiles","data","FormData","append","config","onUploadProgress","progressEvent","percentCompleted","loaded","total","headers","previouslySubmitted","applicationDetails","files","post","process","env","REACT_APP_BASE_URL","then","res","message","icon","customType","success","error","catch","err","handleFilesFinalSubmission","previous","setSubmissionPopoverState","shiftCoreStyles","clearAllBodyScrollLocks","setFileSheetOpenState"],"mappings":"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","sourcesContent":["import React, { Fragment} from 'react';\nimport axios from \"axios\";\nimport { NotificationManager } from \"react-notifications\";\nimport { Row, Col, Card, CardBody, Button, CardHeader, ButtonGroup } from 'reactstrap';\n\n\nconst handleFileDeletionUploadedFiles = (i, setMyFile, setPopoverStates, selected) => {\n    // set files state\n    setMyFile(prevState => {\n        console.log(\"prev\", prevState);\n        return prevState.filter((item, idx) => {\n            if (item.link !== selected.link) {\n                return true;\n            }\n        })\n    });\n    // close popover\n    setPopoverStates(prevState => {\n        return {\n            ...prevState,\n            [`popover${i}`]: false\n        }\n    });\n}\nconst handleDotsClickExpansion = (file, index, setPopoverStates) => {\n    setPopoverStates(prevState => {\n        return {\n            ...prevState,\n            [`popover${index}`]: true\n        }\n    });\n}\nconst bytesToSize = (bytes) => {\n    var sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes == 0) return '0 Byte';\n    var i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n}\nconst calculateFileType = (type) => {\n    switch (type) {\n        case \"video/mp4\":\n            return \"mp4\";\n            break;\n        case \"image/png\":\n            return \"png\";\n            break;\n        case \"image/jpeg\":\n            return \"jpeg\";\n            break;\n        case \"image/jpg\":\n            return \"jpg\";\n            break;\n        case \"image/gif\":\n            return \"gif\";\n            break;\n        case \"image/bmp\":\n            return \"bmp\";\n            break;\n        case \"application/pdf\":\n            return \"pdf\";\n            break;\n        case \"text/csv\":\n            return \"csv\";\n            break;\n        case \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\n            return \"xlsx\";\n            break;\n        case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n            return \"docx\";\n            break;\n        case \"video/webm\":\n            return \"webm\";\n            break;\n        case \"audio/mpeg\":\n            return \"mp3\";\n            break;\n        default:\n            break;\n    }\n}\nconst calculateFileTypeSavedUploadedAlready = (type) => {\n    switch (type) {\n        case \"video/mp4\":\n            return \"videos-only\";\n            break;\n        case \"image/png\":\n            return \"images-only\";\n            break;\n        case \"image/jpeg\":\n            return \"images-only\";\n            break;\n        case \"image/jpg\":\n            return \"images-only\";\n            break;\n        case \"image/gif\":\n            return \"images-only\";\n            break;\n        case \"image/bmp\":\n            return \"images-only\";\n            break;\n        case \"application/pdf\":\n            return \"misc-others\";\n            break;\n        case \"text/csv\":\n            return \"misc-others\";\n            break;\n        case \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\n            return \"misc-others\";\n            break;\n        case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n            return \"misc-others\";\n            break;\n        case \"video/webm\":\n            return \"videos-only\";\n            break;\n        case \"audio/mpeg\":\n            return \"videos-only\";\n            break;\n        default:\n            return \"allfiles\";\n            break;\n    }\n}\nconst closePopoverDynamic = (i, setPopoverStates) => {\n    setPopoverStates(prevState => {\n        return {\n            ...prevState,\n            [`popover${i}`]: false\n        }\n    });\n}\n// UPLOAD file via api-call to AWS-S3\nconst handleFileUploadAnyType = (onSubmit, setMetaFileData, setFileReadyStatus, setCurrentUploadFileStatus, setMyFile, currentFileSelectedUpload, metaFileData, setProgress, setChecked, checked, saveApplicationDetailsProgress, previousFiles) => {\n    // upload file to aws S3\n    const data = new FormData();\n\n    data.append(\"file\", currentFileSelectedUpload);\n    data.append(\"meta\", metaFileData);\n\n    const config = {\n        onUploadProgress: (progressEvent) => {\n            let percentCompleted = Math.round((progressEvent.loaded * 100) / progressEvent.total);\n\n            setProgress(percentCompleted);\n        },\n        headers: {\n            'Content-Type': 'multipart/form-data'\n        }\n    };\n\n    console.log(\"previousFiles API-REQUEST : \", previousFiles);\n\n    const previouslySubmitted = previousFiles.applicationDetails.applicationDetails.files;\n\n    axios.post(`${process.env.REACT_APP_BASE_URL}/upload/misc/file/softare/listing/sale`, data, config).then((res) => {\n        if (res.data.message === \"Successfully uploaded file!\") {\n            console.log(res.data);\n\n            const { file } = res.data;\n\n            // update local file array state\n            saveApplicationDetailsProgress({\n                files: [...previouslySubmitted, {\n                    ...file,\n                    icon: \"fa fa-file\",\n                    customType: checked === true ? \"allfiles\" : calculateFileTypeSavedUploadedAlready(file.type)\n                }]\n            });\n            setChecked(false);\n\n            NotificationManager.success(`We've successfully uploaded your file! Please proceed filling out the remaining form data in order to move onto the final page!`, 'Successfully uploaded file!', 4500);\n\n            setMetaFileData(null);\n            setFileReadyStatus(false);\n            setCurrentUploadFileStatus(null);\n\n            onSubmit();\n        } else {\n            console.log(\"Err\", res.data);\n\n            NotificationManager.error(res.data.message, 'An error occurred while uploading file!', 4500);\n\n            onSubmit();\n        }\n    }).catch((err) => {\n        console.log(err);\n\n        NotificationManager.error(\"An unknown error has occurred while uploading your file - please try again or contact support if the issue persists...\", 'An error occurred while uploading file!', 4500);\n\n        onSubmit();\n    })\n}\nconst handleFilesFinalSubmission = (files, previous, saveApplicationDetailsProgress, setSubmissionPopoverState, shiftCoreStyles, clearAllBodyScrollLocks, setFileSheetOpenState) => {\n    // clear locks related to pane\n    shiftCoreStyles(false); \n    // clear body locks from open pane\n    clearAllBodyScrollLocks();\n    // notifiy of success\n    NotificationManager.success(`You've successfully 'saved' your uploaded files/folders - continue onwards with your application and good luck!`, 'Successfully uupdated/uploaded files & folders.', 4500);\n    // close popover then MAIN pane\n    setSubmissionPopoverState(false);\n    // close MAIN PANE FINALLY\n    setFileSheetOpenState(false);\n} \nexport default {\n    handleFileDeletionUploadedFiles,\n    handleDotsClickExpansion,\n    handleFilesFinalSubmission,\n    calculateFileType,\n    bytesToSize,\n    handleFileUploadAnyType,\n    closePopoverDynamic\n}\n"]},"metadata":{},"sourceType":"module"}