{"ast":null,"code":"import React,{Fragment,useEffect,useState}from\"react\";import{Popover,PopoverHeader,PopoverBody,Row,Col,Media}from\"reactstrap\";import\"../../../styles.css\";import ReactPlayer from\"react-player\";const calculateFileType=type=>{switch(type){case\"video/mp4\":return\"mp4\";break;case\"image/png\":return\"png\";break;case\"image/jpeg\":return\"jpeg\";break;case\"image/gif\":return\"gif\";break;case\"image/bmp\":return\"bmp\";break;case\"application/pdf\":return\"pdf\";break;case\"text/csv\":return\"csv\";break;case\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":return\"xlsx\";break;case\"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":return\"docx\";break;case\"video/webm\":return\"webm\";break;case\"audio/mpeg\":return\"mp3\";break;default:break;}};const RenderEmojiLogic=_ref=>{let{reactions,comments}=_ref;const[emojiData,emojiArrayResponded]=useState([]);const[ready,setReady]=useState(false);useEffect(()=>{const customEmojiArr=[];for(const key in reactions){const element=reactions[key];if(element>0){customEmojiArr.push(key);}}emojiArrayResponded(customEmojiArr);setReady(true);},[]);console.log(\"emojiData inner component ./:\",emojiData);useEffect(()=>()=>{console.log(\"emojiData update or unmount\",reactions,comments);const customEmojiArr=[];for(const key in reactions){const element=reactions[key];if(element>0){customEmojiArr.push(key);}}console.log(\"customEmojiArr POSSIBLE Problem --- :\",customEmojiArr);emojiArrayResponded(customEmojiArr);},[comments]);return/*#__PURE__*/React.createElement(\"div\",{className:\"emoji-already-existant-wrapper-container\"},emojiData.map(reaction=>{console.log(\"re-render reaction...\",reaction);switch(reaction){case\"partying\":return/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../../../../../../assets/gifs/partying.gif\"),className:\"emoji-already-existant\"});break;case\"screaming\":return/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../../../../../../assets/gifs/screaming.gif\"),className:\"emoji-already-existant\"});break;case\"steaming\":return/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../../../../../../assets/gifs/steaming.gif\"),className:\"emoji-already-existant\"});break;case\"sunglasses\":return/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../../../../../../assets/gifs/sunglasses.gif\"),className:\"emoji-already-existant\"});break;case\"tearsOfJoy\":return/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../../../../../../assets/gifs/tearsOfJoy.gif\"),className:\"emoji-already-existant\"});break;case\"vomitting\":return/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../../../../../../assets/gifs/vomitting.gif\"),className:\"emoji-already-existant\"});break;default:return null;break;}}));};const RenderPopoverEmojiLogic=_ref2=>{let{userData,reactions,targetAndPopState,setPopoverState,popoverState,handleRespondEmoji,comment}=_ref2;const[stateCount,setStateCount]=useState(0);const[ready,setReady]=useState(false);useEffect(()=>{let count=0;// loop over reactions\nfor(const key in reactions){const reactionOutcome=reactions[key];// check if emoji is already added - if not... add it!\nif(reactionOutcome>0){count++;}}setStateCount(count);setReady(true);},[]);const renderMainContentPopover=()=>{const closePopover=targetAndPopState=>{setPopoverState(prevState=>{return{...prevState,[targetAndPopState]:false};});};if(ready===true){return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Popover,{placement:\"bottom\",isOpen:popoverState[targetAndPopState],target:targetAndPopState,toggle:()=>{closePopover(targetAndPopState);}},/*#__PURE__*/React.createElement(PopoverHeader,null,\"Current Comment Reaction's (\",stateCount,\" total reaction type's)\"),/*#__PURE__*/React.createElement(PopoverBody,null,/*#__PURE__*/React.createElement(\"div\",{onMouseLeave:()=>{closePopover(targetAndPopState);},className:\"mouse-exit-close-popover-emojis\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"course-emoji-col\",sm:\"2\",md:\"2\",lg:\"2\",xl:\"2\"},/*#__PURE__*/React.createElement(\"div\",{onClick:()=>handleRespondEmoji(\"sunglasses\",comment,closePopover,targetAndPopState,userData),className:\"emoji-wrapper-course\"},/*#__PURE__*/React.createElement(\"img\",{className:\"custom-course-emoji-render\",src:require(\"../../../../../../../../../../assets/gifs/sunglasses.gif\")}))),/*#__PURE__*/React.createElement(Col,{className:\"course-emoji-col\",sm:\"2\",md:\"2\",lg:\"2\",xl:\"2\"},/*#__PURE__*/React.createElement(\"div\",{onClick:()=>handleRespondEmoji(\"steaming\",comment,closePopover,targetAndPopState,userData),className:\"emoji-wrapper-course\"},/*#__PURE__*/React.createElement(\"img\",{className:\"custom-course-emoji-render\",src:require(\"../../../../../../../../../../assets/gifs/steaming.gif\")}))),/*#__PURE__*/React.createElement(Col,{className:\"course-emoji-col\",sm:\"2\",md:\"2\",lg:\"2\",xl:\"2\"},/*#__PURE__*/React.createElement(\"div\",{onClick:()=>handleRespondEmoji(\"tearsOfJoy\",comment,closePopover,targetAndPopState,userData),className:\"emoji-wrapper-course\"},/*#__PURE__*/React.createElement(\"img\",{className:\"custom-course-emoji-render\",src:require(\"../../../../../../../../../../assets/gifs/tearsOfJoy.gif\")}))),/*#__PURE__*/React.createElement(Col,{className:\"course-emoji-col\",sm:\"2\",md:\"2\",lg:\"2\",xl:\"2\"},/*#__PURE__*/React.createElement(\"div\",{onClick:()=>handleRespondEmoji(\"vomitting\",comment,closePopover,targetAndPopState,userData),className:\"emoji-wrapper-course\"},/*#__PURE__*/React.createElement(\"img\",{className:\"custom-course-emoji-render\",src:require(\"../../../../../../../../../../assets/gifs/vomitting.gif\")}))),/*#__PURE__*/React.createElement(Col,{className:\"course-emoji-col\",sm:\"2\",md:\"2\",lg:\"2\",xl:\"2\"},/*#__PURE__*/React.createElement(\"div\",{onClick:()=>handleRespondEmoji(\"partying\",comment,closePopover,targetAndPopState,userData),className:\"emoji-wrapper-course\"},/*#__PURE__*/React.createElement(\"img\",{className:\"custom-course-emoji-render\",src:require(\"../../../../../../../../../../assets/gifs/partying.gif\")}))),/*#__PURE__*/React.createElement(Col,{className:\"course-emoji-col\",sm:\"2\",md:\"2\",lg:\"2\",xl:\"2\"},/*#__PURE__*/React.createElement(\"div\",{onClick:()=>handleRespondEmoji(\"screaming\",comment,closePopover,targetAndPopState,userData),className:\"emoji-wrapper-course\"},/*#__PURE__*/React.createElement(\"img\",{className:\"custom-course-emoji-render\",src:require(\"../../../../../../../../../../assets/gifs/screaming.gif\")}))))))));}else{return null;}};return/*#__PURE__*/React.createElement(Fragment,null,renderMainContentPopover());};const renderCustomCommentImageVideo=last=>{if(last!==null){// check conditional item to render\nif(last.type.includes(\"video\")){// video logic\nreturn/*#__PURE__*/React.createElement(Media,{className:\"img-50 img-fluid m-r-20 rounded-circle min-50-50-video\"},/*#__PURE__*/React.createElement(ReactPlayer,{playing:true,loop:true,muted:true,className:\"img-50 img-fluid m-r-20 rounded-circle min-50-50-video\",wrapper:\"div\",url:\"\".concat(process.env.REACT_APP_ASSET_LINK,\"/\").concat(last.link)}));}else if(last.type.includes(\"image\")){// image logic\nreturn/*#__PURE__*/React.createElement(Media,{className:\"img-50 img-fluid m-r-20 rounded-circle min-50-50-image\",alt:\"comment-pic-video\",src:\"\".concat(process.env.REACT_APP_ASSET_LINK,\"/\").concat(last.link),\"data-intro\":\"This is Profile image\"});}}else{return/*#__PURE__*/React.createElement(Media,{className:\"img-50 img-fluid m-r-20 rounded-circle min-50-50-image\",alt:\"comment-pic-video\",src:process.env.REACT_APP_PLACEHOLDER_IMAGE,\"data-intro\":\"This is Profile image\"});}};export default{RenderPopoverEmojiLogic,RenderEmojiLogic,renderCustomCommentImageVideo,calculateFileType};","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/people/hackers/individualProfile/helpers/viewPostFileContents/helpers/renderComments/otherHelpers/helperFunctions.js"],"names":["React","Fragment","useEffect","useState","Popover","PopoverHeader","PopoverBody","Row","Col","Media","ReactPlayer","calculateFileType","type","RenderEmojiLogic","reactions","comments","emojiData","emojiArrayResponded","ready","setReady","customEmojiArr","key","element","push","console","log","map","reaction","require","RenderPopoverEmojiLogic","userData","targetAndPopState","setPopoverState","popoverState","handleRespondEmoji","comment","stateCount","setStateCount","count","reactionOutcome","renderMainContentPopover","closePopover","prevState","renderCustomCommentImageVideo","last","includes","process","env","REACT_APP_ASSET_LINK","link","REACT_APP_PLACEHOLDER_IMAGE"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from \"react\";\nimport { Popover, PopoverHeader, PopoverBody, Row, Col, Media } from \"reactstrap\";\nimport \"../../../styles.css\";\nimport ReactPlayer from \"react-player\";\n\n\nconst calculateFileType = (type) => {\n    switch (type) {\n        case \"video/mp4\":\n            return \"mp4\";\n            break;\n        case \"image/png\":\n            return \"png\";\n            break;\n        case \"image/jpeg\":\n            return \"jpeg\";\n            break;\n        case \"image/gif\":\n            return \"gif\";\n            break;\n        case \"image/bmp\":\n            return \"bmp\";\n            break;\n        case \"application/pdf\":\n            return \"pdf\";\n            break;\n        case \"text/csv\":\n            return \"csv\";\n            break;\n        case \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\":\n            return \"xlsx\";\n            break;\n        case \"application/vnd.openxmlformats-officedocument.wordprocessingml.document\":\n            return \"docx\";\n            break;\n        case \"video/webm\":\n            return \"webm\";\n            break;\n        case \"audio/mpeg\":\n            return \"mp3\";\n            break;\n        default:\n            break;\n    }\n}\n\nconst RenderEmojiLogic = ({ reactions, comments }) => {\n\n    const [emojiData, emojiArrayResponded] = useState([]);\n    const [ready, setReady] = useState(false);\n\n    useEffect(() => {\n        const customEmojiArr = [];\n\n        for (const key in reactions) {\n            const element = reactions[key];\n            if (element > 0) {\n                customEmojiArr.push(key);\n            }\n        }\n\n        emojiArrayResponded(customEmojiArr);\n        setReady(true);\n    }, []);\n\n    console.log(\"emojiData inner component ./:\", emojiData);\n\n    useEffect( () => () => {\n        console.log(\"emojiData update or unmount\", reactions, comments);\n\n        const customEmojiArr = [];\n\n        for (const key in reactions) {\n            const element = reactions[key];\n            if (element > 0) {\n                customEmojiArr.push(key);\n            }\n        }\n        console.log(\"customEmojiArr POSSIBLE Problem --- :\", customEmojiArr);\n\n        emojiArrayResponded(customEmojiArr);\n    }, [comments] );\n\n    return (\n        <div className={\"emoji-already-existant-wrapper-container\"}>\n            {emojiData.map((reaction) => {\n                console.log(\"re-render reaction...\", reaction)\n                switch (reaction) {\n                    case \"partying\":\n                        return <img src={require(\"../../../../../../../../../../assets/gifs/partying.gif\")} className={\"emoji-already-existant\"} />;\n                        break;\n                    case \"screaming\":\n                        return <img src={require(\"../../../../../../../../../../assets/gifs/screaming.gif\")} className={\"emoji-already-existant\"} />;\n                        break;\n                    case \"steaming\":\n                        return <img src={require(\"../../../../../../../../../../assets/gifs/steaming.gif\")} className={\"emoji-already-existant\"} />;\n                        break;\n                    case \"sunglasses\":\n                        return <img src={require(\"../../../../../../../../../../assets/gifs/sunglasses.gif\")} className={\"emoji-already-existant\"} />;\n                        break;\n                    case \"tearsOfJoy\":\n                        return <img src={require(\"../../../../../../../../../../assets/gifs/tearsOfJoy.gif\")} className={\"emoji-already-existant\"} />;\n                        break;\n                    case \"vomitting\":\n                        return <img src={require(\"../../../../../../../../../../assets/gifs/vomitting.gif\")} className={\"emoji-already-existant\"} />;\n                        break;\n                    default:\n                        return null;\n                        break;\n                }\n            })}\n        </div>\n    );\n}\n\nconst RenderPopoverEmojiLogic = ({ userData, reactions, targetAndPopState, setPopoverState, popoverState, handleRespondEmoji, comment }) => {\n    const [stateCount, setStateCount] = useState(0);\n    const [ready, setReady] = useState(false);\n\n    useEffect(() => {\n        let count = 0;\n        // loop over reactions\n        for (const key in reactions) {\n            const reactionOutcome = reactions[key];\n\n            // check if emoji is already added - if not... add it!\n            if (reactionOutcome > 0) {\n                count++;\n            }\n        }\n        setStateCount(count);\n        setReady(true);\n    }, []);\n\n    const renderMainContentPopover = () => {\n        const closePopover = (targetAndPopState) => {\n            setPopoverState(prevState => {\n                return {\n                    ...prevState,\n                    [targetAndPopState]: false\n                }\n            });\n        }\n        if (ready === true) {\n            return (\n                <Fragment>\n                    <Popover placement=\"bottom\" isOpen={popoverState[targetAndPopState]} target={targetAndPopState} toggle={() => {\n                        closePopover(targetAndPopState);\n                    }}>\n                        <PopoverHeader>Current Comment Reaction's ({stateCount} total reaction type's)</PopoverHeader>\n                        <PopoverBody>\n                            <div onMouseLeave={() => {\n                                closePopover(targetAndPopState);\n                            }} className={\"mouse-exit-close-popover-emojis\"}>\n                                <Row>\n                                    <Col className={\"course-emoji-col\"} sm=\"2\" md=\"2\" lg=\"2\" xl=\"2\">\n                                        <div onClick={() => handleRespondEmoji(\"sunglasses\", comment, closePopover, targetAndPopState, userData)} className={\"emoji-wrapper-course\"}>\n                                            <img className={\"custom-course-emoji-render\"} src={require(\"../../../../../../../../../../assets/gifs/sunglasses.gif\")} />\n                                        </div>\n                                    </Col>\n                                    <Col className={\"course-emoji-col\"} sm=\"2\" md=\"2\" lg=\"2\" xl=\"2\">\n                                        <div onClick={() => handleRespondEmoji(\"steaming\", comment, closePopover, targetAndPopState, userData)} className={\"emoji-wrapper-course\"}>\n                                            <img className={\"custom-course-emoji-render\"} src={require(\"../../../../../../../../../../assets/gifs/steaming.gif\")} />\n                                        </div>\n                                    </Col>\n                                    <Col className={\"course-emoji-col\"} sm=\"2\" md=\"2\" lg=\"2\" xl=\"2\">\n                                        <div onClick={() => handleRespondEmoji(\"tearsOfJoy\", comment, closePopover, targetAndPopState, userData)} className={\"emoji-wrapper-course\"}>\n                                            <img className={\"custom-course-emoji-render\"} src={require(\"../../../../../../../../../../assets/gifs/tearsOfJoy.gif\")} />\n                                        </div>\n                                    </Col>\n                                    <Col className={\"course-emoji-col\"} sm=\"2\" md=\"2\" lg=\"2\" xl=\"2\">\n                                        <div onClick={() => handleRespondEmoji(\"vomitting\", comment, closePopover, targetAndPopState, userData)} className={\"emoji-wrapper-course\"}>\n                                            <img className={\"custom-course-emoji-render\"} src={require(\"../../../../../../../../../../assets/gifs/vomitting.gif\")} />\n                                        </div>\n                                    </Col>\n                                    <Col className={\"course-emoji-col\"} sm=\"2\" md=\"2\" lg=\"2\" xl=\"2\">\n                                        <div onClick={() => handleRespondEmoji(\"partying\", comment, closePopover, targetAndPopState, userData)} className={\"emoji-wrapper-course\"}>\n                                            <img className={\"custom-course-emoji-render\"} src={require(\"../../../../../../../../../../assets/gifs/partying.gif\")} />\n                                        </div>\n                                    </Col>\n                                    <Col className={\"course-emoji-col\"} sm=\"2\" md=\"2\" lg=\"2\" xl=\"2\">\n                                        <div onClick={() => handleRespondEmoji(\"screaming\", comment, closePopover, targetAndPopState, userData)} className={\"emoji-wrapper-course\"}>\n                                            <img className={\"custom-course-emoji-render\"} src={require(\"../../../../../../../../../../assets/gifs/screaming.gif\")} />\n                                        </div>\n                                    </Col>\n                                </Row>\n                            </div>\n                        </PopoverBody>\n                    </Popover>\n                </Fragment>\n            );\n        } else {\n            return null;\n        }\n    }\n    return (\n        <Fragment>\n            {renderMainContentPopover()}\n        </Fragment>\n    );\n}\nconst renderCustomCommentImageVideo = (last) => {\n    if (last !== null) {\n        // check conditional item to render\n        if (last.type.includes(\"video\")) {\n            // video logic\n            return (\n                <Media className=\"img-50 img-fluid m-r-20 rounded-circle min-50-50-video\">\n                    <ReactPlayer playing={true} loop={true} muted={true} className={\"img-50 img-fluid m-r-20 rounded-circle min-50-50-video\"} wrapper={\"div\"} url={`${process.env.REACT_APP_ASSET_LINK}/${last.link}`} />\n                </Media>\n            );\n        } else if (last.type.includes(\"image\")) {\n            // image logic\n            return <Media className=\"img-50 img-fluid m-r-20 rounded-circle min-50-50-image\" alt=\"comment-pic-video\" src={`${process.env.REACT_APP_ASSET_LINK}/${last.link}`} data-intro=\"This is Profile image\" />;\n        } \n    } else {\n        return <Media className=\"img-50 img-fluid m-r-20 rounded-circle min-50-50-image\" alt=\"comment-pic-video\" src={process.env.REACT_APP_PLACEHOLDER_IMAGE} data-intro=\"This is Profile image\" />;\n    }\n}\nexport default {\n    RenderPopoverEmojiLogic,\n    RenderEmojiLogic,\n    renderCustomCommentImageVideo,\n    calculateFileType\n};"]},"metadata":{},"sourceType":"module"}