{"ast":null,"code":"import React,{Fragment,useState,useEffect,useRef}from\"react\";import\"./styles.css\";import{Container,Row,Col,Button,Card,CardBody,Media,Input,FormGroup,Form,CardHeader,ListGroup,ListGroupItem}from'reactstrap';import{connect}from\"react-redux\";import{useHistory}from\"react-router-dom\";import Breadcrumb from'../../../../../layout/breadcrumb';import BottomAddNewPaymentMethodTabbedHelper from'./helpers/bottomTabbed/bottomTabbedHelper.js';import axios from\"axios\";import{NotificationManager}from'react-notifications';import Sheet from'react-modal-sheet';import DataTable from'react-data-table-component';import moment from\"moment\";import{confirmAlert}from'react-confirm-alert';import{Modal}from'react-responsive-modal';const columns=[{name:'Card Number (last 4)',selector:row=>row.number},{name:'Card Name (Full Name)',selector:row=>row.name},{name:'Exp (Expiration Date)',selector:row=>row.expiry},{name:'Date Added (From Now)',selector:row=>row.dateAdded},{name:'Card Type (Visa, Mastercard, etc...)',selector:row=>row.cardType},{name:\"Card Action's\",selector:row=>row.action}];const PaymentMethodsAddNewPaymentMethodHelper=_ref=>{let{userData}=_ref;const[paymentMethods,setPaymentMethods]=useState([]);const[isOpen,setIsOpen]=useState(false);const[cardTableData,setCardTableData]=useState([]);const[ready,setReady]=useState(false);const[primaryCard,setPrimaryCard]=useState(null);const[todoModalOpen,setModalOpenToDo]=useState(false);const[currentlyDue,setCurrentlyDue]=useState([]);const history=useHistory();const[cardInfo,setCardInfo]=useState({cvc:\"\",expiry:\"\",focus:\"\",name:\"\",number:\"\",cardType:\"\"});const handleInputChange=e=>{const{name,value}=e.target;setCardInfo(prevState=>{return{...prevState,[name]:value};});};const deleteSpecificCard=paymentID=>{console.log(\"paymentID\",paymentID);setIsOpen(false);confirmAlert({title:\"You're about to delete a card off of your account...\",message:\"Are you sure you'd like to delete this card permenantly from your account? This action cannot be undone and you will have to add the card again if you wish to use it in the future...\",buttons:[{label:'Yes, Delete This Card!',onClick:()=>{axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/delete/debit/credit/card/hacker/account\"),{hackerID:userData.uniqueId,paymentID}).then(res=>{if(res.data.message===\"Successfully deleted the desired payment method!\"){console.log(res.data);const{payments}=res.data;const convertedPaymentsArr=[];if(typeof payments!==\"undefined\"&&payments.length>0){for(let index=0;index<payments.length;index++){const method=payments[index];convertedPaymentsArr.push({number:/*#__PURE__*/React.createElement(\"div\",{className:\"font-secondary\"},method.lastFour),name:method.name,expiry:method.expiry,dateAdded:moment(method.dateAddedRaw).fromNow(),cardType:method.cardType,action:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{onClick:()=>{deleteSpecificCard(method.id);},className:\"fa fa-trash add-hover-effect-icon\",style:{width:35,fontSize:16,padding:11,color:'#e4566e'}})),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{onClick:()=>{console.log(method);},className:\"fa fa-pencil add-hover-effect-icon\",style:{width:35,fontSize:16,padding:11,color:'rgb(40, 167, 69)'}})))});}}setCardTableData(convertedPaymentsArr);setPaymentMethods(payments);}else{console.log(\"err\",res.data);}}).catch(err=>{console.log(err);});}},{label:'No, Cancel!',onClick:()=>{}}]});};useEffect(()=>{const config={params:{id:userData.uniqueId,accountType:userData.accountType}};axios.get(\"\".concat(process.env.REACT_APP_BASE_URL,\"/determine/primary/card/on/file\"),config).then(res=>{if(res.data.message===\"Successfully found primary card!\"){console.log(res.data);const{lastFour}=res.data;setPrimaryCard(lastFour);}else{console.log(\"err\",res.data);NotificationManager.warning(\"Failed to fetch your current payment method's on file, please reload this page or contact support if this problem persists...\",\"Failed to load previous method's!\",4750);}}).catch(err=>{console.log(err);NotificationManager.warning(\"Failed to fetch your current payment method's on file, please reload this page or contact support if this problem persists...\",\"Failed to load previous method's!\",4750);});},[]);useEffect(()=>{const config={params:{hackerID:userData.uniqueId}};axios.get(\"\".concat(process.env.REACT_APP_BASE_URL,\"/gather/existing/payment/methods/hacker\"),config).then(res=>{if(res.data.message===\"Successfully gathered existing payment method's!\"){console.log(res.data);const{paymentMethods}=res.data;const convertedPaymentsArr=[];if(typeof paymentMethods!==\"undefined\"&&paymentMethods.length>0){for(let index=0;index<paymentMethods.length;index++){const method=paymentMethods[index];convertedPaymentsArr.push({number:/*#__PURE__*/React.createElement(\"div\",{className:\"font-secondary\"},method.lastFour),name:method.name,expiry:method.expiry,dateAdded:moment(method.dateAddedRaw).fromNow(),cardType:method.cardType,action:/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{onClick:()=>{deleteSpecificCard(method.id);},className:\"fa fa-trash add-hover-effect-icon\",style:{width:35,fontSize:16,padding:11,color:'#e4566e'}})),/*#__PURE__*/React.createElement(\"span\",null,/*#__PURE__*/React.createElement(\"i\",{onClick:()=>{console.log(method);},className:\"fa fa-pencil add-hover-effect-icon\",style:{width:35,fontSize:16,padding:11,color:'rgb(40, 167, 69)'}})))});}setCardTableData(convertedPaymentsArr);setPaymentMethods(paymentMethods);setReady(true);}else{setCardTableData([]);setPaymentMethods([]);setReady(true);}}else{console.log(\"err\",res.data);NotificationManager.warning(\"Failed to fetch your current payment method's on file, please reload this page or contact support if this problem persists...\",\"Failed to load previous method's!\",4750);}}).catch(err=>{console.log(err);NotificationManager.warning(\"Failed to fetch your current payment method's on file, please reload this page or contact support if this problem persists...\",\"Failed to load previous method's!\",4750);});},[]);const handleRedirectAndCloseModal=()=>{setModalOpenToDo(false);setTimeout(()=>{history.push(\"/hacker/account/signup/flow/payment/related\");},750);};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Manage Your Active Payment Method's\",title:\"Add A New Payment Method(s)\"}),ready===true?/*#__PURE__*/React.createElement(Sheet,{isOpen:isOpen,onClose:()=>setIsOpen(false)},/*#__PURE__*/React.createElement(Sheet.Container,null,/*#__PURE__*/React.createElement(Sheet.Header,null,/*#__PURE__*/React.createElement(\"div\",{className:\"create-sheet-btn-margin-pricing\"},/*#__PURE__*/React.createElement(Button,{onClick:()=>setIsOpen(false),style:{width:\"100%\"},outline:true,color:\"danger-2x\",className:\"btn-square-danger\"},\"Close Pane & Exit..\"))),/*#__PURE__*/React.createElement(Sheet.Content,null,/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Card,{className:\"card-shadow-card-add-pane\"},/*#__PURE__*/React.createElement(CardHeader,{className:\"bordered-bottom-too b-t-info\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"card-pane-header\"},\"View & manage all of your current cards from this screen!\")),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"table-responsive product-table\"},/*#__PURE__*/React.createElement(DataTable,{noHeader:true,columns:columns,data:cardTableData})))))))),/*#__PURE__*/React.createElement(Sheet.Backdrop,null)):null,/*#__PURE__*/React.createElement(Modal,{classNames:{overlay:'',modal:'overlayCurrentlyDue'},open:todoModalOpen,onClose:()=>setModalOpenToDo(false),center:true},/*#__PURE__*/React.createElement(\"div\",{style:{margin:\"7.5px\"},className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(\"h4\",{className:\"top-modal-to-completed\"},\"The following item's need to be completed via our 'onboarding-flow' before you may proceed forward with activating this payment method/type..\")),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(ListGroup,{className:\"list-group-flush\"},typeof currentlyDue!==\"undefined\"&&currentlyDue.length>0?currentlyDue.map((element,idx)=>{return/*#__PURE__*/React.createElement(ListGroupItem,{key:idx},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"6\",lg:\"6\",xl:\"6\"},/*#__PURE__*/React.createElement(\"strong\",null,\"To Be Completed: \")),/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"6\",lg:\"6\",xl:\"6\"},/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"#f73164\",textDecorationLine:\"underline\"}},element))));}):null),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",lg:\"6\",xl:\"6\",md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{style:{margin:\"7.5px\"},className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(Button,{onClick:()=>setModalOpenToDo(false),className:\"btn-square-danger\",color:\"danger\",style:{width:\"100%\"}},\"Close/Exit Modal\"))),/*#__PURE__*/React.createElement(Col,{sm:\"12\",lg:\"6\",xl:\"6\",md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{style:{margin:\"7.5px\"},className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(Button,{onClick:()=>handleRedirectAndCloseModal(),className:\"btn-square-success\",color:\"success\",style:{width:\"100%\"}},\"Redirect To Complete Required Data\"))))),/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(Card,{className:\"card-shadow-card-add\"},/*#__PURE__*/React.createElement(Row,{className:\"product-page-main\"},/*#__PURE__*/React.createElement(Col,{lg:\"6\",sm:\"12\",md:\"6\",xl:\"6 xl-100\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(\"div\",{className:\"product-page-details\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Manage your payment methods, add new methods, view current methods & much more!\")),/*#__PURE__*/React.createElement(\"div\",{className:\"product-price custom-payment-product-price f-20\"},/*#__PURE__*/React.createElement(\"em\",{style:{color:\"black\"}},\"Current Primary:\"),\" **** **** **** \",primaryCard!==null?primaryCard:\"****\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"p\",null,\"You can manage any/all card or payment related activity with this page. These are the cards/payment-methods that'll be used to \",/*#__PURE__*/React.createElement(\"strong\",{style:{color:\"#f73164\",textDecorationLine:\"underline\"}},\"purchase \",process.env.REACT_APP_APPLICATION_NAME,\"'s \",process.env.REACT_APP_CRYPTO_TOKEN_NAME),\" to be gambled or used as payment for completed hack's. Check out the options on this page to explore our various payment logic...\"),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"table\",{className:\"product-page-width\"},/*#__PURE__*/React.createElement(\"tbody\",null,/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\" \",/*#__PURE__*/React.createElement(\"b\",null,\"Current Active Cards \\xA0\\xA0\\xA0:\")),/*#__PURE__*/React.createElement(\"td\",{className:\"txt-secondary\"},0,\" Method's\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\" \",/*#__PURE__*/React.createElement(\"b\",null,\"Availiable Pending Payment Slots \\xA0\\xA0\\xA0: \\xA0\\xA0\\xA0\")),/*#__PURE__*/React.createElement(\"td\",{className:\"txt-secondary\"},10,\" Slots\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\" \",/*#__PURE__*/React.createElement(\"b\",null,\"Your Current \",process.env.REACT_APP_CRYPTO_TOKEN_NAME,\" # Count \\xA0\\xA0\\xA0: \\xA0\\xA0\\xA0\")),/*#__PURE__*/React.createElement(\"td\",{className:\"txt-secondary\"},1150,\" Token's\")),/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",null,\" \",/*#__PURE__*/React.createElement(\"b\",null,\"Current conversion per each \",process.env.REACT_APP_CRYPTO_TOKEN_NAME,\" \\xA0\\xA0\\xA0: \\xA0\\xA0\\xA0\")),/*#__PURE__*/React.createElement(\"td\",{className:\"txt-secondary\"},\"$15/Token (per each token conversion)\"))))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"h6\",{className:\"product-title\"},\"Share your \".concat(process.env.REACT_APP_CRYPTO_TOKEN_NAME,\" count/supply!\"))),/*#__PURE__*/React.createElement(Col,{md:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"product-icon\"},/*#__PURE__*/React.createElement(\"ul\",{className:\"product-social\"},/*#__PURE__*/React.createElement(\"li\",{className:\"d-inline-block\"},/*#__PURE__*/React.createElement(\"a\",{href:null},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-facebook\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"d-inline-block\"},/*#__PURE__*/React.createElement(\"a\",{href:null},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-google-plus\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"d-inline-block\"},/*#__PURE__*/React.createElement(\"a\",{href:null},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-twitter\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"d-inline-block\"},/*#__PURE__*/React.createElement(\"a\",{href:null},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-instagram\"}))),/*#__PURE__*/React.createElement(\"li\",{className:\"d-inline-block\"},/*#__PURE__*/React.createElement(\"a\",{href:null},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-rss\"})))),/*#__PURE__*/React.createElement(\"form\",{className:\"d-inline-block f-right\"})))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{md:\"12\",lg:\"12\",xl:\"12\",sm:\"12\"},/*#__PURE__*/React.createElement(\"div\",{className:\"m-t-15\"},/*#__PURE__*/React.createElement(Button,{style:{width:\"100%\"},color:\"primary-2x\",outline:true,className:\"btn-square-primary m-r-10\",onClick:()=>{}},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-shopping-basket mr-1\"}),\"Purchase MORE \",process.env.REACT_APP_CRYPTO_TOKEN_NAME)))),/*#__PURE__*/React.createElement(\"hr\",null)))),/*#__PURE__*/React.createElement(Col,{lg:\"6\",sm:\"12\",md:\"6\",xl:\"6 xl-100\"},/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(CardHeader,null,/*#__PURE__*/React.createElement(\"div\",{className:\"product-page-details\"},/*#__PURE__*/React.createElement(\"h3\",null,\"Previously Added Card(s) & Method's\"))),/*#__PURE__*/React.createElement(CardBody,null,/*#__PURE__*/React.createElement(ListGroup,null,typeof paymentMethods!==\"undefined\"&&paymentMethods.length>0?paymentMethods.slice(0,3).map((payment,idx)=>{return/*#__PURE__*/React.createElement(Fragment,{key:idx},/*#__PURE__*/React.createElement(ListGroupItem,{className:\"list-group-item-action listitem-pricing-card flex-column align-items-start\"},/*#__PURE__*/React.createElement(\"div\",{className:\"d-flex w-100 justify-content-between\"},/*#__PURE__*/React.createElement(\"h5\",{className:\"mb-1\"},payment.name),/*#__PURE__*/React.createElement(\"small\",{style:{color:\"#f73164\"},className:\"text-secondary\"},\"Primary Method\")),/*#__PURE__*/React.createElement(\"p\",{className:\"mb-1\"},\"\".concat(payment.lastFour)),/*#__PURE__*/React.createElement(\"small\",{className:\"text-muted\"},\"Exp. \".concat(payment.expiry),\" \",/*#__PURE__*/React.createElement(\"small\",{className:\"float-right\"},\"Card Type: \",payment.cardType))));}):/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(\"img\",{src:require(\"../../../../../assets/images/credit-cards.jpg\"),className:\"credit-cards-placeholder\"})))),/*#__PURE__*/React.createElement(\"div\",{className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(\"div\",{className:\"view-all-card-wrapper\"},/*#__PURE__*/React.createElement(\"a\",{onClick:()=>setIsOpen(true),className:\"view-all-card-text\"},\"View ALL Card's/Method's\")))))))),/*#__PURE__*/React.createElement(BottomAddNewPaymentMethodTabbedHelper,{setModalOpenToDo:setModalOpenToDo,setPaymentMethods:setPaymentMethods,handleInputChange:handleInputChange,cardInfo:cardInfo,setCardInfo:setCardInfo})))));};const mapStateToProps=state=>{return{userData:state.auth.data};};export default connect(mapStateToProps,{})(PaymentMethodsAddNewPaymentMethodHelper);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/paymentLogic/hackers/mainPaymentLogic/mainPaymentPage.js"],"names":["React","Fragment","useState","useEffect","useRef","Container","Row","Col","Button","Card","CardBody","Media","Input","FormGroup","Form","CardHeader","ListGroup","ListGroupItem","connect","useHistory","Breadcrumb","BottomAddNewPaymentMethodTabbedHelper","axios","NotificationManager","Sheet","DataTable","moment","confirmAlert","Modal","columns","name","selector","row","number","expiry","dateAdded","cardType","action","PaymentMethodsAddNewPaymentMethodHelper","userData","paymentMethods","setPaymentMethods","isOpen","setIsOpen","cardTableData","setCardTableData","ready","setReady","primaryCard","setPrimaryCard","todoModalOpen","setModalOpenToDo","currentlyDue","setCurrentlyDue","history","cardInfo","setCardInfo","cvc","focus","handleInputChange","e","value","target","prevState","deleteSpecificCard","paymentID","console","log","title","message","buttons","label","onClick","post","process","env","REACT_APP_BASE_URL","hackerID","uniqueId","then","res","data","payments","convertedPaymentsArr","length","index","method","push","lastFour","dateAddedRaw","fromNow","id","width","fontSize","padding","color","catch","err","config","params","accountType","get","warning","handleRedirectAndCloseModal","setTimeout","overlay","modal","margin","map","element","idx","textDecorationLine","REACT_APP_APPLICATION_NAME","REACT_APP_CRYPTO_TOKEN_NAME","slice","payment","require","mapStateToProps","state","auth"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,QAA1B,CAAoCC,SAApC,CAA+CC,MAA/C,KAA6D,OAA7D,CACA,MAAO,cAAP,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,CAA8BC,MAA9B,CAAsCC,IAAtC,CAA4CC,QAA5C,CAAsDC,KAAtD,CAA6DC,KAA7D,CAAoEC,SAApE,CAA+EC,IAA/E,CAAqFC,UAArF,CAAiGC,SAAjG,CAA4GC,aAA5G,KAAiI,YAAjI,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,kCAAvB,CACA,MAAOC,CAAAA,qCAAP,KAAkD,8CAAlD,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,mBAAT,KAAoC,qBAApC,CACA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CACA,OAASC,YAAT,KAA6B,qBAA7B,CACA,OAASC,KAAT,KAAsB,wBAAtB,CAEA,KAAMC,CAAAA,OAAO,CAAG,CACZ,CACIC,IAAI,CAAE,sBADV,CAEIC,QAAQ,CAAEC,GAAG,EAAIA,GAAG,CAACC,MAFzB,CADY,CAKZ,CACIH,IAAI,CAAE,uBADV,CAEIC,QAAQ,CAAEC,GAAG,EAAIA,GAAG,CAACF,IAFzB,CALY,CASZ,CACIA,IAAI,CAAE,uBADV,CAEIC,QAAQ,CAAEC,GAAG,EAAIA,GAAG,CAACE,MAFzB,CATY,CAaZ,CACIJ,IAAI,CAAE,uBADV,CAEIC,QAAQ,CAAEC,GAAG,EAAIA,GAAG,CAACG,SAFzB,CAbY,CAiBZ,CACIL,IAAI,CAAE,sCADV,CAEIC,QAAQ,CAAEC,GAAG,EAAIA,GAAG,CAACI,QAFzB,CAjBY,CAqBZ,CACIN,IAAI,CAAE,eADV,CAEIC,QAAQ,CAAEC,GAAG,EAAIA,GAAG,CAACK,MAFzB,CArBY,CAAhB,CA2BA,KAAMC,CAAAA,uCAAuC,CAAG,MAAkB,IAAjB,CAAEC,QAAF,CAAiB,MAC9D,KAAM,CAAEC,cAAF,CAAkBC,iBAAlB,EAAwCvC,QAAQ,CAAC,EAAD,CAAtD,CACA,KAAM,CAAEwC,MAAF,CAAUC,SAAV,EAAwBzC,QAAQ,CAAC,KAAD,CAAtC,CACA,KAAM,CAAE0C,aAAF,CAAiBC,gBAAjB,EAAsC3C,QAAQ,CAAC,EAAD,CAApD,CACA,KAAM,CAAE4C,KAAF,CAASC,QAAT,EAAsB7C,QAAQ,CAAC,KAAD,CAApC,CACA,KAAM,CAAE8C,WAAF,CAAeC,cAAf,EAAkC/C,QAAQ,CAAC,IAAD,CAAhD,CACA,KAAM,CAAEgD,aAAF,CAAiBC,gBAAjB,EAAsCjD,QAAQ,CAAC,KAAD,CAApD,CACA,KAAM,CAAEkD,YAAF,CAAgBC,eAAhB,EAAoCnD,QAAQ,CAAC,EAAD,CAAlD,CAGA,KAAMoD,CAAAA,OAAO,CAAGnC,UAAU,EAA1B,CAEA,KAAM,CAAEoC,QAAF,CAAYC,WAAZ,EAA4BtD,QAAQ,CAAC,CACvCuD,GAAG,CAAE,EADkC,CAEvCvB,MAAM,CAAE,EAF+B,CAGvCwB,KAAK,CAAE,EAHgC,CAIvC5B,IAAI,CAAE,EAJiC,CAKvCG,MAAM,CAAE,EAL+B,CAMvCG,QAAQ,CAAE,EAN6B,CAAD,CAA1C,CAQA,KAAMuB,CAAAA,iBAAiB,CAAIC,CAAD,EAAO,CAC7B,KAAM,CAAE9B,IAAF,CAAQ+B,KAAR,EAAkBD,CAAC,CAACE,MAA1B,CAEAN,WAAW,CAACO,SAAS,EAAI,CACrB,MAAO,CACH,GAAGA,SADA,CAEH,CAACjC,IAAD,EAAQ+B,KAFL,CAAP,CAIH,CALU,CAAX,CAMH,CATD,CAUA,KAAMG,CAAAA,kBAAkB,CAAIC,SAAD,EAAe,CACtCC,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAyBF,SAAzB,EAEAtB,SAAS,CAAC,KAAD,CAAT,CAEAhB,YAAY,CAAC,CACTyC,KAAK,uDADI,CAETC,OAAO,yLAFE,CAGTC,OAAO,CAAE,CACP,CACEC,KAAK,CAAE,wBADT,CAEEC,OAAO,CAAE,IAAM,CACXlD,KAAK,CAACmD,IAAN,WAAcC,OAAO,CAACC,GAAR,CAAYC,kBAA1B,6CAAwF,CACpFC,QAAQ,CAAEtC,QAAQ,CAACuC,QADiE,CAEpFb,SAFoF,CAAxF,EAGGc,IAHH,CAGSC,GAAD,EAAS,CACb,GAAIA,GAAG,CAACC,IAAJ,CAASZ,OAAT,GAAqB,kDAAzB,CAA6E,CAEzEH,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACC,IAAhB,EAEA,KAAM,CAAEC,QAAF,EAAeF,GAAG,CAACC,IAAzB,CAEA,KAAME,CAAAA,oBAAoB,CAAG,EAA7B,CAEA,GAAI,MAAOD,CAAAA,QAAP,GAAoB,WAApB,EAAmCA,QAAQ,CAACE,MAAT,CAAkB,CAAzD,CAA4D,CACxD,IAAK,GAAIC,CAAAA,KAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAGH,QAAQ,CAACE,MAArC,CAA6CC,KAAK,EAAlD,CAAsD,CAClD,KAAMC,CAAAA,MAAM,CAAGJ,QAAQ,CAACG,KAAD,CAAvB,CAEAF,oBAAoB,CAACI,IAArB,CAA0B,CACtBtD,MAAM,cAAE,2BAAK,SAAS,CAAC,gBAAf,EAAiCqD,MAAM,CAACE,QAAxC,CADc,CAEtB1D,IAAI,CAAEwD,MAAM,CAACxD,IAFS,CAGtBI,MAAM,CAAEoD,MAAM,CAACpD,MAHO,CAItBC,SAAS,CAAET,MAAM,CAAC4D,MAAM,CAACG,YAAR,CAAN,CAA4BC,OAA5B,EAJW,CAKtBtD,QAAQ,CAAEkD,MAAM,CAAClD,QALK,CAMtBC,MAAM,cAAE,4CAAK,6CAAM,yBAAG,OAAO,CAAE,IAAM,CACjC2B,kBAAkB,CAACsB,MAAM,CAACK,EAAR,CAAlB,CACH,CAFkB,CAEhB,SAAS,CAAC,mCAFM,CAE8B,KAAK,CAAE,CAAEC,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAA2BC,OAAO,CAAE,EAApC,CAAwCC,KAAK,CAAE,SAA/C,CAFrC,EAAN,CAAL,cAGR,6CAAM,yBAAG,OAAO,CAAE,IAAM,CACpB7B,OAAO,CAACC,GAAR,CAAYmB,MAAZ,EACH,CAFK,CAEH,SAAS,CAAC,oCAFP,CAE4C,KAAK,CAAE,CAAEM,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAA2BC,OAAO,CAAE,EAApC,CAAwCC,KAAK,CAAE,kBAA/C,CAFnD,EAAN,CAHQ,CANc,CAA1B,EAcH,CACJ,CAEDlD,gBAAgB,CAACsC,oBAAD,CAAhB,CACA1C,iBAAiB,CAACyC,QAAD,CAAjB,CAEH,CAhCD,IAgCO,CACHhB,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBa,GAAG,CAACC,IAAvB,EACH,CACJ,CAvCD,EAuCGe,KAvCH,CAuCUC,GAAD,EAAS,CACd/B,OAAO,CAACC,GAAR,CAAY8B,GAAZ,EACH,CAzCD,EA0CH,CA7CH,CADO,CAgDP,CACE1B,KAAK,CAAE,aADT,CAEEC,OAAO,CAAE,IAAM,CAAE,CAFnB,CAhDO,CAHA,CAAD,CAAZ,CAyDH,CA9DD,CA+DArE,SAAS,CAAC,IAAM,CACZ,KAAM+F,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,CACJR,EAAE,CAAEpD,QAAQ,CAACuC,QADT,CAEJsB,WAAW,CAAE7D,QAAQ,CAAC6D,WAFlB,CADG,CAAf,CAMA9E,KAAK,CAAC+E,GAAN,WAAa3B,OAAO,CAACC,GAAR,CAAYC,kBAAzB,oCAA8EsB,MAA9E,EAAsFnB,IAAtF,CAA4FC,GAAD,EAAS,CAChG,GAAIA,GAAG,CAACC,IAAJ,CAASZ,OAAT,GAAqB,kCAAzB,CAA6D,CAEzDH,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACC,IAAhB,EAEA,KAAM,CAAEO,QAAF,EAAeR,GAAG,CAACC,IAAzB,CAEAhC,cAAc,CAACuC,QAAD,CAAd,CAEH,CARD,IAQO,CACHtB,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBa,GAAG,CAACC,IAAvB,EAEA1D,mBAAmB,CAAC+E,OAApB,CAA4B,+HAA5B,CAA6J,mCAA7J,CAAkM,IAAlM,EACH,CACJ,CAdD,EAcGN,KAdH,CAcUC,GAAD,EAAS,CACd/B,OAAO,CAACC,GAAR,CAAY8B,GAAZ,EAEA1E,mBAAmB,CAAC+E,OAApB,CAA4B,+HAA5B,CAA6J,mCAA7J,CAAkM,IAAlM,EACH,CAlBD,EAmBH,CA1BQ,CA0BN,EA1BM,CAAT,CA2BAnG,SAAS,CAAC,IAAM,CACZ,KAAM+F,CAAAA,MAAM,CAAG,CACXC,MAAM,CAAE,CACJtB,QAAQ,CAAEtC,QAAQ,CAACuC,QADf,CADG,CAAf,CAKAxD,KAAK,CAAC+E,GAAN,WAAa3B,OAAO,CAACC,GAAR,CAAYC,kBAAzB,4CAAsFsB,MAAtF,EAA8FnB,IAA9F,CAAoGC,GAAD,EAAS,CACxG,GAAIA,GAAG,CAACC,IAAJ,CAASZ,OAAT,GAAqB,kDAAzB,CAA6E,CAEzEH,OAAO,CAACC,GAAR,CAAYa,GAAG,CAACC,IAAhB,EAEA,KAAM,CAAEzC,cAAF,EAAqBwC,GAAG,CAACC,IAA/B,CAEA,KAAME,CAAAA,oBAAoB,CAAG,EAA7B,CACA,GAAI,MAAO3C,CAAAA,cAAP,GAA0B,WAA1B,EAAyCA,cAAc,CAAC4C,MAAf,CAAwB,CAArE,CAAwE,CACpE,IAAK,GAAIC,CAAAA,KAAK,CAAG,CAAjB,CAAoBA,KAAK,CAAG7C,cAAc,CAAC4C,MAA3C,CAAmDC,KAAK,EAAxD,CAA4D,CACxD,KAAMC,CAAAA,MAAM,CAAG9C,cAAc,CAAC6C,KAAD,CAA7B,CAEAF,oBAAoB,CAACI,IAArB,CAA0B,CACtBtD,MAAM,cAAE,2BAAK,SAAS,CAAC,gBAAf,EAAiCqD,MAAM,CAACE,QAAxC,CADc,CAEtB1D,IAAI,CAAEwD,MAAM,CAACxD,IAFS,CAGtBI,MAAM,CAAEoD,MAAM,CAACpD,MAHO,CAItBC,SAAS,CAAET,MAAM,CAAC4D,MAAM,CAACG,YAAR,CAAN,CAA4BC,OAA5B,EAJW,CAKtBtD,QAAQ,CAAEkD,MAAM,CAAClD,QALK,CAMtBC,MAAM,cAAE,4CAAK,6CAAM,yBAAG,OAAO,CAAE,IAAM,CACjC2B,kBAAkB,CAACsB,MAAM,CAACK,EAAR,CAAlB,CACH,CAFkB,CAEhB,SAAS,CAAC,mCAFM,CAE8B,KAAK,CAAE,CAAEC,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAA2BC,OAAO,CAAE,EAApC,CAAwCC,KAAK,CAAE,SAA/C,CAFrC,EAAN,CAAL,cAGR,6CAAM,yBAAG,OAAO,CAAE,IAAM,CACpB7B,OAAO,CAACC,GAAR,CAAYmB,MAAZ,EACH,CAFK,CAEH,SAAS,CAAC,oCAFP,CAE4C,KAAK,CAAE,CAAEM,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAA2BC,OAAO,CAAE,EAApC,CAAwCC,KAAK,CAAE,kBAA/C,CAFnD,EAAN,CAHQ,CANc,CAA1B,EAcH,CAEDlD,gBAAgB,CAACsC,oBAAD,CAAhB,CACA1C,iBAAiB,CAACD,cAAD,CAAjB,CACAO,QAAQ,CAAC,IAAD,CAAR,CACH,CAvBD,IAuBO,CACHF,gBAAgB,CAAC,EAAD,CAAhB,CACAJ,iBAAiB,CAAC,EAAD,CAAjB,CACAM,QAAQ,CAAC,IAAD,CAAR,CACH,CACJ,CAnCD,IAmCO,CACHmB,OAAO,CAACC,GAAR,CAAY,KAAZ,CAAmBa,GAAG,CAACC,IAAvB,EAEA1D,mBAAmB,CAAC+E,OAApB,CAA4B,+HAA5B,CAA6J,mCAA7J,CAAkM,IAAlM,EACH,CACJ,CAzCD,EAyCGN,KAzCH,CAyCUC,GAAD,EAAS,CACd/B,OAAO,CAACC,GAAR,CAAY8B,GAAZ,EAEA1E,mBAAmB,CAAC+E,OAApB,CAA4B,+HAA5B,CAA6J,mCAA7J,CAAkM,IAAlM,EACH,CA7CD,EA8CH,CApDQ,CAoDN,EApDM,CAAT,CAsDA,KAAMC,CAAAA,2BAA2B,CAAG,IAAM,CAEtCpD,gBAAgB,CAAC,KAAD,CAAhB,CAEAqD,UAAU,CAAC,IAAM,CACblD,OAAO,CAACiC,IAAR,CAAa,6CAAb,EACH,CAFS,CAEN,GAFM,CAAV,CAGH,CAPD,CAUA,mBACI,oBAAC,QAAD,mBACI,oBAAC,UAAD,EAAY,MAAM,CAAC,qCAAnB,CAAyD,KAAK,CAAC,6BAA/D,EADJ,CAEKzC,KAAK,GAAK,IAAV,cAAiB,oBAAC,KAAD,EAAO,MAAM,CAAEJ,MAAf,CAAuB,OAAO,CAAE,IAAMC,SAAS,CAAC,KAAD,CAA/C,eACd,oBAAC,KAAD,CAAO,SAAP,mBACI,oBAAC,KAAD,CAAO,MAAP,mBACI,2BAAK,SAAS,CAAC,iCAAf,eACI,oBAAC,MAAD,EAAQ,OAAO,CAAE,IAAMA,SAAS,CAAC,KAAD,CAAhC,CAAyC,KAAK,CAAE,CAAEiD,KAAK,CAAE,MAAT,CAAhD,CAAmE,OAAO,KAA1E,CAA2E,KAAK,CAAC,WAAjF,CAA6F,SAAS,CAAC,mBAAvG,wBADJ,CADJ,CADJ,cAMI,oBAAC,KAAD,CAAO,OAAP,mBACI,oBAAC,SAAD,EAAW,KAAK,CAAE,IAAlB,eACI,oBAAC,GAAD,mBACI,oBAAC,IAAD,EAAM,SAAS,CAAC,2BAAhB,eACI,oBAAC,UAAD,EAAY,SAAS,CAAC,8BAAtB,eACI,0BAAI,SAAS,CAAC,kBAAd,8DADJ,CADJ,cAII,oBAAC,QAAD,mBACI,2BAAK,SAAS,CAAC,gCAAf,eACI,oBAAC,SAAD,EACI,QAAQ,KADZ,CAEI,OAAO,CAAE/D,OAFb,CAGI,IAAI,CAAEe,aAHV,EADJ,CADJ,CAJJ,CADJ,CADJ,CADJ,CANJ,CADc,cA4Bd,oBAAC,KAAD,CAAO,QAAP,MA5Bc,CAAjB,CA6BU,IA/Bf,cAgCI,oBAAC,KAAD,EAAO,UAAU,CAAE,CACf6D,OAAO,CAAE,EADM,CAEfC,KAAK,CAAE,qBAFQ,CAAnB,CAGG,IAAI,CAAExD,aAHT,CAGwB,OAAO,CAAE,IAAMC,gBAAgB,CAAC,KAAD,CAHvD,CAGgE,MAAM,KAHtE,eAII,2BAAK,KAAK,CAAE,CAAEwD,MAAM,CAAE,OAAV,CAAZ,CAAiC,SAAS,CAAC,oBAA3C,eACI,0BAAI,SAAS,CAAC,wBAAd,kJADJ,CAJJ,cAOI,8BAPJ,cAQQ,oBAAC,SAAD,EAAW,SAAS,CAAC,kBAArB,EACK,MAAOvD,CAAAA,YAAP,GAAwB,WAAxB,EAAuCA,YAAY,CAACgC,MAAb,CAAsB,CAA7D,CAAiEhC,YAAY,CAACwD,GAAb,CAAiB,CAACC,OAAD,CAAUC,GAAV,GAAkB,CACjG,mBACI,oBAAC,aAAD,EAAe,GAAG,CAAEA,GAApB,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,CAAa,EAAE,CAAC,GAAhB,CAAoB,EAAE,CAAC,GAAvB,CAA2B,EAAE,CAAC,GAA9B,eACI,sDADJ,CADJ,cAII,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,CAAa,EAAE,CAAC,GAAhB,CAAoB,EAAE,CAAC,GAAvB,CAA2B,EAAE,CAAC,GAA9B,eACI,8BAAQ,KAAK,CAAE,CAAEf,KAAK,CAAE,SAAT,CAAoBgB,kBAAkB,CAAE,WAAxC,CAAf,EAAuEF,OAAvE,CADJ,CAJJ,CADJ,CADJ,CAYH,CAbiE,CAAjE,CAaI,IAdT,CARR,cAwBI,8BAxBJ,cAyBI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,CAAa,EAAE,CAAC,GAAhB,CAAoB,EAAE,CAAC,GAAvB,CAA2B,EAAE,CAAC,GAA9B,eACI,2BAAK,KAAK,CAAE,CAAEF,MAAM,CAAE,OAAV,CAAZ,CAAiC,SAAS,CAAC,oBAA3C,eACI,oBAAC,MAAD,EAAQ,OAAO,CAAE,IAAMxD,gBAAgB,CAAC,KAAD,CAAvC,CAAgD,SAAS,CAAE,mBAA3D,CAAgF,KAAK,CAAE,QAAvF,CAAiG,KAAK,CAAE,CAAEyC,KAAK,CAAE,MAAT,CAAxG,qBADJ,CADJ,CADJ,cAMI,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,CAAa,EAAE,CAAC,GAAhB,CAAoB,EAAE,CAAC,GAAvB,CAA2B,EAAE,CAAC,GAA9B,eACI,2BAAK,KAAK,CAAE,CAAEe,MAAM,CAAE,OAAV,CAAZ,CAAiC,SAAS,CAAC,oBAA3C,eACI,oBAAC,MAAD,EAAQ,OAAO,CAAE,IAAMJ,2BAA2B,EAAlD,CAAsD,SAAS,CAAE,oBAAjE,CAAuF,KAAK,CAAE,SAA9F,CAAyG,KAAK,CAAE,CAAEX,KAAK,CAAE,MAAT,CAAhH,uCADJ,CADJ,CANJ,CAzBJ,CAhCJ,cAsEI,oBAAC,SAAD,EAAW,KAAK,CAAE,IAAlB,eACI,oBAAC,GAAD,mBACI,oBAAC,GAAD,mBACA,oBAAC,IAAD,EAAM,SAAS,CAAC,sBAAhB,eACI,oBAAC,GAAD,EAAK,SAAS,CAAC,mBAAf,eACI,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,EAAE,CAAC,IAAf,CAAoB,EAAE,CAAC,GAAvB,CAA2B,EAAE,CAAC,UAA9B,eACI,oBAAC,IAAD,mBACI,oBAAC,QAAD,mBACI,2BAAK,SAAS,CAAC,sBAAf,eACI,8BAAK,iFAAL,CADJ,CADJ,cAII,2BAAK,SAAS,CAAC,iDAAf,eACI,0BAAI,KAAK,CAAE,CAAEG,KAAK,CAAE,OAAT,CAAX,qBADJ,oBACyE/C,WAAW,GAAK,IAAhB,CAAuBA,WAAvB,CAAqC,MAD9G,CAJJ,cAOI,8BAPJ,cAQI,4KAAkI,8BAAQ,KAAK,CAAE,CAAE+C,KAAK,CAAE,SAAT,CAAoBgB,kBAAkB,CAAE,WAAxC,CAAf,cAAgFrC,OAAO,CAACC,GAAR,CAAYqC,0BAA5F,OAA2HtC,OAAO,CAACC,GAAR,CAAYsC,2BAAvI,CAAlI,sIARJ,cASI,8BATJ,cAUI,4CACI,6BAAO,SAAS,CAAC,oBAAjB,eACA,8CACI,2CACA,+CAAK,kEAAL,CADA,cAEA,0BAAI,SAAS,CAAC,eAAd,EAA+B,CAA/B,aAFA,CADJ,cAKI,2CACA,+CAAK,2FAAL,CADA,cAEA,0BAAI,SAAS,CAAC,eAAd,EAA+B,EAA/B,UAFA,CALJ,cASI,2CACA,+CAAK,6CAAiBvC,OAAO,CAACC,GAAR,CAAYsC,2BAA7B,uCAAL,CADA,cAEA,0BAAI,SAAS,CAAC,eAAd,EAA+B,IAA/B,YAFA,CATJ,cAaI,2CACA,+CAAK,4DAAgCvC,OAAO,CAACC,GAAR,CAAYsC,2BAA5C,+BAAL,CADA,cAEA,0BAAI,SAAS,CAAC,eAAd,EAA+B,uCAA/B,CAFA,CAbJ,CADA,CADJ,CAVJ,cAgCI,8BAhCJ,cAiCI,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACA,0BAAI,SAAS,CAAC,eAAd,uBAA6CvC,OAAO,CAACC,GAAR,CAAYsC,2BAAzD,mBADA,CADJ,cAII,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,eACA,2BAAK,SAAS,CAAC,cAAf,eACI,0BAAI,SAAS,CAAC,gBAAd,eACA,0BAAI,SAAS,CAAC,gBAAd,eAA+B,yBAAG,IAAI,CAAE,IAAT,eAAe,yBAAG,SAAS,CAAC,gBAAb,EAAf,CAA/B,CADA,cAEA,0BAAI,SAAS,CAAC,gBAAd,eAA+B,yBAAG,IAAI,CAAE,IAAT,eAAe,yBAAG,SAAS,CAAC,mBAAb,EAAf,CAA/B,CAFA,cAGA,0BAAI,SAAS,CAAC,gBAAd,eAA+B,yBAAG,IAAI,CAAE,IAAT,eAAe,yBAAG,SAAS,CAAC,eAAb,EAAf,CAA/B,CAHA,cAIA,0BAAI,SAAS,CAAC,gBAAd,eAA+B,yBAAG,IAAI,CAAE,IAAT,eAAe,yBAAG,SAAS,CAAC,iBAAb,EAAf,CAA/B,CAJA,cAKA,0BAAI,SAAS,CAAC,gBAAd,eAA+B,yBAAG,IAAI,CAAE,IAAT,eAAe,yBAAG,SAAS,CAAC,WAAb,EAAf,CAA/B,CALA,CADJ,cAQI,4BAAM,SAAS,CAAC,wBAAhB,EARJ,CADA,CAJJ,CAjCJ,cAkDI,8BAlDJ,cAmDQ,oBAAC,GAAD,mBACI,oBAAC,GAAD,EAAK,EAAE,CAAC,IAAR,CAAa,EAAE,CAAC,IAAhB,CAAqB,EAAE,CAAC,IAAxB,CAA6B,EAAE,CAAC,IAAhC,eACI,2BAAK,SAAS,CAAC,QAAf,eACI,oBAAC,MAAD,EAAQ,KAAK,CAAE,CAAErB,KAAK,CAAE,MAAT,CAAf,CAAkC,KAAK,CAAC,YAAxC,CAAqD,OAAO,KAA5D,CAA6D,SAAS,CAAC,2BAAvE,CAAmG,OAAO,CAAE,IAAM,CAAE,CAApH,eACI,yBAAG,SAAS,CAAC,4BAAb,EADJ,kBACiElB,OAAO,CAACC,GAAR,CAAYsC,2BAD7E,CADJ,CADJ,CADJ,CAnDR,cA4DI,8BA5DJ,CADJ,CADJ,CADJ,cAmEI,oBAAC,GAAD,EAAK,EAAE,CAAC,GAAR,CAAY,EAAE,CAAC,IAAf,CAAoB,EAAE,CAAC,GAAvB,CAA2B,EAAE,CAAC,UAA9B,eACI,oBAAC,IAAD,mBACI,oBAAC,UAAD,mBACI,2BAAK,SAAS,CAAC,sBAAf,eACI,8BAAK,qCAAL,CADJ,CADJ,CADJ,cAMI,oBAAC,QAAD,mBACI,oBAAC,SAAD,MACK,MAAOzE,CAAAA,cAAP,GAA0B,WAA1B,EAAyCA,cAAc,CAAC4C,MAAf,CAAwB,CAAjE,CAAqE5C,cAAc,CAAC0E,KAAf,CAAqB,CAArB,CAAwB,CAAxB,EAA2BN,GAA3B,CAA+B,CAACO,OAAD,CAAUL,GAAV,GAAkB,CACnH,mBACI,oBAAC,QAAD,EAAU,GAAG,CAAEA,GAAf,eACI,oBAAC,aAAD,EAAe,SAAS,CAAC,4EAAzB,eACI,2BAAK,SAAS,CAAC,sCAAf,eACI,0BAAI,SAAS,CAAC,MAAd,EAAsBK,OAAO,CAACrF,IAA9B,CADJ,cAC4C,6BAAO,KAAK,CAAE,CAAEiE,KAAK,CAAE,SAAT,CAAd,CAAoC,SAAS,CAAC,gBAA9C,EAAgE,gBAAhE,CAD5C,CADJ,cAII,yBAAG,SAAS,CAAC,MAAb,YAAwBoB,OAAO,CAAC3B,QAAhC,EAJJ,cAKI,6BAAO,SAAS,CAAC,YAAjB,iBAAuC2B,OAAO,CAACjF,MAA/C,mBAAyD,6BAAO,SAAS,CAAC,aAAjB,gBAA2CiF,OAAO,CAAC/E,QAAnD,CAAzD,CALJ,CADJ,CADJ,CAWH,CAZqE,CAArE,cAYI,oBAAC,QAAD,mBACD,2BAAK,SAAS,CAAC,oBAAf,eACI,2BAAK,GAAG,CAAEgF,OAAO,CAAC,+CAAD,CAAjB,CAAoE,SAAS,CAAE,0BAA/E,EADJ,CADC,CAbT,CADJ,cAoBI,2BAAK,SAAS,CAAC,oBAAf,eACI,2BAAK,SAAS,CAAC,uBAAf,eACI,yBAAG,OAAO,CAAE,IAAMzE,SAAS,CAAC,IAAD,CAA3B,CAAmC,SAAS,CAAC,oBAA7C,6BADJ,CADJ,CApBJ,CANJ,CADJ,CAnEJ,CADJ,CADA,cA0GJ,oBAAC,qCAAD,EAAuC,gBAAgB,CAAEQ,gBAAzD,CAA2E,iBAAiB,CAAEV,iBAA9F,CAAiH,iBAAiB,CAAEkB,iBAApI,CAAuJ,QAAQ,CAAEJ,QAAjK,CAA2K,WAAW,CAAEC,WAAxL,EA1GI,CADJ,CADJ,CAtEJ,CADJ,CAwLH,CAhXD,CAiXA,KAAM6D,CAAAA,eAAe,CAAIC,KAAD,EAAW,CAC/B,MAAO,CACH/E,QAAQ,CAAE+E,KAAK,CAACC,IAAN,CAAWtC,IADlB,CAAP,CAGH,CAJD,CAKA,cAAe/D,CAAAA,OAAO,CAACmG,eAAD,CAAkB,EAAlB,CAAP,CAA+B/E,uCAA/B,CAAf","sourcesContent":["import React, { Fragment, useState, useEffect, useRef } from \"react\";\nimport \"./styles.css\";\nimport { Container, Row, Col, Button, Card, CardBody, Media, Input, FormGroup, Form, CardHeader, ListGroup, ListGroupItem } from 'reactstrap';\nimport { connect } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport Breadcrumb from '../../../../../layout/breadcrumb';\nimport BottomAddNewPaymentMethodTabbedHelper from './helpers/bottomTabbed/bottomTabbedHelper.js';\nimport axios from \"axios\";\nimport { NotificationManager } from 'react-notifications';\nimport Sheet from 'react-modal-sheet';\nimport DataTable from 'react-data-table-component';\nimport moment from \"moment\";\nimport { confirmAlert } from 'react-confirm-alert';\nimport { Modal } from 'react-responsive-modal';\n\nconst columns = [\n    {\n        name: 'Card Number (last 4)',\n        selector: row => row.number,\n    },\n    {\n        name: 'Card Name (Full Name)',\n        selector: row => row.name,\n    },\n    {\n        name: 'Exp (Expiration Date)',\n        selector: row => row.expiry,\n    },\n    {\n        name: 'Date Added (From Now)',\n        selector: row => row.dateAdded,\n    },\n    {\n        name: 'Card Type (Visa, Mastercard, etc...)',\n        selector: row => row.cardType,\n    },\n    {\n        name: \"Card Action's\",\n        selector: row => row.action,\n    }\n];\n\nconst PaymentMethodsAddNewPaymentMethodHelper = ({ userData }) => {\n    const [ paymentMethods, setPaymentMethods ] = useState([]);\n    const [ isOpen, setIsOpen ] = useState(false);\n    const [ cardTableData, setCardTableData ] = useState([]);\n    const [ ready, setReady ] = useState(false);\n    const [ primaryCard, setPrimaryCard ] = useState(null);\n    const [ todoModalOpen, setModalOpenToDo ] = useState(false);\n    const [ currentlyDue, setCurrentlyDue ] = useState([]);\n\n\n    const history = useHistory();\n\n    const [ cardInfo, setCardInfo ] = useState({\n        cvc: \"\",\n        expiry: \"\",\n        focus: \"\",\n        name: \"\",\n        number: \"\",\n        cardType: \"\"\n    })\n    const handleInputChange = (e) => {\n        const { name, value } = e.target;\n        \n        setCardInfo(prevState => {\n            return {\n                ...prevState,\n                [name]: value\n            }\n        })\n    }\n    const deleteSpecificCard = (paymentID) => {\n        console.log(\"paymentID\", paymentID);\n\n        setIsOpen(false);\n\n        confirmAlert({\n            title: `You're about to delete a card off of your account...`,\n            message: `Are you sure you'd like to delete this card permenantly from your account? This action cannot be undone and you will have to add the card again if you wish to use it in the future...`,\n            buttons: [\n              {\n                label: 'Yes, Delete This Card!',\n                onClick: () => {\n                    axios.post(`${process.env.REACT_APP_BASE_URL}/delete/debit/credit/card/hacker/account`, {\n                        hackerID: userData.uniqueId,\n                        paymentID\n                    }).then((res) => {\n                        if (res.data.message === \"Successfully deleted the desired payment method!\") {\n            \n                            console.log(res.data);\n            \n                            const { payments } = res.data;\n            \n                            const convertedPaymentsArr = [];\n            \n                            if (typeof payments !== \"undefined\" && payments.length > 0) {\n                                for (let index = 0; index < payments.length; index++) {\n                                    const method = payments[index];\n                                    \n                                    convertedPaymentsArr.push({\n                                        number: <div className='font-secondary'>{method.lastFour}</div>,\n                                        name: method.name,\n                                        expiry: method.expiry,\n                                        dateAdded: moment(method.dateAddedRaw).fromNow(),\n                                        cardType: method.cardType,\n                                        action: <div><span><i onClick={() => {\n                                            deleteSpecificCard(method.id)\n                                        }} className=\"fa fa-trash add-hover-effect-icon\" style={{ width: 35, fontSize: 16, padding: 11, color: '#e4566e' }}></i></span>\n                                        <span><i onClick={() => {\n                                            console.log(method);\n                                        }} className=\"fa fa-pencil add-hover-effect-icon\" style={{ width: 35, fontSize: 16, padding: 11, color: 'rgb(40, 167, 69)' }}></i></span>\n                                        </div>\n                                    })\n                                }\n                            }\n            \n                            setCardTableData(convertedPaymentsArr);\n                            setPaymentMethods(payments);\n            \n                        } else {\n                            console.log(\"err\", res.data);\n                        }\n                    }).catch((err) => {\n                        console.log(err);\n                    })\n                }\n              },\n              {\n                label: 'No, Cancel!',\n                onClick: () => {}\n              }\n            ]\n        });\n    }\n    useEffect(() => {\n        const config = {\n            params: {\n                id: userData.uniqueId,\n                accountType: userData.accountType\n            }\n        }\n        axios.get(`${process.env.REACT_APP_BASE_URL}/determine/primary/card/on/file`, config).then((res) => {\n            if (res.data.message === \"Successfully found primary card!\") {\n\n                console.log(res.data);\n\n                const { lastFour } = res.data;\n\n                setPrimaryCard(lastFour);\n\n            } else {\n                console.log(\"err\", res.data);\n                \n                NotificationManager.warning(\"Failed to fetch your current payment method's on file, please reload this page or contact support if this problem persists...\", \"Failed to load previous method's!\", 4750);\n            }\n        }).catch((err) => {\n            console.log(err);\n\n            NotificationManager.warning(\"Failed to fetch your current payment method's on file, please reload this page or contact support if this problem persists...\", \"Failed to load previous method's!\", 4750);\n        })\n    }, [])\n    useEffect(() => {\n        const config = {\n            params: {\n                hackerID: userData.uniqueId\n            }\n        }\n        axios.get(`${process.env.REACT_APP_BASE_URL}/gather/existing/payment/methods/hacker`, config).then((res) => {\n            if (res.data.message === \"Successfully gathered existing payment method's!\") {\n\n                console.log(res.data);\n\n                const { paymentMethods } = res.data;\n\n                const convertedPaymentsArr = [];\n                if (typeof paymentMethods !== \"undefined\" && paymentMethods.length > 0) {\n                    for (let index = 0; index < paymentMethods.length; index++) {\n                        const method = paymentMethods[index];\n                        \n                        convertedPaymentsArr.push({\n                            number: <div className='font-secondary'>{method.lastFour}</div>,\n                            name: method.name,\n                            expiry: method.expiry,\n                            dateAdded: moment(method.dateAddedRaw).fromNow(),\n                            cardType: method.cardType,\n                            action: <div><span><i onClick={() => {\n                                deleteSpecificCard(method.id)\n                            }} className=\"fa fa-trash add-hover-effect-icon\" style={{ width: 35, fontSize: 16, padding: 11, color: '#e4566e' }}></i></span>\n                            <span><i onClick={() => {\n                                console.log(method);\n                            }} className=\"fa fa-pencil add-hover-effect-icon\" style={{ width: 35, fontSize: 16, padding: 11, color: 'rgb(40, 167, 69)' }}></i></span>\n                            </div>\n                        })\n                    }\n    \n                    setCardTableData(convertedPaymentsArr);\n                    setPaymentMethods(paymentMethods);\n                    setReady(true);\n                } else {\n                    setCardTableData([]);\n                    setPaymentMethods([]);\n                    setReady(true);\n                }\n            } else {\n                console.log(\"err\", res.data);\n                \n                NotificationManager.warning(\"Failed to fetch your current payment method's on file, please reload this page or contact support if this problem persists...\", \"Failed to load previous method's!\", 4750);\n            }\n        }).catch((err) => {\n            console.log(err);\n\n            NotificationManager.warning(\"Failed to fetch your current payment method's on file, please reload this page or contact support if this problem persists...\", \"Failed to load previous method's!\", 4750);\n        })\n    }, []);\n\n    const handleRedirectAndCloseModal = () => {\n        \n        setModalOpenToDo(false);\n\n        setTimeout(() => {\n            history.push(\"/hacker/account/signup/flow/payment/related\");\n        },  750);\n    }\n\n\n    return (\n        <Fragment>\n            <Breadcrumb parent=\"Manage Your Active Payment Method's\" title=\"Add A New Payment Method(s)\"/>\n            {ready === true ? <Sheet isOpen={isOpen} onClose={() => setIsOpen(false)}>\n                <Sheet.Container>\n                    <Sheet.Header>\n                        <div className=\"create-sheet-btn-margin-pricing\">\n                            <Button onClick={() => setIsOpen(false)} style={{ width: \"100%\" }} outline color=\"danger-2x\" className=\"btn-square-danger\">Close Pane & Exit..</Button>\n                        </div>\n                    </Sheet.Header>\n                    <Sheet.Content>\n                        <Container fluid={true}>\n                            <Row>\n                                <Card className=\"card-shadow-card-add-pane\">\n                                    <CardHeader className=\"bordered-bottom-too b-t-info\">\n                                        <h4 className=\"card-pane-header\">View & manage all of your current cards from this screen!</h4>\n                                    </CardHeader>\n                                    <CardBody>\n                                        <div className=\"table-responsive product-table\">\n                                            <DataTable\n                                                noHeader\n                                                columns={columns}\n                                                data={cardTableData}\n                                            />\n                                        </div>\n                                    </CardBody>\n                                </Card>\n                            </Row>\n                        </Container>\n                    </Sheet.Content>\n                </Sheet.Container>\n                <Sheet.Backdrop />\n            </Sheet> : null}\n            <Modal classNames={{\n                overlay: '',\n                modal: 'overlayCurrentlyDue',\n            }} open={todoModalOpen} onClose={() => setModalOpenToDo(false)} center>\n                <div style={{ margin: \"7.5px\" }} className=\"centered-both-ways\">\n                    <h4 className='top-modal-to-completed'>The following item's need to be completed via our 'onboarding-flow' before you may proceed forward with activating this payment method/type..</h4>\n                </div>\n                <hr />\n                    <ListGroup className=\"list-group-flush\">\n                        {typeof currentlyDue !== \"undefined\" && currentlyDue.length > 0 ? currentlyDue.map((element, idx) => {\n                            return (\n                                <ListGroupItem key={idx}>\n                                    <Row>\n                                        <Col sm=\"12\" md=\"6\" lg=\"6\" xl=\"6\">\n                                            <strong>To Be Completed: </strong>\n                                        </Col>\n                                        <Col sm=\"12\" md=\"6\" lg=\"6\" xl=\"6\">\n                                            <strong style={{ color: \"#f73164\", textDecorationLine: \"underline\" }}>{element}</strong>\n                                        </Col>\n                                    </Row>\n                                </ListGroupItem>\n                            );\n                        }) : null}\n                    </ListGroup>\n                <hr />\n                <Row>\n                    <Col sm=\"12\" lg=\"6\" xl=\"6\" md=\"6\">\n                        <div style={{ margin: \"7.5px\" }} className=\"centered-both-ways\">\n                            <Button onClick={() => setModalOpenToDo(false)} className={\"btn-square-danger\"} color={\"danger\"} style={{ width: \"100%\" }}>Close/Exit Modal</Button>\n                        </div>\n                    </Col>\n                    <Col sm=\"12\" lg=\"6\" xl=\"6\" md=\"6\">\n                        <div style={{ margin: \"7.5px\" }} className=\"centered-both-ways\">\n                            <Button onClick={() => handleRedirectAndCloseModal()} className={\"btn-square-success\"} color={\"success\"} style={{ width: \"100%\" }}>Redirect To Complete Required Data</Button>\n                        </div>\n                    </Col>\n                </Row>\n            </Modal>\n            <Container fluid={true}>\n                <Row>\n                    <Col>\n                    <Card className=\"card-shadow-card-add\">\n                        <Row className=\"product-page-main\">\n                            <Col lg=\"6\" sm=\"12\" md=\"6\" xl=\"6 xl-100\">\n                                <Card>\n                                    <CardBody>\n                                        <div className=\"product-page-details\">\n                                            <h3>{\"Manage your payment methods, add new methods, view current methods & much more!\"}</h3>\n                                        </div>\n                                        <div className=\"product-price custom-payment-product-price f-20\">\n                                            <em style={{ color: \"black\" }}>Current Primary:</em> **** **** **** {primaryCard !== null ? primaryCard : \"****\"}\n                                        </div>\n                                        <hr/>\n                                        <p>You can manage any/all card or payment related activity with this page. These are the cards/payment-methods that'll be used to <strong style={{ color: \"#f73164\", textDecorationLine: \"underline\" }}>purchase {process.env.REACT_APP_APPLICATION_NAME}'s {process.env.REACT_APP_CRYPTO_TOKEN_NAME}</strong> to be gambled or used as payment for completed hack's. Check out the options on this page to explore our various payment logic...</p>\n                                        <hr/>\n                                        <div>\n                                            <table className=\"product-page-width\">\n                                            <tbody>\n                                                <tr>\n                                                <td> <b>Current Active Cards &nbsp;&nbsp;&nbsp;:</b></td>\n                                                <td className=\"txt-secondary\">{0} Method's</td>\n                                                </tr>\n                                                <tr>\n                                                <td> <b>Availiable Pending Payment Slots &nbsp;&nbsp;&nbsp;: &nbsp;&nbsp;&nbsp;</b></td>\n                                                <td className=\"txt-secondary\">{10} Slots</td>\n                                                </tr>\n                                                <tr>\n                                                <td> <b>Your Current {process.env.REACT_APP_CRYPTO_TOKEN_NAME} # Count &nbsp;&nbsp;&nbsp;: &nbsp;&nbsp;&nbsp;</b></td>\n                                                <td className=\"txt-secondary\">{1150} Token's</td> \n                                                </tr>\n                                                <tr>\n                                                <td> <b>Current conversion per each {process.env.REACT_APP_CRYPTO_TOKEN_NAME} &nbsp;&nbsp;&nbsp;: &nbsp;&nbsp;&nbsp;</b></td>\n                                                <td className=\"txt-secondary\">{\"$15/Token (per each token conversion)\"}</td>\n                                                </tr>\n                                            </tbody>\n                                            </table>\n                                        </div>\n                                        <hr/>\n                                        <Row>\n                                            <Col md=\"6\">\n                                            <h6 className=\"product-title\">{`Share your ${process.env.REACT_APP_CRYPTO_TOKEN_NAME} count/supply!`}</h6>\n                                            </Col>\n                                            <Col md=\"6\">\n                                            <div className=\"product-icon\">\n                                                <ul className=\"product-social\">\n                                                <li className=\"d-inline-block\"><a href={null}><i className=\"fa fa-facebook\"></i></a></li>\n                                                <li className=\"d-inline-block\"><a href={null}><i className=\"fa fa-google-plus\"></i></a></li>\n                                                <li className=\"d-inline-block\"><a href={null}><i className=\"fa fa-twitter\"></i></a></li>\n                                                <li className=\"d-inline-block\"><a href={null}><i className=\"fa fa-instagram\"></i></a></li>\n                                                <li className=\"d-inline-block\"><a href={null}><i className=\"fa fa-rss\"></i></a></li>\n                                                </ul>\n                                                <form className=\"d-inline-block f-right\"></form>\n                                            </div>\n                                            </Col>\n                                        </Row>\n                                        <hr/>\n                                            <Row>\n                                                <Col md=\"12\" lg=\"12\" xl=\"12\" sm=\"12\">\n                                                    <div className=\"m-t-15\">\n                                                        <Button style={{ width: \"100%\" }} color=\"primary-2x\" outline className=\"btn-square-primary m-r-10\" onClick={() => {}} >\n                                                            <i className=\"fa fa-shopping-basket mr-1\"></i>Purchase MORE {process.env.REACT_APP_CRYPTO_TOKEN_NAME}\n                                                        </Button>\n                                                    </div>\n                                                </Col>\n                                            </Row>\n                                        <hr/>\n                                    </CardBody>\n                                </Card>\n                            </Col>\n                            <Col lg=\"6\" sm=\"12\" md=\"6\" xl=\"6 xl-100\">\n                                <Card>\n                                    <CardHeader>\n                                        <div className=\"product-page-details\">\n                                            <h3>{\"Previously Added Card(s) & Method's\"}</h3>\n                                        </div>\n                                    </CardHeader>\n                                    <CardBody>\n                                        <ListGroup>\n                                            {typeof paymentMethods !== \"undefined\" && paymentMethods.length > 0 ? paymentMethods.slice(0, 3).map((payment, idx) => {\n                                                return (\n                                                    <Fragment key={idx}>\n                                                        <ListGroupItem className=\"list-group-item-action listitem-pricing-card flex-column align-items-start\">\n                                                            <div className=\"d-flex w-100 justify-content-between\">\n                                                                <h5 className=\"mb-1\">{payment.name}</h5><small style={{ color: \"#f73164\" }} className=\"text-secondary\">{\"Primary Method\"}</small>\n                                                            </div>\n                                                            <p className=\"mb-1\">{`${payment.lastFour}`}</p>\n                                                            <small className=\"text-muted\">{`Exp. ${payment.expiry}`} <small className=\"float-right\">Card Type: {payment.cardType}</small></small>\n                                                        </ListGroupItem>\n                                                    </Fragment>\n                                                );\n                                            }) : <Fragment>\n                                                <div className=\"centered-both-ways\">\n                                                    <img src={require(\"../../../../../assets/images/credit-cards.jpg\")} className={\"credit-cards-placeholder\"} />\n                                                </div>\n                                            </Fragment>}\n                                        </ListGroup>\n                                        <div className=\"centered-both-ways\">\n                                            <div className=\"view-all-card-wrapper\">\n                                                <a onClick={() => setIsOpen(true)} className=\"view-all-card-text\">View ALL Card's/Method's</a>\n                                            </div>\n                                        </div>\n                                    </CardBody>\n                                </Card>\n                            </Col>\n                        </Row>\n                    </Card>\n                <BottomAddNewPaymentMethodTabbedHelper setModalOpenToDo={setModalOpenToDo} setPaymentMethods={setPaymentMethods} handleInputChange={handleInputChange} cardInfo={cardInfo} setCardInfo={setCardInfo} /></Col>\n                </Row>\n            </Container>\n        </Fragment>\n    );\n}\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data\n    }\n}\nexport default connect(mapStateToProps, {  })(PaymentMethodsAddNewPaymentMethodHelper);"]},"metadata":{},"sourceType":"module"}