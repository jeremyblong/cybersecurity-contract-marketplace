{"ast":null,"code":"var _jsxFileName = \"/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/learning/educationalCoursesSeminars/previouslyPurchased/listPurchasedCourses/individual/viewIndividualCourseAndDownload.js\";\nimport React, { Fragment, useEffect, useState } from 'react';\nimport \"./styles.css\";\nimport { Container, Row, Col, Card, CardHeader, CardBody, Button, Media, ListGroup, ListGroupItem } from \"reactstrap\";\nimport Breadcrumb from '../../../../../../../layout/breadcrumb';\nimport ReactPlayer from 'react-player';\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\nimport { NotificationManager } from 'react-notifications';\nimport { connect } from \"react-redux\";\n\nconst ViewIndividualPurchasedCourseDataHelper = _ref => {\n  let {\n    userData\n  } = _ref;\n  const {\n    id\n  } = useParams();\n  const [courseData, setCourseData] = useState(null);\n  const [ready, setReady] = useState(false);\n  useEffect(() => {\n    const configuration = {\n      params: {\n        uniqueId: userData.uniqueId,\n        accountType: userData.accountType,\n        courseID: id\n      }\n    };\n    axios.get(`${process.env.REACT_APP_BASE_URL}/gather/purchased/course/data/profile`, configuration).then(async res => {\n      if (res.data.message === \"Successfully gathered course!\") {\n        console.log(res.data);\n        const {\n          course\n        } = res.data;\n\n        for (let index = 0; index < course.mainData.pageTwoData.courseContentSections.length; index++) {\n          const courseSectionData = course.mainData.pageTwoData.courseContentSections[index];\n          courseSectionData[\"timespan\"] = await accordionValuesChanged(courseSectionData);\n        }\n\n        setCourseData(course);\n        setReady(true);\n      } else {\n        console.log(\"Err\", res.data);\n        NotificationManager.error(\"There was an error that occurred after trying to retrieve the required data, try reloading this page or contact support if this problem continue to persist!\", \"An unknown error has occurred!\", 4750);\n      }\n    }).catch(err => {\n      console.log(err);\n      NotificationManager.error(\"There was an error that occurred after trying to retrieve the required data, try reloading this page or contact support if this problem continue to persist!\", \"An unknown error has occurred!\", 4750);\n    });\n  }, []);\n  console.log(\"courseData\", courseData);\n\n  const formatFileSize = bytes => {\n    const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n    if (bytes == 0) return '0 Byte';\n    const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n    return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n  };\n\n  const accordionValuesChanged = async section => {\n    // matched item\n    const video = document.createElement(\"video\"); // assign video attributes\n\n    video.src = `${process.env.REACT_APP_ASSET_LINK}/${section.video.link}`;\n    video.preload = \"metadata\"; // return result\n\n    video.addEventListener(\"loadedmetadata\", () => {\n      return Math.round(video.duration);\n    });\n  };\n\n  const calculateMin = minutes => {\n    return (minutes / 60).toFixed(2);\n  };\n\n  const renderRightMappedBar = () => {\n    if (ready === true) {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(ListGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }\n      }, courseData.mainData.pageTwoData.courseContentSections.map((section, index) => {\n        console.log(\"section\", section);\n        return /*#__PURE__*/React.createElement(Fragment, {\n          key: index,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(ListGroupItem, {\n          className: \"list-group-item-action flex-column align-items-start\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          className: \"d-flex w-100 justify-content-between\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 41\n          }\n        }, /*#__PURE__*/React.createElement(\"h5\", {\n          className: \"sectiontitle-course\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 45\n          }\n        }, /*#__PURE__*/React.createElement(\"strong\", {\n          style: {\n            color: \"#f73164\"\n          },\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 81\n          }\n        }, `Section ${index + 1}) `), \" \", section.sectionTitle)), /*#__PURE__*/React.createElement(\"p\", {\n          className: \"formatted-size-course\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 41\n          }\n        }, formatFileSize(section.video.size), \" - \", section.timespan)));\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(SkeletonTheme, {\n        baseColor: \"#c9c9c9\",\n        highlightColor: \"#444\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(Skeleton, {\n        count: 40,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 29\n        }\n      }))));\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Breadcrumb, {\n    parent: \"Viewing Course Data/Information (Purchased Content)..\",\n    title: `Course Data Is Now Available`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: \"12\",\n    md: \"12\",\n    lg: \"12\",\n    xl: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    className: \"shadow\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(CardHeader, {\n    className: \"b-l-info b-r-info\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 33\n    }\n  }, ready === true ? courseData.mainData.pageOneData.mainData.courseTitle : \"Still loading course title...\")), /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    sm: \"12\",\n    md: \"9\",\n    lg: \"9\",\n    xl: \"9\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(ReactPlayer, {\n    playing: true,\n    loop: true,\n    muted: true,\n    width: \"100%\",\n    height: \"625px\",\n    className: \"custom-player-course-content\",\n    wrapper: \"div\",\n    url: \"https://cybersecurity-platform.s3.amazonaws.com/09d20510-781c-469b-96e9-f64a6de85557\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 41\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    sm: \"12\",\n    md: \"3\",\n    lg: \"3\",\n    xl: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 37\n    }\n  }, renderRightMappedBar()))))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    userData: state.auth.data\n  };\n};\n\nexport default connect(mapStateToProps, {})(ViewIndividualPurchasedCourseDataHelper);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/learning/educationalCoursesSeminars/previouslyPurchased/listPurchasedCourses/individual/viewIndividualCourseAndDownload.js"],"names":["React","Fragment","useEffect","useState","Container","Row","Col","Card","CardHeader","CardBody","Button","Media","ListGroup","ListGroupItem","Breadcrumb","ReactPlayer","useParams","axios","Skeleton","SkeletonTheme","NotificationManager","connect","ViewIndividualPurchasedCourseDataHelper","userData","id","courseData","setCourseData","ready","setReady","configuration","params","uniqueId","accountType","courseID","get","process","env","REACT_APP_BASE_URL","then","res","data","message","console","log","course","index","mainData","pageTwoData","courseContentSections","length","courseSectionData","accordionValuesChanged","error","catch","err","formatFileSize","bytes","sizes","i","parseInt","Math","floor","round","pow","section","video","document","createElement","src","REACT_APP_ASSET_LINK","link","preload","addEventListener","duration","calculateMin","minutes","toFixed","renderRightMappedBar","map","color","sectionTitle","size","timespan","pageOneData","courseTitle","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useEffect, useState } from 'react';\nimport \"./styles.css\";\nimport { Container, Row, Col, Card, CardHeader, CardBody, Button, Media, ListGroup, ListGroupItem } from \"reactstrap\";\nimport Breadcrumb from '../../../../../../../layout/breadcrumb';\nimport ReactPlayer from 'react-player';\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\nimport { NotificationManager } from 'react-notifications';\nimport { connect } from \"react-redux\";\n\nconst ViewIndividualPurchasedCourseDataHelper = ({ userData }) => {\n\n    const { id } = useParams();\n\n    const [ courseData, setCourseData ] = useState(null);\n    const [ ready, setReady ] = useState(false);\n\n    useEffect(() => {\n        const configuration = {\n            params: {\n                uniqueId: userData.uniqueId,\n                accountType: userData.accountType,\n                courseID: id\n            }\n        }\n\n        axios.get(`${process.env.REACT_APP_BASE_URL}/gather/purchased/course/data/profile`, configuration).then(async (res) => {\n            if (res.data.message === \"Successfully gathered course!\") {\n                console.log(res.data);\n\n                const { course } = res.data;\n\n                for (let index = 0; index < course.mainData.pageTwoData.courseContentSections.length; index++) {\n                    const courseSectionData = course.mainData.pageTwoData.courseContentSections[index];\n                    courseSectionData[\"timespan\"] = await accordionValuesChanged(courseSectionData);   \n                }\n\n                setCourseData(course);\n                setReady(true);\n            } else {\n                console.log(\"Err\", res.data);\n\n                NotificationManager.error(\"There was an error that occurred after trying to retrieve the required data, try reloading this page or contact support if this problem continue to persist!\", \"An unknown error has occurred!\", 4750);\n            }\n        }).catch((err) => {\n            console.log(err);\n\n            NotificationManager.error(\"There was an error that occurred after trying to retrieve the required data, try reloading this page or contact support if this problem continue to persist!\", \"An unknown error has occurred!\", 4750);\n        })\n    }, []);\n\n    console.log(\"courseData\", courseData);\n\n    const formatFileSize = (bytes) => {\n        const sizes = ['Bytes', 'KB', 'MB', 'GB', 'TB'];\n        if (bytes == 0) return '0 Byte';\n        const i = parseInt(Math.floor(Math.log(bytes) / Math.log(1024)));\n        return Math.round(bytes / Math.pow(1024, i), 2) + ' ' + sizes[i];\n    }\n    const accordionValuesChanged = async (section) => {\n        // matched item\n        const video = document.createElement(\"video\");\n        // assign video attributes\n        video.src = `${process.env.REACT_APP_ASSET_LINK}/${section.video.link}`;\n        video.preload = \"metadata\";\n        // return result\n        video.addEventListener(\"loadedmetadata\", () => {\n            return Math.round(video.duration);\n        });\n    }\n    const calculateMin = (minutes) => {\n        return (minutes / 60).toFixed(2);\n    }\n    const renderRightMappedBar = () => {\n        if (ready === true) {\n            return (\n                <Fragment>\n                    <ListGroup>\n                        {courseData.mainData.pageTwoData.courseContentSections.map((section, index) => {\n                            console.log(\"section\", section)\n                            return (\n                                <Fragment key={index}>\n                                    <ListGroupItem className=\"list-group-item-action flex-column align-items-start\">\n                                        <div className=\"d-flex w-100 justify-content-between\">\n                                            <h5 className=\"sectiontitle-course\"><strong style={{ color: \"#f73164\" }}>{`Section ${index + 1}) `}</strong> {section.sectionTitle}</h5>\n                                        </div>\n                                        <p className=\"formatted-size-course\">{formatFileSize(section.video.size)} - {section.timespan}</p>\n                                    </ListGroupItem>\n                                </Fragment>\n                            );\n                        })}\n                    </ListGroup>\n                </Fragment>\n            );\n        } else {\n            return (\n                <Fragment>\n                    <SkeletonTheme baseColor=\"#c9c9c9\" highlightColor=\"#444\">\n                        <p>\n                            <Skeleton count={40} />\n                        </p>\n                    </SkeletonTheme>\n                </Fragment>\n            );\n        }\n    }\n\n    return (\n        <Fragment>\n            <Breadcrumb parent=\"Viewing Course Data/Information (Purchased Content)..\" title={`Course Data Is Now Available`}/>\n            <Container fluid={true}>\n                <Row>\n                    <Col sm=\"12\" md=\"12\" lg=\"12\" xl=\"12\">\n                        <Card className='shadow'>\n                            <CardHeader className='b-l-info b-r-info'>\n                                <h3>{ready === true ? courseData.mainData.pageOneData.mainData.courseTitle : \"Still loading course title...\"}</h3>\n                            </CardHeader>\n                            <CardBody>\n                                <Row>\n                                    <Col sm=\"12\" md=\"9\" lg=\"9\" xl=\"9\">\n                                        <ReactPlayer playing={true} loop={true} muted={true} width={\"100%\"} height={\"625px\"} className={\"custom-player-course-content\"} wrapper={\"div\"} url={\"https://cybersecurity-platform.s3.amazonaws.com/09d20510-781c-469b-96e9-f64a6de85557\"} />\n                                    </Col>\n                                    <Col sm=\"12\" md=\"3\" lg=\"3\" xl=\"3\">\n                                        {renderRightMappedBar()}\n                                    </Col>\n                                </Row>\n                            </CardBody>\n                        </Card>\n                    </Col>\n                </Row>\n            </Container>\n        </Fragment>\n    );\n}\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data\n    }\n}\nexport default connect(mapStateToProps, {  })(ViewIndividualPurchasedCourseDataHelper);"]},"metadata":{},"sourceType":"module"}