{"ast":null,"code":"import React,{Fragment,useState,useEffect,useRef}from'react';import{Container,Row,Col,Card,CardBody,CardHeader,Media,TabContent,TabPane,Nav,NavItem,NavLink,Button}from\"reactstrap\";import Breadcrumb from'../../../../../layout/breadcrumb';import\"./styles.css\";import{useParams,useHistory}from\"react-router-dom\";import Skeleton,{SkeletonTheme}from'react-loading-skeleton';import axios from\"axios\";import TimelineTabEmployerProfileHelper from'./helpers/timelineTab.js';import AboutGeneralInfoHelper from'./helpers/aboutTab.js';import FollowingEmployerAccountHelper from'./helpers/following.js';import CurrentlyFollowedByEmployerAccount from'./helpers/followedBy.js';import _ from\"lodash\";import helpers from\"./helpers/miscFunctions/helperFunctions.js\";import{NotificationManager}from\"react-notifications\";import{connect}from\"react-redux\";import{confirmAlert}from'react-confirm-alert';import MessagingPanePrivateEmployerHelper from\"./helpers/panes/messagingPane/messagePane.js\";import VideoInvitePaneInviteEmployerHelper from\"./helpers/panes/videoInvitePane/videoInvite.js\";const{renderProfilePicVideo}=helpers;const MainEmployerProfileDisplayHelper=_ref=>{let{userData}=_ref;const history=useHistory();const[activeTab,setActiveTab]=useState('1');const[employerData,setEmployerData]=useState(null);const[activeHearts,setActiveHears]=useState([]);const[room,setRoom]=useState(null);const[messagingPaneOpen,setMessagePaneState]=useState(false);const[videoInterviewPane,setVideoInterviewStartPane]=useState(false);const useIsMounted=()=>{// create ref\nconst isMounted=useRef(false);// run mounting logic..\nuseEffect(()=>{isMounted.current=true;return()=>isMounted.current=false;},[]);return isMounted;};const isMounted=useIsMounted();const{id}=useParams();useEffect(()=>{if(isMounted.current===true){const configuration={signedinUserID:userData.uniqueId,viewingEmployerAccountID:id,signedinLastProfileFile:typeof userData.profilePicsVideos!==\"undefined\"&&userData.profilePicsVideos.length>0?userData.profilePicsVideos[userData.profilePicsVideos.length-1]:null,signedinUserNameFull:\"\".concat(userData.firstName,\" \").concat(userData.lastName),signedinMemberSince:userData.registrationDate,accountType:userData.accountType};axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/mark/profile/view/employer/account\"),configuration).then(res=>{if(res.data.message===\"Found user & modified/marked view in DB!\"){console.log(res.data);const{result,modified}=res.data;NotificationManager.success(\"Successfully marked your page/profile view as a 'unique' view! Whenver you view this page again, the count will NOT increase - it will remain as it was with a MAXIMUM 1 unique page view per user.\",\"Successfully marked profile view!\",4750);}else{console.log(\"errr inside...:\",res.data);NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\",\"An unknown error has occurred while attempting to 'heart' this profile!\",4750);}}).catch(err=>{console.log(err);NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\",\"An unknown error has occurred while attempting to 'heart' this profile!\",4750);});}},[]);useEffect(()=>{if(isMounted.current===true){const configuration={params:{uniqueId:id}};axios.get(\"\".concat(process.env.REACT_APP_BASE_URL,\"/retrieve/related/employer/core/information\"),configuration).then(res=>{if(res.data.message===\"Gathered relevant information!\"){console.log(res.data);const{user}=res.data;setActiveHears(_.has(user,\"profileLovesHearts\")?user.profileLovesHearts:[]);setEmployerData(user);}else{console.log(\"errr inside...:\",res.data);NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\",\"An unknown error has occurred while attempting to 'heart' this profile!\",4750);}}).catch(err=>{console.log(err);NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\",\"An unknown error has occurred while attempting to 'heart' this profile!\",4750);});}},[]);const heartResponseProfile=()=>{console.log(\"heartResponseProfile\");const configuration={employerID:id,signedinUserID:userData.uniqueId,signedinUserAccountType:userData.accountType,fullName:\"\".concat(userData.firstName,\" \").concat(userData.lastName)};axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/heart/profile/employer/account\"),configuration).then(res=>{if(res.data.message===\"You've already 'hearted' or 'liked' this person's profile - We automatically 'un-like' a profile if you like it and have already responded with a like...\"){console.log(res.data);const{activeHearts}=res.data;setActiveHears(activeHearts);NotificationManager.info(\"You've already reacted to this person's employer profile, we automatically 'unlike' a profile if you've already previously liked it before!\",\"Already liked, revoked your previous like!\",4750);}else if(res.data.message===\"Successfully 'reacted/hearted' this person's profile & the changes are now active and should reflect any additional responses appropriately!\"){const{activeHearts}=res.data;setActiveHears(activeHearts);NotificationManager.success(\"Successfully 'reacted/hearted' this person's profile & the changes are now active and should reflect any additional responses appropriately!\",\"Successfully liked/responded to this employer account!\",4750);}else{console.log(\"errr inside...:\",res.data);NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\",\"An unknown error has occurred while attempting to 'heart' this profile!\",4750);}}).catch(err=>{console.log(err);NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\",\"An unknown error has occurred while attempting to 'heart' this profile!\",4750);});};const initiateFollowingOfEmployer=()=>{console.log(\"initiate following of Employer.\");// api-request configuration data\nconst config={employerID:id,signedinUserID:userData.uniqueId,signedinUserAccountType:userData.accountType,modifyingUserAccountType:employerData.accountType,signedinFullName:\"\".concat(userData.firstName,\" \").concat(userData.lastName),followerUsername:userData.username,followerJobTitle:_.has(userData,\"title\")?userData.title:null,latestProfilePicVideo:typeof userData.profilePicsVideos!==\"undefined\"&&userData.profilePicsVideos.length>0?userData.profilePicsVideos[userData.profilePicsVideos.length-1]:null};// run request api\naxios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/start/following/employer/account\"),config).then(res=>{if(res.data.message===\"Successfully started following this employer!\"){console.log(\"successfully followed employer profile...:\",res.data);const{employer}=res.data;setEmployerData(employer);NotificationManager.success(\"You've successfully STARTED FOLLOWING the user '\".concat(employerData.firstName,\" \").concat(employerData.lastName,\"'. This user is a 'employer/contractor', congrats on your new connection!\"),4750);}else if(res.data.message===\"You've ALREADY followed this user's profile...\"){console.log(\"already bookmarked - do nothing...:\",res.data);const{employer}=res.data;setEmployerData(employer);NotificationManager.warning(\"You've ALREADY followed \".concat(employerData.firstName,\" \").concat(employerData.lastName,\", NO ACTION was taken as we require user's to manage their following/followed user's from the following management page.\"),\"You're already following the employer '\".concat(employerData.firstName,\" \").concat(employerData.lastName,\"'!\"),4750);}else{console.log(\"err\",res.data);NotificationManager.error(\"An unknown error has occurred while attempting to follow this user and/or make these changes...\",\"Error occurred while making changes!\",4750);}}).catch(err=>{console.log(err);NotificationManager.error(\"An unknown error has occurred while attempting to follow this user and/or make these changes...\",\"Error occurred while making changes!\",4750);});};const bookmarkThisEmployerProfile=()=>{console.log(\"bookmarkThisEmployerProfile ran - heart this profile.\");const config={employerID:id,signedinUserID:userData.uniqueId,signedinUserAccountType:userData.accountType};axios.post(\"\".concat(process.env.REACT_APP_BASE_URL,\"/bookmark/employer/profile/either/account/type\"),config).then(res=>{if(res.data.message===\"Successfully 'bookmarked' this employers's profile!\"){console.log(\"successfully bookmarked profile...:\",res.data);NotificationManager.success(\"You've successfully bookmarked this user's profile and it will now show up in your 'Bookmarked Profile's' page...\",\"Successfully bookmarked this profile!\",4750);}else if(res.data.message===\"You've ALREADY bookmarked this user's profile...\"){console.log(\"already bookmarked - do nothing...:\",res.data);NotificationManager.warning(\"You've ALREADY bookmarked this user's profile & it is already in your 'Bookmarked Profile's' page/list...\",\"Already bookmarked this user's profile!\",4750);}else{console.log(\"err\",res.data);NotificationManager.error(\"An unknown error has occurred while attempting to bookmark and/or make these changes...\",\"Error occurred while making changes!\",4750);}}).catch(err=>{console.log(err);});};const startFollowingThisEmployer=()=>{console.log(\"startFollowingThisEmployer start following this Employer....\");confirmAlert({title:\"You're about to start following this user...\",message:\"Are you sure you'd like to start \\\"following\\\" this user? Once you follow someone, if you wish to \\\"un-follow\\\" them then you'll have to go to your \\\"manage follower's\\\" page & you can unfollow from there. This user will recieve a notification telling them about their new follower!\",buttons:[{label:'Yes, Follow this user!',onClick:()=>{// START FOLLOWING Employer\ninitiateFollowingOfEmployer();}},{label:'No, Cancel!',onClick:()=>{// DO NOTHING.\n}}]});};const renderContentMain=()=>{return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(\"div\",{className:\"user-profile social-app-profile\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\"},/*#__PURE__*/React.createElement(Card,{style:{paddingTop:\"27.5px\"},className:\"hovercard text-center custom-maxed-employer-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"cardheader socialheader\"},/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:\"22.5px\"},className:\"absolute-banner-hacker-account-positioned\"},/*#__PURE__*/React.createElement(Button,{onClick:startFollowingThisEmployer,style:{marginTop:\"7.5px\"},color:\"secondary\",className:\"btn-square-secondary text-center\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-follow m-r-5\"}),\"Start \\\"Following\\\" This Employer\")),/*#__PURE__*/React.createElement(\"div\",{onClick:bookmarkThisEmployerProfile,className:\"ribbon ribbon-clip-right ribbon-right ribbon-info custom-employer-profile-ribbon\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-heart\"}),\" Bookmark This Profile?\"),_.has(employerData,\"profileBannerImage\")?/*#__PURE__*/React.createElement(\"img\",{src:\"\".concat(process.env.REACT_APP_ASSET_LINK,\"/\").concat(employerData.profileBannerImage.link),className:\"stretch-banner-profile-picture\"}):null),/*#__PURE__*/React.createElement(\"div\",{className:\"user-image\"},/*#__PURE__*/React.createElement(\"div\",{className:\"avatar\"},renderProfilePicVideo(_.has(employerData,\"profilePicsVideos\")&&typeof employerData.profilePicsVideos!==\"undefined\"&&employerData.profilePicsVideos.length>0?employerData.profilePicsVideos[employerData.profilePicsVideos.length-1]:null)),/*#__PURE__*/React.createElement(\"ul\",{className:\"share-icons\"},/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{onClick:()=>heartResponseProfile(),className:\"social-icon bg-primary\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-heart-o\"}))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{className:\"social-icon bg-secondary\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-wechat\"}))),/*#__PURE__*/React.createElement(\"li\",null,/*#__PURE__*/React.createElement(\"a\",{className:\"social-icon bg-warning\"},/*#__PURE__*/React.createElement(\"i\",{className:\"fa fa-share-alt\"}))))),/*#__PURE__*/React.createElement(\"div\",{className:\"info market-tabs p-0 maxed-nav-wrapper-employer-profile\"},/*#__PURE__*/React.createElement(Nav,{tabs:true,className:\"border-tab tabs-scoial custom-tabs-maxed\"},/*#__PURE__*/React.createElement(NavItem,{className:\"nav\",id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{id:\"position-above\",className:activeTab==='1'?'active':''},/*#__PURE__*/React.createElement(Button,{style:{minWidth:\"100%\",color:\"#f73164\"},onClick:()=>setActiveTab('1'),className:\"btn-square-dark hover-btn-employer-custom\",color:\"dark-2x\",outline:true},\"Timeline/Core-Data\"))),/*#__PURE__*/React.createElement(NavItem,{className:\"nav\",id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{id:\"position-above\",className:activeTab==='2'?'active':''},/*#__PURE__*/React.createElement(Button,{style:{minWidth:\"100%\",color:\"#f73164\"},onClick:()=>setActiveTab('2'),className:\"btn-square-dark hover-btn-employer-custom\",color:\"dark-2x\",outline:true},\"About\"))),/*#__PURE__*/React.createElement(NavItem,null,/*#__PURE__*/React.createElement(\"div\",{className:\"user-designation\"}),/*#__PURE__*/React.createElement(\"div\",{className:\"title\"},/*#__PURE__*/React.createElement(\"a\",{target:\"_blank\"},\"\".concat(employerData.firstName,\" \").concat(employerData.lastName))),/*#__PURE__*/React.createElement(\"div\",{className:\"desc mt-2\"},_.has(employerData,\"companyName\")?employerData.companyName:\"No Company Name Provided\")),/*#__PURE__*/React.createElement(NavItem,{className:\"nav\",id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{id:\"position-above\",className:activeTab==='3'?'active':''},/*#__PURE__*/React.createElement(Button,{style:{minWidth:\"100%\",color:\"#f73164\"},onClick:()=>setActiveTab('3'),className:\"btn-square-dark hover-btn-employer-custom\",color:\"dark-2x\",outline:true},\"Following/Followed\"))),/*#__PURE__*/React.createElement(NavItem,{className:\"nav\",id:\"myTab\",role:\"tablist\"},/*#__PURE__*/React.createElement(NavLink,{id:\"position-above\",className:activeTab==='4'?'active':''},/*#__PURE__*/React.createElement(Button,{style:{minWidth:\"100%\",color:\"#f73164\"},onClick:()=>setActiveTab(\"4\"),className:\"btn-square-dark hover-btn-employer-custom\",color:\"dark-2x\",outline:true},\"Followed-By\"))))),/*#__PURE__*/React.createElement(\"div\",{style:{paddingTop:\"7.5px\"},className:\"position-just-above\"},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"6\",lg:\"6\",xl:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(Button,{onClick:()=>setMessagePaneState(true),className:\"btn-square-dark absolute-message-btn hover-btn-employer-custom\",color:\"dark-2x\",outline:true,style:{width:\"97.5%\",color:\"#f73164\"}},\"Message This User!\"))),/*#__PURE__*/React.createElement(Col,{sm:\"12\",md:\"6\",lg:\"6\",xl:\"6\"},/*#__PURE__*/React.createElement(\"div\",{className:\"centered-both-ways\"},/*#__PURE__*/React.createElement(Button,{className:\"btn-square-dark absolute-message-btn hover-btn-employer-custom\",onClick:()=>setVideoInterviewStartPane(true),color:\"dark-2x\",outline:true,style:{width:\"97.5%\",color:\"#f73164\"}},\"Invite/Initialize Video Chat With User!\")))))))),/*#__PURE__*/React.createElement(TabContent,{activeTab:activeTab,className:\"tab-content\"},/*#__PURE__*/React.createElement(TabPane,{tabId:\"1\"},/*#__PURE__*/React.createElement(TimelineTabEmployerProfileHelper,{activeHearts:activeHearts,employerData:employerData})),/*#__PURE__*/React.createElement(TabPane,{tabId:\"2\"},/*#__PURE__*/React.createElement(AboutGeneralInfoHelper,{activeHearts:activeHearts,employerData:employerData})),/*#__PURE__*/React.createElement(TabPane,{tabId:\"3\"},/*#__PURE__*/React.createElement(FollowingEmployerAccountHelper,{employerData:employerData})),/*#__PURE__*/React.createElement(TabPane,{tabId:\"4\"},/*#__PURE__*/React.createElement(CurrentlyFollowedByEmployerAccount,{employerData:employerData}))))));};return/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(VideoInvitePaneInviteEmployerHelper,{otherUserID:id,employerData:employerData,userData:userData,videoInterviewPane:videoInterviewPane,setVideoInterviewStartPane:setVideoInterviewStartPane}),/*#__PURE__*/React.createElement(MessagingPanePrivateEmployerHelper,{employerID:id,employerName:employerData!==null?\"\".concat(employerData.firstName,\" \").concat(employerData.lastName):\"Unknown - Loading...\",messagePaneOpen:messagingPaneOpen,setMessagePaneState:setMessagePaneState}),/*#__PURE__*/React.createElement(Breadcrumb,{parent:\"Viewing Individual Employer Profile Page\",title:\"You're Now Viewing This Employer's Profile Information/Data\"}),/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Card,{className:\"b-l-info b-r-info shadow-wrapper-overview-profile-employer\"},employerData!==null?renderContentMain():/*#__PURE__*/React.createElement(Fragment,null,/*#__PURE__*/React.createElement(SkeletonTheme,{baseColor:\"#c9c9c9\",highlightColor:\"#444\"},/*#__PURE__*/React.createElement(\"p\",null,/*#__PURE__*/React.createElement(Skeleton,{count:50}))))))));};const mapStateToProps=state=>{return{userData:state.auth.data};};export default connect(mapStateToProps,{})(MainEmployerProfileDisplayHelper);","map":{"version":3,"sources":["/home/kali/Documents/cybersecurity-bounty-hunting-platform/client/src/components/dashboard/people/employers/individualProfile/mainEmployerProfile.js"],"names":["React","Fragment","useState","useEffect","useRef","Container","Row","Col","Card","CardBody","CardHeader","Media","TabContent","TabPane","Nav","NavItem","NavLink","Button","Breadcrumb","useParams","useHistory","Skeleton","SkeletonTheme","axios","TimelineTabEmployerProfileHelper","AboutGeneralInfoHelper","FollowingEmployerAccountHelper","CurrentlyFollowedByEmployerAccount","_","helpers","NotificationManager","connect","confirmAlert","MessagingPanePrivateEmployerHelper","VideoInvitePaneInviteEmployerHelper","renderProfilePicVideo","MainEmployerProfileDisplayHelper","userData","history","activeTab","setActiveTab","employerData","setEmployerData","activeHearts","setActiveHears","room","setRoom","messagingPaneOpen","setMessagePaneState","videoInterviewPane","setVideoInterviewStartPane","useIsMounted","isMounted","current","id","configuration","signedinUserID","uniqueId","viewingEmployerAccountID","signedinLastProfileFile","profilePicsVideos","length","signedinUserNameFull","firstName","lastName","signedinMemberSince","registrationDate","accountType","post","process","env","REACT_APP_BASE_URL","then","res","data","message","console","log","result","modified","success","error","catch","err","params","get","user","has","profileLovesHearts","heartResponseProfile","employerID","signedinUserAccountType","fullName","info","initiateFollowingOfEmployer","config","modifyingUserAccountType","signedinFullName","followerUsername","username","followerJobTitle","title","latestProfilePicVideo","employer","warning","bookmarkThisEmployerProfile","startFollowingThisEmployer","buttons","label","onClick","renderContentMain","paddingTop","marginTop","REACT_APP_ASSET_LINK","profileBannerImage","link","minWidth","color","companyName","width","mapStateToProps","state","auth"],"mappings":"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","sourcesContent":["import React, { Fragment, useState, useEffect, useRef } from 'react';\nimport { Container, Row, Col, Card, CardBody, CardHeader, Media, TabContent, TabPane, Nav, NavItem, NavLink, Button } from \"reactstrap\";\nimport Breadcrumb from '../../../../../layout/breadcrumb';\nimport \"./styles.css\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport Skeleton, { SkeletonTheme } from 'react-loading-skeleton';\nimport axios from \"axios\";\nimport TimelineTabEmployerProfileHelper from './helpers/timelineTab.js';\nimport AboutGeneralInfoHelper from './helpers/aboutTab.js';\nimport FollowingEmployerAccountHelper from './helpers/following.js';\nimport CurrentlyFollowedByEmployerAccount from './helpers/followedBy.js';\nimport _ from \"lodash\";\nimport helpers from \"./helpers/miscFunctions/helperFunctions.js\";\nimport { NotificationManager } from \"react-notifications\";\nimport { connect } from \"react-redux\";\nimport { confirmAlert } from 'react-confirm-alert';\nimport MessagingPanePrivateEmployerHelper from \"./helpers/panes/messagingPane/messagePane.js\";\nimport VideoInvitePaneInviteEmployerHelper from \"./helpers/panes/videoInvitePane/videoInvite.js\";\n\n\nconst { renderProfilePicVideo } = helpers;\n\nconst MainEmployerProfileDisplayHelper = ({ userData }) => {\n\n    const history = useHistory();\n\n    const [ activeTab, setActiveTab ] = useState('1');\n\n    const [ employerData, setEmployerData ] = useState(null);\n    const [ activeHearts, setActiveHears ] = useState([]);\n    const [ room, setRoom ] = useState(null);\n    const [ messagingPaneOpen, setMessagePaneState ] = useState(false);\n    const [ videoInterviewPane, setVideoInterviewStartPane ] = useState(false);\n\n\n    const useIsMounted = () => {\n        // create ref\n        const isMounted = useRef(false);\n        // run mounting logic..\n        useEffect(() => {\n          isMounted.current = true;\n          return () => isMounted.current = false;\n        }, []);\n      \n        return isMounted;\n    }\n\n    const isMounted = useIsMounted();\n\n    const { id } = useParams();\n\n    useEffect(() => {\n\n        if (isMounted.current === true) {\n            const configuration = {\n                signedinUserID: userData.uniqueId, \n                viewingEmployerAccountID: id, \n                signedinLastProfileFile: typeof userData.profilePicsVideos !== \"undefined\" && userData.profilePicsVideos.length > 0 ? userData.profilePicsVideos[userData.profilePicsVideos.length - 1] : null, \n                signedinUserNameFull: `${userData.firstName} ${userData.lastName}`, \n                signedinMemberSince: userData.registrationDate,\n                accountType: userData.accountType\n            }\n            axios.post(`${process.env.REACT_APP_BASE_URL}/mark/profile/view/employer/account`, configuration).then((res) => {\n                if (res.data.message === \"Found user & modified/marked view in DB!\") {\n                    console.log(res.data);\n    \n                    const { result, modified } = res.data;\n    \n                    NotificationManager.success(\"Successfully marked your page/profile view as a 'unique' view! Whenver you view this page again, the count will NOT increase - it will remain as it was with a MAXIMUM 1 unique page view per user.\", \"Successfully marked profile view!\", 4750);\n    \n                } else {\n                    console.log(\"errr inside...:\", res.data);\n    \n                    NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\", \"An unknown error has occurred while attempting to 'heart' this profile!\", 4750);\n                }\n            }).catch((err) => {\n                console.log(err);\n    \n                NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\", \"An unknown error has occurred while attempting to 'heart' this profile!\", 4750);\n            })\n        }\n    }, [])\n\n    useEffect(() => {\n\n        if (isMounted.current === true) {\n            const configuration = {\n                params: {\n                    uniqueId: id\n                }\n            }\n            axios.get(`${process.env.REACT_APP_BASE_URL}/retrieve/related/employer/core/information`, configuration).then((res) => {\n                if (res.data.message === \"Gathered relevant information!\") {\n                    console.log(res.data);\n\n                    const { user } = res.data;\n\n                    setActiveHears(_.has(user, \"profileLovesHearts\") ? user.profileLovesHearts : []);\n\n                    setEmployerData(user);\n                } else {\n                    console.log(\"errr inside...:\", res.data);\n\n                    NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\", \"An unknown error has occurred while attempting to 'heart' this profile!\", 4750);\n                }\n            }).catch((err) => {\n                console.log(err);\n\n                NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\", \"An unknown error has occurred while attempting to 'heart' this profile!\", 4750);\n            })\n        }\n    }, []);\n\n    const heartResponseProfile = () => {\n        console.log(\"heartResponseProfile\");\n\n        const configuration = {\n            employerID: id,\n            signedinUserID: userData.uniqueId,\n            signedinUserAccountType: userData.accountType,\n            fullName: `${userData.firstName} ${userData.lastName}`\n        }\n        axios.post(`${process.env.REACT_APP_BASE_URL}/heart/profile/employer/account`, configuration).then((res) => {\n            if (res.data.message === \"You've already 'hearted' or 'liked' this person's profile - We automatically 'un-like' a profile if you like it and have already responded with a like...\") {\n                console.log(res.data);\n\n                const { activeHearts } = res.data;\n\n                setActiveHears(activeHearts);\n\n                NotificationManager.info(\"You've already reacted to this person's employer profile, we automatically 'unlike' a profile if you've already previously liked it before!\", \"Already liked, revoked your previous like!\", 4750);\n\n            } else if (res.data.message === \"Successfully 'reacted/hearted' this person's profile & the changes are now active and should reflect any additional responses appropriately!\") {\n\n                const { activeHearts } = res.data;\n\n                setActiveHears(activeHearts);\n\n                NotificationManager.success(\"Successfully 'reacted/hearted' this person's profile & the changes are now active and should reflect any additional responses appropriately!\", \"Successfully liked/responded to this employer account!\", 4750);\n\n            } else {\n                console.log(\"errr inside...:\", res.data);\n\n                NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\", \"An unknown error has occurred while attempting to 'heart' this profile!\", 4750);\n            }\n        }).catch((err) => {\n            console.log(err);\n\n            NotificationManager.error(\"An unknown error has occurred, please try this action again or contact support if the problem still persists over multiple attempts!\", \"An unknown error has occurred while attempting to 'heart' this profile!\", 4750);\n        })\n    }\n\n    const initiateFollowingOfEmployer = () => {\n        console.log(\"initiate following of Employer.\");\n\n        // api-request configuration data\n        const config = {\n            employerID: id,\n            signedinUserID: userData.uniqueId,\n            signedinUserAccountType: userData.accountType,\n            modifyingUserAccountType: employerData.accountType,\n            signedinFullName: `${userData.firstName} ${userData.lastName}`,\n            followerUsername: userData.username,\n            followerJobTitle: _.has(userData, \"title\") ? userData.title : null,\n            latestProfilePicVideo: typeof userData.profilePicsVideos !== \"undefined\" && userData.profilePicsVideos.length > 0 ? userData.profilePicsVideos[userData.profilePicsVideos.length - 1] : null\n        };\n        // run request api\n        axios.post(`${process.env.REACT_APP_BASE_URL}/start/following/employer/account`, config).then((res) => {\n            if (res.data.message === \"Successfully started following this employer!\") {\n                console.log(\"successfully followed employer profile...:\", res.data);\n\n                const { employer } = res.data;\n\n                setEmployerData(employer);\n\n                NotificationManager.success(`You've successfully STARTED FOLLOWING the user '${employerData.firstName} ${employerData.lastName}'. This user is a 'employer/contractor', congrats on your new connection!`, 4750);\n\n            } else if (res.data.message === \"You've ALREADY followed this user's profile...\") {\n                console.log(\"already bookmarked - do nothing...:\", res.data);\n\n                const { employer } = res.data;\n\n                setEmployerData(employer);\n\n                NotificationManager.warning(`You've ALREADY followed ${employerData.firstName} ${employerData.lastName}, NO ACTION was taken as we require user's to manage their following/followed user's from the following management page.`, `You're already following the employer '${employerData.firstName} ${employerData.lastName}'!`, 4750);\n            } else {\n                console.log(\"err\", res.data);\n\n                NotificationManager.error(\"An unknown error has occurred while attempting to follow this user and/or make these changes...\", \"Error occurred while making changes!\", 4750);\n            }\n        }).catch((err) => {\n            console.log(err);\n\n            NotificationManager.error(\"An unknown error has occurred while attempting to follow this user and/or make these changes...\", \"Error occurred while making changes!\", 4750);\n        })\n    }\n\n    const bookmarkThisEmployerProfile = () => {\n        console.log(\"bookmarkThisEmployerProfile ran - heart this profile.\");\n\n        const config = {\n            employerID: id,\n            signedinUserID: userData.uniqueId,\n            signedinUserAccountType: userData.accountType\n        }\n\n        axios.post(`${process.env.REACT_APP_BASE_URL}/bookmark/employer/profile/either/account/type`, config).then((res) => {\n            if (res.data.message === \"Successfully 'bookmarked' this employers's profile!\") {\n                console.log(\"successfully bookmarked profile...:\", res.data);\n\n                NotificationManager.success(\"You've successfully bookmarked this user's profile and it will now show up in your 'Bookmarked Profile's' page...\", \"Successfully bookmarked this profile!\", 4750);\n\n            } else if (res.data.message === \"You've ALREADY bookmarked this user's profile...\") {\n                console.log(\"already bookmarked - do nothing...:\", res.data);\n\n                NotificationManager.warning(\"You've ALREADY bookmarked this user's profile & it is already in your 'Bookmarked Profile's' page/list...\", \"Already bookmarked this user's profile!\", 4750);\n            } else {\n                console.log(\"err\", res.data);\n\n                NotificationManager.error(\"An unknown error has occurred while attempting to bookmark and/or make these changes...\", \"Error occurred while making changes!\", 4750);\n            }\n        }).catch((err) => {\n            console.log(err);\n        })\n    }\n\n    const startFollowingThisEmployer = () => {\n        console.log(\"startFollowingThisEmployer start following this Employer....\");\n\n        confirmAlert({\n            title: `You're about to start following this user...`,\n            message: `Are you sure you'd like to start \"following\" this user? Once you follow someone, if you wish to \"un-follow\" them then you'll have to go to your \"manage follower's\" page & you can unfollow from there. This user will recieve a notification telling them about their new follower!`,\n            buttons: [\n              {\n                label: 'Yes, Follow this user!',\n                onClick: () => {\n                    // START FOLLOWING Employer\n                    initiateFollowingOfEmployer();\n                }\n              },\n              {\n                label: 'No, Cancel!',\n                onClick: () => {\n                    // DO NOTHING.\n                }\n              }\n            ]\n        });\n    }\n\n    const renderContentMain = () => {\n        return (\n            <Fragment>\n                <Container fluid={true}>\n                    <div className=\"user-profile social-app-profile\">\n                        <Row>\n                            <Col sm=\"12\">\n                                <Card style={{ paddingTop: \"27.5px\" }} className=\"hovercard text-center custom-maxed-employer-card\">\n                                    <div className=\"cardheader socialheader\">\n                                        <div style={{ paddingTop: \"22.5px\" }} className={\"absolute-banner-hacker-account-positioned\"}>\n                                            <Button onClick={startFollowingThisEmployer} style={{ marginTop: \"7.5px\" }} color={\"secondary\"} className=\"btn-square-secondary text-center\"><i className=\"fa fa-follow m-r-5\"></i>Start \"Following\" This Employer</Button>\n                                        </div>\n                                        <div onClick={bookmarkThisEmployerProfile} className=\"ribbon ribbon-clip-right ribbon-right ribbon-info custom-employer-profile-ribbon\"><i className=\"fa fa-heart\"></i> Bookmark This Profile?</div>\n                                        {_.has(employerData, \"profileBannerImage\") ? <img src={`${process.env.REACT_APP_ASSET_LINK}/${employerData.profileBannerImage.link}`} className={\"stretch-banner-profile-picture\"} /> : null}\n                                    </div>\n                                    <div className=\"user-image\">\n                                        <div className=\"avatar\">\n                                            {renderProfilePicVideo(_.has(employerData, \"profilePicsVideos\") && typeof employerData.profilePicsVideos !== \"undefined\" && employerData.profilePicsVideos.length > 0 ? employerData.profilePicsVideos[employerData.profilePicsVideos.length - 1] : null)}\n                                        </div>\n                                        <ul className=\"share-icons\">\n                                            <li><a onClick={() => heartResponseProfile()} className=\"social-icon bg-primary\"><i className=\"fa fa-heart-o\"></i></a></li>\n                                            <li><a className=\"social-icon bg-secondary\"><i className=\"fa fa-wechat\"></i></a></li>\n                                            <li><a className=\"social-icon bg-warning\"><i className=\"fa fa-share-alt\"></i></a></li>\n                                        </ul>\n                                    </div>\n                                    <div className=\"info market-tabs p-0 maxed-nav-wrapper-employer-profile\">\n                                        <Nav tabs className=\"border-tab tabs-scoial custom-tabs-maxed\">\n                                            <NavItem className=\"nav\" id=\"myTab\" role=\"tablist\">\n                                                <NavLink id={\"position-above\"} className={activeTab === '1' ? 'active' : ''}>\n                                                    <Button style={{ minWidth: \"100%\", color: \"#f73164\" }} onClick={() => setActiveTab('1')} className={\"btn-square-dark hover-btn-employer-custom\"} color={\"dark-2x\"} outline>Timeline/Core-Data</Button>\n                                            </NavLink>\n                                            </NavItem>\n                                            <NavItem className=\"nav\" id=\"myTab\" role=\"tablist\">\n                                                <NavLink id={\"position-above\"} className={activeTab === '2' ? 'active' : ''}>\n                                                    <Button style={{ minWidth: \"100%\", color: \"#f73164\" }} onClick={() => setActiveTab('2')} className={\"btn-square-dark hover-btn-employer-custom\"} color={\"dark-2x\"} outline>About</Button>\n                                            </NavLink>\n                                            </NavItem>\n                                            <NavItem>\n                                                <div className=\"user-designation\"></div>\n                                                <div className=\"title\"><a target=\"_blank\">{`${employerData.firstName} ${employerData.lastName}`}</a></div>\n                                                <div className=\"desc mt-2\">{_.has(employerData, \"companyName\") ? employerData.companyName : \"No Company Name Provided\"}</div>\n                                            </NavItem>\n                                            <NavItem className=\"nav\" id=\"myTab\" role=\"tablist\">\n                                                <NavLink id={\"position-above\"} className={activeTab === '3' ? 'active' : ''}>\n                                                    <Button style={{ minWidth: \"100%\", color: \"#f73164\" }} onClick={() => setActiveTab('3')} className={\"btn-square-dark hover-btn-employer-custom\"} color={\"dark-2x\"} outline>Following/Followed</Button>\n                                            </NavLink>\n                                            </NavItem>\n                                            <NavItem className=\"nav\" id=\"myTab\" role=\"tablist\">\n                                                <NavLink id={\"position-above\"} className={activeTab === '4' ? 'active' : ''}>\n                                                    <Button style={{ minWidth: \"100%\", color: \"#f73164\" }} onClick={() => setActiveTab(\"4\")} className={\"btn-square-dark hover-btn-employer-custom\"} color={\"dark-2x\"} outline>Followed-By</Button>\n                                            </NavLink>\n                                            </NavItem>\n                                        </Nav>\n                                    </div>\n                                    <div style={{ paddingTop: \"7.5px\" }} className='position-just-above'>\n                                        <Row>\n                                            <Col sm=\"12\" md=\"6\" lg=\"6\" xl=\"6\">\n                                                <div className='centered-both-ways'>\n                                                    <Button onClick={() => setMessagePaneState(true)} className='btn-square-dark absolute-message-btn hover-btn-employer-custom' color='dark-2x' outline style={{ width: \"97.5%\", color: \"#f73164\" }}>Message This User!</Button>\n                                                </div>\n                                            </Col>\n                                            <Col sm=\"12\" md=\"6\" lg=\"6\" xl=\"6\">\n                                                <div className='centered-both-ways'>\n                                                    <Button className='btn-square-dark absolute-message-btn hover-btn-employer-custom' onClick={() => setVideoInterviewStartPane(true)} color='dark-2x' outline style={{ width: \"97.5%\", color: \"#f73164\" }}>Invite/Initialize Video Chat With User!</Button>\n                                                </div>\n                                            </Col>\n                                        </Row>\n                                    </div>\n                                </Card>\n                            </Col>\n                        </Row>\n                        <TabContent activeTab={activeTab} className=\"tab-content\">\n                            <TabPane tabId=\"1\">\n                                <TimelineTabEmployerProfileHelper activeHearts={activeHearts} employerData={employerData} />\n                            </TabPane>\n                            <TabPane tabId=\"2\">\n                                <AboutGeneralInfoHelper activeHearts={activeHearts} employerData={employerData} />\n                            </TabPane>\n                            <TabPane tabId=\"3\">\n                                <FollowingEmployerAccountHelper employerData={employerData} />\n                            </TabPane>\n                            <TabPane tabId=\"4\">\n                                <CurrentlyFollowedByEmployerAccount employerData={employerData} />\n                            </TabPane>\n                        </TabContent>\n                    </div>\n                </Container>\n            </Fragment>\n        );\n    }\n\n    return (\n        <Fragment>\n            <VideoInvitePaneInviteEmployerHelper otherUserID={id} employerData={employerData} userData={userData} videoInterviewPane={videoInterviewPane} setVideoInterviewStartPane={setVideoInterviewStartPane} />\n            <MessagingPanePrivateEmployerHelper employerID={id} employerName={employerData !== null ? `${employerData.firstName} ${employerData.lastName}` : \"Unknown - Loading...\"} messagePaneOpen={messagingPaneOpen} setMessagePaneState={setMessagePaneState} />\n            <Breadcrumb parent=\"Viewing Individual Employer Profile Page\" title=\"You're Now Viewing This Employer's Profile Information/Data\" />\n            <Container fluid={true}>\n                <Row>\n                    <Card className='b-l-info b-r-info shadow-wrapper-overview-profile-employer'>\n                        {employerData !== null ? renderContentMain() : <Fragment>\n                            <SkeletonTheme baseColor=\"#c9c9c9\" highlightColor=\"#444\">\n                                <p>\n                                    <Skeleton count={50} />\n                                </p>\n                            </SkeletonTheme>\n                        </Fragment>}\n                    </Card>\n                </Row>\n            </Container>\n        </Fragment>\n    );\n}\nconst mapStateToProps = (state) => {\n    return {\n        userData: state.auth.data\n    }\n}\nexport default connect(mapStateToProps, {  })(MainEmployerProfileDisplayHelper);"]},"metadata":{},"sourceType":"module"}